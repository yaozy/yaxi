<!DOCTYPE html>
<html style="font-size: 100px;">
<head>
    <title>test</title>
    <meta http-equiv=Content-Type content="text/html;charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover">
    <link rel="stylesheet" href="dist/css/default/yaxi.css" />
</head>
<body>

    <script type="text/javascript" src="dist/js/yaxi.js"></script>

    <script type="text/javascript">


        var Store = yaxi.store({
            name: '',
            age: 0
        });

        var Model = yaxi.model({
            width: '320px',
            text: '',
            displayText: function () {

                return this.text;
            },
            submodel: yaxi.model({

                value: 0
            }),
            store: Store
        });


        var model = new Model().$assign({

            text: 11111.1222223,
            submodel: {
                value: 20
            },
            store: [
                { name: 1111, age: 1 },
                { name: 2222, age: 2 }
            ]
        });



        var page = new yaxi.Page().assign({

            // header: 'header',
            header: {
                Class: yaxi.Panel,
                children: [
                    {
                        Class: yaxi.BackButton,
                        text: 'header'
                    }
                ]
            },
            content: {
                Class: yaxi.Panel,
                model: model,
                children: [
                    {
                        Class: yaxi.Segment,
                        value: 50,
                        segments: 2
                    },
                    {
                        Class: yaxi.Repeater,
                        store: 'store',
                        template: {
                            Class: yaxi.Text,
                            line: 'bottom-1px',
                            style: {
                                display: 'block'
                            },
                            bindings: {
                                text: 'name'
                            }
                        }
                    },
                    {
                        Class: yaxi.Number,
                        min: 0,
                        max: 9,
                        value: 1,
                        button: true
                    },
                    {
                        Class: yaxi.TextBox,
                        style: 'background-color:#888888;color:@default3;width:%width;',
                        bindings: {
                            value: 'text',
                            change: 'text'
                        }
                    },
                    {
                        Class: yaxi.Text,
                        text: 123,
                        style: {
                            height: '.2rem',
                            lineHeight: '.2rem',
                            border: '1px solid red',
                            borderRadius: '.2rem'
                        }
                    },
                    // {
                    //     Class: yaxi.Text,
                    //     bindings: {
                    //         text: 'displayText | fixed:2'
                    //     }
                    // },
                    // {
                    //     Class: yaxi.ProgressBar,
                    //     value: 50,
                    //     bindings: {
                    //         value: 'submodel.value'
                    //     }
                    // },
                    {
                        Class: yaxi.GestureInput
                    },
                    {
                        Class: yaxi.IFrame,
                        src: 'iframe.html',
                        events: {
                            message: function (event) {

                                debugger
                            }
                        }
                    }
                ],
                pulldown: function (pulldown) {

                    setTimeout(function () {

                        pulldown.hide();

                    }, 3000);
                },
                // loading: function (loading) {

                //     setTimeout(function () {

                //         loading.hide();

                //     }, 3000);
                // }
            },
            footer: {
                Class: yaxi.Text,
                text: 'footer',
                style: {
                    backgroundColor: yaxi.color.default5,
                    textAlign: 'center'
                }
            }

        });


        page.open();

    
    </script>

</body>
</html>