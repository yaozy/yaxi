var yaxi=Object.create(null);"undefined"!=typeof module&&(module.exports=yaxi,"undefined"!=typeof window&&(window.yaxi=yaxi)),yaxi.impl=Object.create(null),Object.extend=function(t,e){var n,i=this.prototype||null,r=Object.create(i);if(i&&this.sealed)throw new Error(this.typeName+" is sealed, can not be extended!");return e?e.ctor=e:(e=function(){n&&n.apply(this,arguments)}).ctor=this.ctor,e.superclass=i?this:null,e.extend=this.extend||Object.extend,(e.prototype=r).constructor=e,r.__class_init&&r.__class_init(e),t&&(t.call(r,e,i,yaxi),n=e.ctor),e},Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if(1<arguments.length){var i=[].slice.call(arguments,1),r=i.push;return function(){var t=i.slice(0);return 0<arguments.length&&r.apply(t,arguments),n.apply(e||this,t)}}return function(){return n.apply(e||this,arguments)}}),function(){var e=/([yMdhmsSq]+)/g,n={GMT:"toGMTString",ISO:"toISOString",UTC:"toUTCString",date:"toDateString",time:"toTimeString",locale:"toLocaleString","locale-date":"toLocaleDateString","locale-time":"toLocaleTimeString"},r={y:"getFullYear",d:"getDate",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"};this.format=function(t){var i;return t?(i=n[t])?this[i]():(i=this,t.replace(e,function(t,e){var n=e.length;switch(e=e.charAt(0)){case"M":e=i.getMonth()+1;break;case"q":e=(i.getMonth()+3)/3|0;break;default:e=i[r[e]]()}return e=""+e,1===n||(n-=e.length)<=0?e:"0000".substring(0,n)+e})):this.toString()},this.addHour=function(t){return(t|=0)&&this.setTime(this.getTime()+36e5*t),this},this.addMinute=function(t){return(t|=0)&&this.setTime(this.getTime()+6e4*t),this},this.addSecond=function(t){return(t|=0)&&this.setTime(this.getTime()+1e3*t),this},Date.create=function(t){if(t){var e=new Date(t),n=e.valueOf();if(n==n)return e;if("string"==typeof t&&(t=t.match(/\d+/g)))return n=0|t[1],new Date(t[0],0<n?n-1:0,0|t[2],0|t[3],0|t[4],0|t[5])}return null}}.call(Date.prototype),function(t){var e=Object.create(null),i=Object.create(null);e["&"]="&amp;",e["<"]="&lt;",e[">"]="&gt;",e["'"]="&apos;",e['"']="&quot;",i.amp="&",i.lt="<",i.gt=">",i.apos="'",i.quot='"',t.encode=function(t){if(t&&"string"==typeof t){var n=e;return t.replace(/([&<>'"])/g,function(t,e){return n[e]})}return""+t},t.decode=function(t){var n=i;return t&&t.replace(/&(\w+);/g,function(t,e){return n[e]||e})}}(yaxi.html=Object.create(null)),function(t){t.fromString=function(t,e){var n=new Blob([t],{type:"text/plain"}),i=new FileReader;i.onload=function(){e(this.result)},i.readAsArrayBuffer(n)},t.toString=function(t,e){var n=new FileReader;t=new Blob([t]),n.onload=function(){e(this.result)},n.readAsText(t,"utf-8")},t.fromBase64=function(t){for(var e=window.atob(t),n=e.length,i=new Uint8Array(n),r=0;r<n;++r)i[r]=e.charCodeAt(r);return i.buffer},t.toBase64=function(t){for(var e=new Uint8Array(t),n=e.byteLength,i=new Array(n),r=0;r<n;r++)i[r]=String.fromCharCode(e[r]);return window.btoa(i.join(""))}}(yaxi.buffer=Object.create(null)),function(t){var n=t.round,e=(0).toFixed,i=new r(0);function r(t){var e,n;return t&&(t instanceof r?(n=t.d,e=t.v):(t=+t)===t&&(e=t===(0|t)?t:(n=(e=(""+t).split("."))[1])?(n=n.length,+(e[0]+e[1])):(n=0,t))),this.v=e||0,this.d=n||0,this}r.singleton=r.bind(new r(0));var s=(yaxi.Decimal=r).prototype;s.clone=function(){var t=Object.create(s);return t.v=this.v,t.d=this.d,t},s.plus=function(t){var e,n;if(!t)return this;if(t instanceof r)n=t.d,t=t.v;else{if((t=+t)!==t)return this;t!==(0|t)&&(n=(t=(""+t).split("."))[1])?(n=n.length,t=+(t[0]+t[1])):n=0}return(e=this.d)>n?this.v+=t*("1e"+e)/("1e"+n):e<n?(this.d=n,this.v=this.v*("1e"+n)/("1e"+e)+t):this.v+=t,this},s.minus=function(t){return this.plus(-t)},s.mul=function(t){var e;if(!t)return this.v=this.d=0,this;if(!this.v)return this;if(t instanceof r)e=t.d,t=t.v;else{if((t=+t)!==t)return this;t!==(0|t)&&(e=(t=(""+t).split("."))[1])?(e=e.length,t=+(t[0]+t[1])):e=0}return t?(this.v*=t,this.d+=e):this.v=this.d=0,this},s.div=function(t){var e,n;if(!t)return this.v=this.d=0,this;if(!this.v)return this;if(t instanceof r)n=t.d,t=this.v/t.v;else{if((t=+t)!==t)return this.v=this.d=0,this;t!==(0|t)&&(n=(t=(""+t).split("."))[1])?(n=n.length,t=+(t[0]+t[1])):n=0}return t?(t=(e=this.d)!==n?n<e?this.v/(t*("1e"+(e-n))):this.v*("1e"+(n-e))/t:this.v/t,t=r.call(i,t),this.v=t.v,this.d=t.d):this.v=this.d=0,this},s.pow10=function(t){if(t|=0){var e;if(!this.v)return this;0<t?(e=this.d)<t?(this.d=0,this.v*="1e"+(t-e)):t===e?this.d=0:this.d-=t:this.d-=t}return this},s.round=function(t){var e=this.d;return(t|=0)<e&&(this.v=n(this.v/("1e"+(e-t))),this.d=t),this},s.toFixed=function(t){var e=this.d,n=this.v;return 0<e&&(n/="1e"+e),n.toFixed(t)},s.toString=function(t){var e=this.d,n=this.v;return 0<e&&(n/="1e"+e),n.toString(t)},Object.defineProperty(s,"value",{get:s.valueOf=function(){var t=this.d,e=this.v;return 0<t&&(e/="1e"+t),e}});var o=Number.prototype;function a(t,e){return t!=t?0:0<(e|=0)?n(t*(e="1e"+e))/e:n(t)}"1.11"===1.115.toFixed(2)&&(o.toFixed=function(t){return e.call(a(+this,t|=0),t)}),o.round=function(t){return a(+this,t)},t.round=a}(Math),yaxi.impl.property=function(t){var s=Object.defineProperty,o=Object.create(null);return o.boolean=function(t){return!!t&&"false"!==t},o.integer=function(t){return 0|t},o.number=function(t){return+t||0},o.string=function(t){return""+t},o.date=function(t){return Date.create(t)},function(e,t,n){if(/[^\w-]/.test(e))throw new Error('define property error: "'+e+'" not a valid property name!');var i,r=this.$properties;this.$defaults[e]=t=null!=t?t:null,n&&"object"==typeof n?(n.name=e,n.type||(n.type=typeof t),n.kind||(n.kind="field"),n.change=!1!==n.change):n={name:e,type:typeof t,kind:"field",change:!1!==n},n.defaultValue=t,n.get?(n.convert||(n.convert=null),n.set||(n.set=function(){var t=this.typeName;throw new Error('property "'+e+'"'+(t?" of "+t:"")+" is readonly!")})):(n.convert||(n.convert=o[n.type]),n.get=this.__build_get(e,n),n.set||(n.set=this.__build_set(e,n))),s(this,e,r[e]=n),(i=n.alias)&&i!==e&&s(this,i,r[i]=n)}},yaxi.Event=Object.extend.call({},function(t){this.type="",this.target=null,this.cancelBubble=!1,this.defaultPrevented=!1,this.stop=function(){this.cancelBubble=!0},this.prevent=function(){this.defaultPrevented=!0}},function(t,e){this.type=t,e&&(this.detail=e)}),yaxi.EventTarget=Object.extend(function(t){var a=yaxi.Event,e=this;this.on=yaxi.on=function(t,e){var n,i;t&&"function"==typeof e&&((n=this.__event_keys)?(i=n[t])?i.push(e):i=n[t]=[e]:i=(n=this.__event_keys={})[t]=[e],(e=this.__event_change)&&this.__event_change(t,i,!0))},this.once=yaxi.once=function(n,i){"function"==typeof i&&this.on(n,function t(e){i.call(this,e),this.off(n,t)})},this.off=yaxi.off=function(t,e){var n,i=this.__event_keys;if(i)if(t){if(n=i[t]){if(e){for(var r=n.length;r--;)n[r]===e&&n.splice(r,1);n[0]||(i[t]=null)}else n.length=0,i[t]=null;(e=this.__event_change)&&e.call(this,t,n,!1)}}else for(t in i)this.off(t)},this.trigger=yaxi.trigger=function(t,e){var n,i,r,s,o=this;if(!t)return!1;"object"==typeof t?r=t.type:t=new a(r=""+t),t.target=this,e&&(t.detail=e);do{if((n=o.__event_keys)&&(n=n[r]))for(i=0;s=n[i++];)if(!1===s.call(t.source=o,t)&&(t.defaultPrevented=!0),t.cancelBubble)return!t.defaultPrevented}while(o=o.parent);return!t||!t.defaultPrevented},this.hasEvent=yaxi.hasEvent=function(t,e){var n,i=this.__event_keys;if(i&&(n=i[t])&&n[0]){if(!e)return!0;for(var r=n.length;r--;)if(n[r]===e)return!0}return!1},t.mixin=function(t){t.on=e.on,t.once=e.once,t.off=e.off,t.trigger=e.trigger,t.hasEvent=e.hasEvent}}),yaxi.Stream=Object.extend(function(s){s.fromPromise=function(t){var e=new s;return"function"==typeof t&&(t=t()),t.then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e},s.interval=function(e){var n=new s,i=0;return function t(){setTimeout(function(){n.resolve(i++),t()},0|e)}(),n},s.all=function(){for(var t,n=new s,i=[],e=0,r=0;t=arguments[e];)r++,function(e){t.then(function(t){i[e]=t,--r||n.resolve(i)}).catch(function(t){n.reject(t)})}(e++);return n},this.registry=function(t){var e=this.__next=new s,n=this.__cache;if(this.__fn=t,n){for(;0<n.length;)try{t.call(this,n.shift(),e)}catch(t){this.reject(t)}this.__cache=null}return e},this.resolve=function(t){var e,n=this.__next;if(n)if(e=this.__fn)try{e.call(this,t,n)}catch(t){this.reject(t)}else n.resolve(t);else(e=this.__cache)?e.push(t):this.__cache=[t]},this.reject=function(e){var t=this.__fail,n=this.__next;if(t)try{if(!1===t.call(this,e,n))return!1}catch(t){e=t}if(!n)throw e;n.reject(e)},this.then=function(i){return this.registry(function(t,e){var n;!i||void 0!==(n=i(t))&&(t=n),e.resolve(t)})},this.combine=function(t){return this.registry(function(n,i){t.then(function(t){var e=n;e instanceof Array?e.push(t):e=[n,t],i.resolve(e)}).catch(function(t){i.reject(t)})})},this.map=function(n){return this.registry(function(t,e){e.resolve(n(t))})},this.json=function(n){return this.registry(function(t,e){"string"==typeof t&&(t=JSON.parse(t)),n&&(t=n(t)),e.resolve(t)})},this.catch=function(t){return this.__fail=t,this.__next=new s},this.wait=function(n){var i,r=[];return this.registry(function(t,e){i?r.push(t):i=setTimeout(function(){e.resolve(r),i=0,r=[]},0|n)})},this.delay=function(n){return this.registry(function(t,e){setTimeout(function(){e.resolve(t)},0|n)})},this.debounce=function(n){var i;return this.registry(function(t,e){i&&clearTimeout(i),i=setTimeout(function(){e.resolve(t),i=0},0|n)})},this.throttle=function(n){var i;return this.registry(function(t,e){i||(e.resolve(t),i=setTimeout(function(){i=0},0|n))})}},function(t){0<arguments.length&&("function"==typeof t?t(this):this.__cache=[t])}),yaxi.http=Object.extend.call({},function(h){function l(t){if(!t)return"";var e,n,i,r=[],s=encodeURIComponent;for(i in t)if(e=t[i],i=s(i),null!==e)switch(typeof e){case"undefined":r.push(i,"=&");break;case"boolean":case"number":r.push(i,"=",e,"&");break;case"string":case"function":r.push(i,"=",s(e),"&");break;default:if(e instanceof Array)for(var o=0,a=e.length;o<a;o++)void 0===(n=e[o])?r.push(i,"=&"):r.push(i,"=",s(n),"&");else r.push(i,"=",l(e),"&")}else r.push(i,"=null","&");return r.pop(),r.join("")}function r(t,e,n,i,r){return h.mock?(s=t,o=e,a=n,c=new yaxi.Stream,setTimeout(function(){try{var t=require("../../mock/"+o);"function"==typeof t?c.resolve(t(s,a)):c.resolve(t)}catch(t){console.error(t),c.reject(o+"\n"+t)}},500),c):(!n||n instanceof FormData||(r||/GET|HEAD|OPTIONS/i.test(t)?(e=e+(0<=e.indexOf("?")?"&":"?")+l(n),n=null):"application/x-www-form-urlencoded"===i.contentType?n=l(n):"string"!=typeof n&&(i.contentType||(i.contentType="application/json"),n=JSON.stringify(n))),i.method=t,i.url=e,i.data=n,i.timeout=i.timeout||h.timeout,yaxi.__ajax_send(i));var s,o,a,c}h.timeout=1e4,h.send=function(t,e,n,i){return r(t?t.toUpperCase():"GET",e,n,i||{})},h.options=function(t,e,n){return r("OPTIONS",t,e,n||{},!0)},h.head=function(t,e,n){return r("HEAD",t,e,n||{},!0)},h.get=function(t,e,n){return r("GET",t,e,n||{},!0)},h.post=function(t,e,n){return r("POST",t,e,n||{})},h.put=function(t,e,n){return r("PUT",t,e,n||{})},h.delete=function(t,e,n){return r("DELETE",t,e,n||{})},h.trace=function(t,e,n){return r("TRACE",t,e,n||{})},h.connect=function(t,e,n){return r("CONNECT",t,e,n||{})}}),function(t){var c=Object.create(null),n=Object.create(null),i=t.Decimal.singleton;function r(t){return t}function e(t){var e=t&&function(t){for(var e,n,i=t.split("|"),r=[],s=0,o=i.length;s<o;s++)if(i[s]&&(e=i[s].match(/"(?:[^"]|\\")"|[^:\s]+/g))&&(n=e[0])){if(!(n=c[n]))throw new Error('compile pipe error: not exist pipe function "'+e[0]+'"!');e[0]=null;for(var a=e.length-1;0<a;a--)'"'===(t=e[a])[0]&&'"'===t[t.length-1]&&(e[a]=t.slice(1,-1).replace(/\\"/g,'"'));r.push(n,e)}return r}(t);return n[t]=e&&e[0]?function(t){for(var e,n,i=0;e=this[i++];)(n=this[i++])[0]=t,t=e.apply(this,n);return t}.bind(e):r}c.round=function(t,e){return i(t).round(e)},c.fixed=function(t,e){return i(t).toFixed(e)},t.pipe=function(t,e){t&&"function"==typeof e&&(c[t]=e)},t.pipe.compile=function(t){return n[t]||e(t)}}(yaxi),function(){var o=Object.create,a=Object.defineProperty,s=yaxi.pipe.compile,c=yaxi.$controls||(yaxi.$controls=o(null)),r=null,h=o(null),l=this,u=yaxi.impl.property();function n(t,e,n,i){var r,s;(r=t.__bindings)?(s=r[e])?s.push(n):r[e]=[n]:(t.__bindings=o(null))[e]=[n],(r=i.__bindings)?r.push(e,t):i.__bindings=[e,t]}function f(t){for(var e,n,i,r=0;e=t[r++];)(n=c[e.control])?(i=e.fn)&&(n[e.property]=i(s)):t.splice(--r,1)}function d(i,r){return i="__sub_"+i,{get:function(){return this[i]||(this[i]=new r(this))},set:function(t){var e=this[i];if(t)if(t=t.$storage||t,e)for(var n in t)e[n]=t[n];else(this[i]=new r(this)).$load(t);else e&&e.$clear()}}}function p(n,i){return n="__sub_"+n,{get:function(){return this[n]||(this[n]=new i(this))},set:function(t){var e=this[n];e?0<e.length&&e.clear():e=this[n]=new i(this),t&&0<t.length&&e.push.apply(e,t)}}}yaxi.model=function(t){var e=o,n=e(l),i=n.$subkeys=e(null),r=n.$defaults=e(null);function s(t){this.$parent=t||null,this.$storage=e(r)}return n.$properties=e(null),s.model=n.__model_type=1,function(t,e,n){var i,r,s;for(s in e){if("$"===s[0]||"_"===s[0]&&"_"===s[1])throw new Error('define model error: model field can not use "$" or "__" to begin!');if(i=e[s])switch(typeof i){case"function":(r=i.model)?(a(t,s,(1===r?d:p)(s,i)),n[s]=r):a(t,s,{get:i});break;case"object":i instanceof Array?a(t,s,p(s,r=function(t){var e="define model error: ",n=t[0],i=t[1],r=t[2];if(!n||"object"!=typeof n)throw new Error(e+"the first item of sub array model must be a none empty object!");if(null!=i&&"string"!=typeof i)throw new Error(e+"the second item for sub array model must be a string or null!");if(null==r||"string"==typeof r)return yaxi.arrayModel(n,i,r);throw new Error(e+"the third item for sub array model must be a string or null!")}(i))):a(t,s,d(s,r=yaxi.model(i))),n[s]=r;break;default:u.call(t,s,i)}else u.call(t,s,i)}}(s.prototype=n,t,i),s},this.__build_get=function(e){return function(){var t;return r&&(t=c[r.control])&&n(this,e,r,t),this.$storage[e]}},this.__build_set=function(i,t){var r=h,s=t.convert;return function(t){var e,n=this.$storage;if(s&&(t=s(t)),t===n[i]||r[i]&&!1===this.$notify(i,t))return this;n[i]=t,(e=this.__bindings)&&(e=e[i])&&f(e)}},this.__index=-1,a(this,"$index",{get:function(){var t;return r&&(t=c[r.control])&&n(this,"$index",r,t),this.__index},set:function(t){var e;this.__index!==(t|=0)&&(this.__index=t,(e=this.__bindings)&&(e=e.$index)&&f(e))}}),a(this,"$top",{get:function(){for(var t,e=this;t=e.$parent;)e=t;return e}}),yaxi.$bind=function(t){try{var e,n,i=this.uuid;for(n in t)if(e=t[n]){if("function"!=typeof e)throw new Error('bind error: binding expression "'+e+'" is not a function!');"onchange"===n?this.__binding_change=e:(r={control:i,property:n,fn:e},this[n]=e(s))}}finally{r=null}},this.$unbind=function(t,e){var n=this.__bindings;if(n=n&&n[t])for(var i=n.length;i--;)if(n[i].control===e){n.splice(i,1);break}},this.$watch=function(t,e){var n,i;t&&"function"==typeof e&&(++h[t]||(h[t]=1),(n=this.__watches)?(i=n[t])?i.push(e):n[t]=[e]:(this.__watches||(this.__watches={}))[t]=[e])},this.$unwatch=function(t,e){var n,i=this.__watches;if(i)if("function"==typeof e){if(i&&(n=i[t]))for(var r=n.length;r--;)if(n[r]===e)return n.splice(r,1),void h[t]--}else if(t)(n=i[t])&&0<n.length&&(h[t]-=n.length,n.length=0,delete i[t]);else{for(t in i)(n=i[t])&&0<n.length&&(h[t]-=n.length,n.length=0);this.__watches=null}},this.$notify=function(t,e){for(var n,i,r,s,o=this;o;){if((n=this.__watches)&&(i=n[t]))for(r=0;s=i[r++];)if(!1===s.call(o,this,e))return!1;o=o.$parent}},this.$sync=function(t){var e=this.__bindings;(e=e&&e[t])&&f(e)},this.$load=function(t){if(t){var e,n,i=this.$storage||(this.$storage={}),r=this.$properties;for(n in t)(e=r[n])&&(e=e.convert)?i[n]=e.call(this,t[n]):this[n]=t[n]}},this.$clear=function(t){var e,n;if(this.$storage=o(this.$defaults),t&&(e=this.$subkeys))for(var i in e)(n=this["__sub_"+i])&&(1===e[i]?n.$clear():n.clear())}}.call(Object.create(null)),function(){var h,i=Object.create,e=Array.prototype,n=e.push,s=e.splice,o=!1,r=this;function a(t,e,n){for(var i,r=[],s=t.$Model,o=t.$parent,a=e.length;n<a;)(i=new s(o)).$load(e[n++]),r.push(i);return r}function c(t,e){var n;for(e|=0;n=t[e];){var i=n.__index;null==i?n.__index=e:i!==e&&(n.$index=e),e++}}function l(t,e,n,i){var r,s,o=h=h||yaxi.$controls;if(r=t.__bindings)for(var a=0,c=r.length;a<c;a++)(s=o[r[a]])&&s[e](n,i)}function u(t){var e;if(e=t.__bindings)for(var n in t.__bindings=null,e)for(var i=e[n],r=i.length;r--;)i[r].model=null;t.$parent=t.__bindings=null}yaxi.arrayModel=function(t){var e=i(r);function n(t){this.$parent=t||null}return t=t||{},e.$Model=yaxi.model(t),n.model=e.__model_type=2,n.prototype=e,n},this.__length=0,Object.defineProperty(this,"length",{get:function(){return this.__length},set:function(t){if(!o)throw new Error("the length of array mode is readonly!");this.__length=t,o=!1}}),this.indexOf=e.indexOf,this.lastIndexOf=e.lastIndexOf,this.forEach=e.forEach,this.map=e.map,this.reduce=e.reduce,this.reduceRight=e.reduceRight,this.set=function(t,e){var n;0<=(t|=0)&&this[t]&&((n=new this.$Model(this.$parent)).$load(e),this[t]=n,l(this,"__on_set",t,n))},this.push=function(){var t,e=arguments.length;return 0<e&&(t=a(this,arguments,0),o=!0,n.apply(this,t),c(this,this.__length-e),l(this,"__on_insert",-1,t)),this.__length},this.pop=function(){var t;return 0<this.__length&&(o=!0,(t=e.pop.call(this))&&(u(t),l(this,"__on_remove",-1,1))),t},this.unshift=function(){var t;return 0<arguments.length&&(t=a(this,arguments,0),o=!0,e.unshift.apply(this,t),c(this,0),l(this,"__on_insert",0,t)),this.__length},this.shift=function(){var t;return 0<this.__length&&(o=!0,(t=e.shift.call(this))&&(u(t),l(this,"__on_remove",0,1),c(this,0))),t},this.splice=function(t,e){var n,i;if((t|=0)<0&&(t+=this.length)<0&&(t=0),0<(n=2<arguments.length?(i=a(this,arguments,2),o=!0,s.apply(this,[t,e].concat(i))):(o=!0,s.apply(this,arguments))).length){for(var r=n.length;r--;)u(n[r]);l(this,"__on_remove",t,n.length)}return i&&l(this,"__on_insert",t,i),c(this,t),n},this.clear=function(){var t;if(0<this.__length){o=!0;for(var e=(t=s.call(this,0)).length;e--;)u(t[e]);l(this,"__on_clear")}return t},this.sort=function(t){e.sort.call(this,t),c(this,0),l(this,"__on_sort",0)},this.reverse=function(){e.reverse.call(this),c(this,0),l(this,"__on_sort",1)}}.call(Object.create(null)),function(t){var e=Object.create,n=t.colors||(t.colors=e(null)),r=t.color=n.default=e(null),i=r.bg=e(null),s=r.font=e(null),o=r.border=e(null);i.level1="#ffffff",i.level2="#f7f7f7",i.level3="#cccccc",i.level4="#888888",i.level5="#555555",i.important="#c40606",i.primary="#1c86ee",i.second="#5eaadd",i.success="#71c04a",i.warning="#e89518",i.danger="#ff6c6c",i.disabled="#eeeeee",s.level1="#31313d",s.level2="#6c768b",s.level3="#b8c0de",s.level4="#cccccc",s.level5="#f7f7f7",s.important="#c40606",s.primary="#1c86ee",s.second="#5eaadd",s.success="#71c04a",s.warning="#e89518",s.danger="#ff6c6c",s.disabled="#999999",o.level1="#31313d",o.level2="#6c768b",o.level3="#b8c0de",o.level4="#cccccc",o.level5="#ffffff",o.important="#c40606",o.primary="#1c86ee",o.second="#5eaadd",o.success="#71c04a",o.warning="#e89518",o.danger="#ff6c6c",o.disabled="#999999",r.mask="#000000",r.shadow="#888888",function t(e,n){if("object"!=typeof n)e&&(r[e]=n,r[e+"-color"]=n);else for(var i in e&&(e+="-"),n)t(e+i,n[i])}("",r)}(yaxi),Object.extend.call(Array,function(s,t){var l=Object.create,n=yaxi.classes=l(null),o=l(null);function a(t){for(var e,n,i=t.match(/("[^"]*"|'[^']*'|>>|<<|[<>#.@*\[\]]|[!=]==?|[\w-]+)/g),r=[],s=0;e=i[s++];)if("<"===(n=e[0])||">"===n)if(r.push(e),n=i[s++])switch(n){case"@":case"#":case".":((e=i[s++])[0]<"0"||"z"<e[0])&&c(n,s-2," , "+n+' must be followed alphabet or number or "_"'),r.push([n,e]);break;case"*":r.push(n);break;case"[":"=="!==(e=i[s+1])&&"!="!==e&&"==="!==e&&"!=="!==e?c(n,s,' [] only support "==" or "!=" or "===" or "!=="'):"]"!==i[s+3]&&c(n,s," [] not properly closed"),r.push(["[]",e,function(t){var e;switch(t){case"undefined":return;case"null":return null;case"true":return!0;case"false":return!1}return"'"!==t[0]&&'"'!==t[0]?(e=+t)==e?e:t:t.substring(0,t.length-1)}(i[s+2])]),s+=4;break;default:n[0]<"A"||"z"<n[0]?c(e,s,e+' must be followed "@" or "#" or "." or "[x==y]" or "*" or a type name'):r.push(["",n])}else c(e,s," ");else c(e,s,'must use "<<" or "<" or ">>" or ">" as relation symbol');return o[t]=r}function c(t,e,n){throw new Error("selector is invalid, "+t+" at "+e+", "+n+"!")}function h(t,e){switch(e[0]){case"@":return t.$storage.key===e[1];case"":return t instanceof(n[e[1]]||Boolean);case"#":return t.$storage.id===e[1];case"[":return function(t,e){var n=t[e[0]],i=e[2];switch(e[1]){case"==":return n==i;case"!=":return n!=i;case"===":return n===i;case"!==":return n!==i;default:return}}(t,e);case"*":return 1}}function u(t,e,n){if(t=t.parent)if(n){do{if(h(t,e))return t}while(t=t.parent)}else if(h(t,e))return t}function f(t,e,n){for(var i,r,s=0;i=t[s++];){if(h(i,e))return i;if(n&&(r=i.__children)&&r[0]&&(i=f(r,e,!0)))return i}}function d(t,e,n,i,r){for(var s,o,a=0;s=t[a++];)h(s,n)&&!r[o=s.uuid]&&(r[o]=!0,e.push(s)),i&&(o=s.__children)&&o[0]&&d(o,e,n,!0,r)}"undefined"!=typeof jiac&&(jiac.classes=n),yaxi.impl.find=function(){this.find=function(t){return function(t,e){var n;if(e&&(n=o[e]||a(e))&&n[0])return function t(e,n,i){var r=n[i+1];var s;switch(n[i]){case"<":e=u(e,r,!1);break;case"<<":e=u(e,r,!0);break;case">":e=(s=e.__children)&&s[0]&&f(s,r,!1)||null;break;case">>":e=(s=e.__children)&&s[0]&&f(s,r,!0)||null}if(e&&n[i+=2])return t(e,n,i);return e||null}(t,n,0);return null}(this,t)}},yaxi.impl.query=function(){this.parentToThis=function(t){var e;if(!t||t===this)return null;for(;(e=t.parent)&&e!==this;)t=e;return t||null},this.query=function(t){return function(t,e){var n,i,r=new s;e&&(i=t.__children)&&i[0]&&(n=o[e]||a(e))&&n[0]&&0<(i=function t(e,n,i){var r=l(null);var s=[];var o=n[i+1];var a=0;var c,h;switch(n[i]){case"<":for(;c=e[a++];)(c=u(c,o,!1))&&!r[h=c.uuid]&&(r[h]=!0,s.push(c));break;case"<<":for(;c=e[a++];)(c=u(c,o,!0))&&!r[h=c.uuid]&&(r[h]=!0,s.push(c));break;case">":for(;c=e[a++];)(h=c.__children)&&h[0]&&d(h,s,o,!1,r);break;case">>":for(;c=e[a++];)(h=c.__children)&&h[0]&&d(h,s,o,!0,r)}if(0<s.length&&n[i+=2])return t(s,n,i);return s}([t],n,0)).length&&r.push.apply(r,i);return r}(this,t)}},this.filter=function(t){if("function"==typeof t)for(var e=this.length;e--;)t(this[e])||this.splice(e,1);else if(t=o[t]||a(t))for(e=this.length;e--;)this[e].__find(t,0)||this.splice(e,1);return this},this.get=function(t){for(var e,n=0;e=this[n++];)if(void 0!==(e=e[t]))return e},this.set=function(t,e){for(var n,i=0;n=this[i++];)n[t]=e;return this},this.call=function(t,e){for(var n,i,r=0;n=this[r++];)(i=n[t])&&i.apply(n,e);return this},this.on=function(t,e){for(var n,i=0;n=this[i++];)n.on(t,e);return this},this.once=function(t,e){for(var n,i=0;n=this[i++];)n.once(t,e);return this},this.off=function(t,e){for(var n,i=0;n=this[i++];)n.off(t,e);return this},this.trigger=function(t){for(var e,n=0;e=this[n++];)e.trigger(t);return this}}),yaxi.Control=Object.extend.call({},function(t,e,i){var h=Object.create,n=i.EventTarget.prototype,r=i.classes,s=i.__patches=[],o=0;t.allowParent=!0,t.renderer=y,r[t.typeName=this.typeName="Control"]=r.control=t;var a=i.patch=function(t){var e;for(t.__dirty=!0;e=t.parent;){if(e.__dirty)return;e.__dirty=!0,t=e}s.push(t),o=o||setTimeout(c,0)};function c(){i.__on_page_patch(s),o=s.length=0}function l(t){throw new Error("create control error: "+t)}var u=i.__check_parent=function(t,e){var n;t||l("type can not be null!"),e||l("parent can not be null!"),(n=t.allowParent)?!0===n||n(e)||l(t.typeName+" can not be a sub type of "+e.typeName+"!"):(n=t.typeName)?l(n+" can not be a sub type!"):l(JSON.stringify(t).substring(0,20)+"... not a valid type!")};this.$createSubControl=function(t,e){var n,i;if(t){if(t.$storage&&(n=t.constructor))return u(n,this),(i=t).parent&&i.parent!==this&&i.remove(),i.parent=this,i;if(n=t[0])return"string"!=typeof n||(n=r[n])||l('"'+t[0]+"\" doesn't register!"),u(n,this),(i=new n).parent=this,i.load(t,e),i}l('no options, eg: ["box", { theme: "primary" }, [[...], ...]]')},this.$defaults=h(null),this.$properties=h(null),this.$renderer=h(null),this.__dirty=!0,this.$property=i.impl.property(),this.__build_get=function(t,e){return e.change?function(){return(this.__changes||this.$storage)[t]}:function(){return this.$storage[t]}},this.__build_set=function(t,e){return(e.change?function(i,r){var s=h;return function(t){var e,n;t=r?r.call(this,t):t,(n=this.__changes)?t!==n[i]&&(n[i]=t,this.__dirty||a(this)):t!==(e=this.$storage)[i]&&((this.__changes=s(e))[i]=t,this.__dirty||a(this))}}:function(e,n){return n?function(t){this.$storage[e]=n.call(this,t)}:function(t){this.$storage[e]=t}})(t,e.convert)};var f=1,d=i.$controls||(i.$controls=h(null));function p(t,e){var n;if(n=t.__save_status){for(var i in n){var r=n[i];t[i]===r[1]&&(t[i]=r[0])}n=null}if(e)for(var i in n={},e){var s=t[i];t[i]=e[i],n[i]=[s,t[i]]}t.__save_status=n}this.$property("uuid",0,{get:function(){return this.__uuid||((d[f]=this).__uuid=f++)}}),this.$property("id","",!1),this.$class="yx-control",this.$property("theme","",{kind:"class",data:"yx-theme-"}),this.$property("hidden",!1),this.$property("disabled",!1),this.$property("selected",!1,{change:!1,get:function(){return this.__selected||!1},set:function(t){(t=!!t)!==this.__selected&&((this.__selected=t)&&(t=this.__selected_status)?p(this,t):this.__save_status&&p(this))}}),this.$property("selectedStatus",null,{change:!1,alias:"selected-status",get:function(){return this.__selected_status||null},set:function(t){this.__selected_status=t,this.__selected&&p(this,t)}}),this.$property("key","",!1),this.$property("tag",null,!1),this.parent=null,this.$property("root",null,{get:function(){for(var t,e=this;t=e.parent;)e=t;return e}});var _=function(t,e){this.$property(t,"",{alias:t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()}),kind:"style",data:0|e,style:!0})}.bind(this);function y(t){var e=this.prototype,n=this.superclass;t.call(e,e.$renderer,n&&n.prototype||null,i)}function g(t){var e;return t&&(e=this.prototype,r[this.typeName=e.typeName=t]=this,r[t=t.toLowerCase()]=this,e.$class=e.$class+" yx-"+t),this}_("position"),_("overflow"),_("overflow-x"),_("overflow-y"),_("top",1),_("right",1),_("bottom",1),_("left",1),_("width",1),_("height",1),_("min-width",1),_("max-width",1),_("min-height",1),_("max-height",1),_("margin",1),_("margin-top",1),_("margin-right",1),_("margin-bottom",1),_("margin-left",1),_("border",3),_("border-top",3),_("border-right",3),_("border-bottom",3),_("border-left",3),_("padding",1),_("padding-top",1),_("padding-right",1),_("padding-bottom",1),_("padding-left",1),_("flex-direction"),_("flex-wrap"),_("flex-flow"),_("justify-content"),_("align-items"),_("align-content"),_("order"),_("flex-grow"),_("flex-shrink"),_("flex-basis"),_("flex"),_("align-self"),_("justify-self"),_("z-index"),_("text-align"),_("outline",3),_("outline-color",2),_("outline-style"),_("outline-offset",1),_("outline-width",1),_("box-shadow",3),_("border-width",1),_("border-top-width",1),_("border-right-width",1),_("border-bottom-width",1),_("border-left-width",1),_("border-style"),_("border-top-style"),_("border-right-style"),_("border-bottom-style"),_("border-left-style"),_("border-color",2),_("border-top-color",2),_("border-right-color",2),_("border-bottom-color",2),_("border-left-color",2),_("border-radius",1),_("border-top-left-radius",1),_("border-top-right-radius",1),_("border-bottom-left-radius",1),_("border-bottom-right-radius",1),_("direction"),_("opacity"),_("background",2),_("background-color",2),_("background-image"),_("background-repeat"),_("background-position",1),_("color",2),_("font",3),_("font-style"),_("font-variant"),_("font-weight"),_("font-size",1),_("line-height",1),_("font-family"),_("white-space",1),_("word-spacing",1),_("letter-spacing",1),_("text-indent"),_("text-decoration"),_("text-overflow"),_("text-shadow",3),_("transform",1),_("transform-origin",1),_("transform-style"),_("transform-box"),_("transition"),_("transition-delay"),_("transition-duration"),_("transition-property"),_("transition-timing-function"),_("animation"),_("animation-delay"),_("animation-direction"),_("animation-duration"),_("animation-fill-mode"),_("animation-iteration-count"),_("animation-name"),_("animation-play-state"),_("animation-timing-function"),this.load=function(t,e){var n,i,r,s,o,a;if(n=t[1])for(var c in i=this.$properties,n)a=n[c],(r=i[c])?(c=r.name,(o=r.convert)?(a=o.call(this,a),c&&(r.change?(s=s||(this.__changes=h(this.$storage)))[c]=a:this.$storage[c]=a)):!1!==o&&(this[c]=a)):this[c]=a;return(a=t[2])&&(o=this.__load_subdata)&&o.call(this,a,e),this},this.$properties.bindings={convert:i.$bind},this.$push=function(t){var e;(e=this.__b_onchange)&&e(t)},this.pipe=i.pipe.compile,i.impl.find.call(this),this.on=n.on,this.once=n.once,this.off=n.off,this.trigger=n.trigger,this.hasEvent=n.hasEvent,i.__content_count=0,this.$properties.events={convert:function(t){if(0<i.__content_count)throw new Error("register event error: no support event inside the content control!");for(var e in t)this.on(e,t[e])}},this.findHasKey=function(){var t=this;do{if(t.key)return t}while(t=t.parent)},this.findHasTag=function(){var t=this;do{if(null!=t.tag)return t}while(t=t.parent)},this.findEventTarget=function(){for(var t=this,e=t;e;)e.disabled?t=e.parent:e.__is_content&&(t=e),e=e.parent;return t},this.remove=function(){var t,e,n=this.parent;n&&(t=n.__children)&&0<=(e=t.indexOf(this))&&t.splice(e,1)},this.destroy=function(){var t,e;if((e=this.__uuid)&&delete d[e],t=this.__bindings){for(var n=t.length;n--;)t[n--].$unbind(t[n],e);this.__bindings=null}this.__event_keys&&this.off(),this.$view=null,this.ondestroy&&this.ondestroy(),this.parent=this.__model=this.__b_onchange=this.__d_scope=null},this.destroyChildren=function(t){for(var e,n=t.length;n--;)(e=t[n])&&!e.parent&&e.destroy()},this.__class_init=function(t){t.allowParent=!0,t.register=g,t.renderer=y,this.$defaults=h(this.$defaults),this.$properties=h(this.$properties),this.$renderer=h(this.$renderer)}},function(){var t;this.$storage=Object.create(this.$defaults),(t=this.init)&&t.apply(this,arguments)}),yaxi.Collection=Object.extend.call({},function(t){var e=Array.prototype,n=e.push,i=e.slice,r=e.splice,s=yaxi.patch,o=yaxi.$controls,a=!1;function c(t){t.__last=i.call(t,0),(t=o[t.$uuid])&&(t.__dirty||s(t))}function h(t,e,n,i){var r,s=e.length;for((n|=0)<0&&(n=0),i=i||[];n<s;)(r=t.$createSubControl(e[n++]))&&i.push(r);return i}this.__length=0,Object.defineProperty(this,"length",{get:function(){return this.__length},set:function(t){if(!a)throw new Error("the length of collection is readonly!");a=!1,this.__length=t}}),this.indexOf=e.indexOf,this.lastIndexOf=e.lastIndexOf,this.forEach=e.forEach,this.map=e.map,this.reduce=e.reduce,this.reduceRight=e.reduceRight,this.load=function(t,e){var n=o[this.$uuid],i=t.length;0<this.__length&&this.clear();for(var r=0;r<i;r++)this[r]=n.$createSubControl(t[r],e);this.__last||c(this),this.__length=i},this.set=function(t,e){0<=(t|=0)&&this.__length>t&&(e=o[this.$uuid].$createSubControl(e),this.__last||c(),this[t]=e)},this.push=function(){if(0<arguments.length){var t=h(o[this.$uuid],arguments,0,[]);return this.__last||c(this),a=!0,n.apply(this,t)}return this.__length},this.pop=function(){var t;return 0<this.__length&&(this.__last||c(this),a=!0,(t=e.pop.call(this))&&(t.parent=null)),t},this.unshift=function(){if(0<arguments.length){var t=h(o[this.$uuid],arguments,0,[]);return this.__last||c(this),a=!0,e.unshift.apply(this,t)}return this.__length},this.shift=function(){var t;return 0<this.__length&&(this.__last||c(this),a=!0,(t=e.shift.call(this))&&(t.parent=null)),t},this.splice=function(t,e){var n;if(this.__last||c(this),a=!0,0<(n=2<arguments.length?(n=h(o[this.$uuid],arguments,2,[t,e]),r.apply(this,n)):r.apply(this,arguments)).length)for(var i=n.length;i--;)n[i].parent=null;return n},this.clear=function(){var t;if(0<this.__length){this.__last||c(this),this.__last.clear=!0,a=!0;for(var e=(t=r.call(this,0)).length;e--;)t[e].parent=null}return t||[]},this.sort=function(t){return 0<this.__length&&(this.__last||c(this),e.sort.call(this,t)),this},this.reverse=function(){return 0<this.__length&&(this.__last||c(this),e.reverse.call(this)),this},this.__insert=function(t,e){this.__last||c(this),a=!0,t<0?e.push.apply(this,e):(e.unshift(t,0),e.splice.apply(this,e))}},function(t){this.$uuid=t.uuid}),yaxi.ContentControl=yaxi.Control.extend(function(t,n,r){var e=Array,s=r.classes,o=(r.patch,r.__check_parent);function a(t,e){var n,i=e[0];if("string"==typeof i&&!(i=s[i]))throw new Error('create control error: class "'+e[0]+"\" doesn't register!");return i?o(i,t):i=r.Text,(n=new i).parent=t,n.load(e),n}this.__is_content=!0,this.$property("content",null,{convert:function(t){var e=this.__content;if(e&&(this.__content=null,"object"==typeof e))for(var n=e.length;n--;)e[n].destroy();return t}}),this.__load_subdata=function(t){this.content=t},this.__init_content=function(){var t=this.__content;if(t)return t;if((t=this.content)instanceof e)try{r.__content_count++,t=t[0]instanceof e?function(t,e){for(var n=e.length,i=new Array(n),r=0;r<n;r++)i[r]=a(t,e[r]);return i}(this,t):[a(this,t)]}finally{r.__content_count--}else t=""+t;return this.__content=t},this.destroy=function(){var t=this.__content;if(t&&"string"!=typeof t)for(var e=t.length;e--;)t[e].destroy();n.destroy.call(this)}}),yaxi.Box=yaxi.Control.extend(function(t,n){this.$property("layout","",{kind:"class",data:"yx-layout-"}),this.$property("children",null,{get:function(){return this.__children},set:function(t){var e=this.__children;0<e.length&&e.clear(),t&&0<t.length&&e.push.apply(e,t)}}),this.$properties.children={convert:function(t){t&&0<t.length&&this.__children.load(t)}},this.__load_subdata=function(t,e){this.__children.load(t,e)},yaxi.impl.query.call(this),this.destroy=function(){for(var t=this.__children,e=t.length;e--;)t[e].destroy();n.destroy.call(this)}},function(){var t;this.$storage=Object.create(this.$defaults),this.__children=new yaxi.Collection(this),(t=this.init)&&t.apply(this,arguments)}).register("Box"),yaxi.Button=yaxi.ContentControl.extend(function(t,e){this.__no_content="content is empty",this.$property("layout","",{kind:"class",data:"yx-layout-"})},function(){yaxi.Control.apply(this,arguments)}).register("Button"),yaxi.DataBox=yaxi.Control.extend(function(t,n){function e(){throw new Error("BataBox control doesn't supports children, please use data and template!")}function r(t){throw new Error("databox load fault: "+t)}function i(t,e,n,i){switch(t.type){case"data":s(t,e,n,i);break;case"model":2!==e.__model_type&&r("data must be a array model when model type!"),function(t,e,n,i){var r;(r=t.__array_model)?r!==e&&(c(t,r),a(t,e)):a(t,e);s(t,e,n,i)}(t,e,n,i);break;default:r("only support data or model type!")}}function o(t,e,n,i){var r=[];return i=i||function(t){var e;for(;t;){if(e=t.__d_scope)return e;t=t.parent}return[]}(t),n(function(t,e,n,i,r){var s;e=e.concat(n,i),(s=this.$createSubControl(r,e))&&(s.__d_scope=e,t.push(s))}.bind(t,r,i),e,i),r}function s(t,e,n,i){var r=t.__children;0<r.length&&r.clear();var s=o(t,e,n,i);0<s.length&&r.push.apply(r,s)}function a(t,e){var n;(n=e.__bindings)?n.push(t.uuid):e.__bindings=[t.uuid],t.__array_model=e}function c(t,e){var n,i;!(n=e.__bindings)||0<=(i=n.indexOf(t.uuid))&&n.splice(i,1),t.__array_model=null}function h(t,e){var n;return t=t.__d_scope,e=e.__d_scope,t=t[n=t.length-1].__index,(e=e[n].__index)<t?1:t<e?-1:0}this.$property("layout","",{kind:"class",data:"yx-layout-"}),this.$property("template",null,{change:!1,get:function(){return this.__template||null},set:function(t){if("function"!=typeof t)throw new Error("databox template must be a template function!");this.__template=t}}),this.$property("type","data",!1),this.$property("data",null,{change:!1,get:function(){return this.__data||null},set:function(t){var e;t&&0<t.length?(this.__data=t,(e=this.__template)&&i(this,t,e)):(this.__data=null,this.__children.clear())}}),this.$property("children",null,{get:e,set:e}),this.__load_subdata=function(t,e){var n;(this.template=t)&&(n=this.__data)&&i(this,n,t,e)},this.__on_set=function(t,e){var n;(n=this.__template)&&0<o(this,[e],n).length&&this.__children.set(t,control)},this.__on_insert=function(t,e){var n;(n=this.__template)&&0<(e=o(this,e,n)).length&&this.__children.__insert(t,e)},this.__on_remove=function(t,e){this.__children.splice(t,e)},this.__on_clear=function(){this.__children.clear()},this.__on_sort=function(){this.__children.sort(h)},yaxi.impl.query.call(this),this.destroy=function(){for(var t=this.__children,e=t.length;e--;)t[e].destroy();(t=this.__array_model)&&c(this,t),n.destroy.call(this)}},function(){var t;this.$storage=Object.create(this.$defaults),this.__children=new yaxi.Collection(this),(t=this.init)&&t.apply(this,arguments)}).register("DataBox"),yaxi.Icon=yaxi.Control.extend(function(t,e){this.$property("icon","",{kind:"class",data:"icon-"})},function(){yaxi.Control.apply(this,arguments)}).register("Icon"),yaxi.IconButton=yaxi.ContentControl.extend(function(t,e){t.sealed=!0,this.$property("layout","",{kind:"class",data:"yx-layout-"}),this.$property("icon",""),this.$property("size","")},function(){yaxi.Control.apply(this,arguments)}).register("IconButton"),yaxi.Image=yaxi.Control.extend(function(t,e){this.$property("src",""),this.$property("mode",""),this.$property("lazyLoad",!1,{alias:"lazy-load"})},function(){yaxi.Control.apply(this,arguments)}).register("Image"),yaxi.ImageButton=yaxi.ContentControl.extend(function(t,e){t.sealed=!0,this.$property("layout","",{kind:"class",data:"yx-layout-"}),this.$property("src",""),this.$property("size","")},function(){yaxi.Control.apply(this,arguments)}).register("ImageButton"),yaxi.Line=yaxi.Control.extend(function(t,e){this.$property("size","5rem"),this.$property("color","font-level1-color")},function(){yaxi.Control.apply(this,arguments)}).register("Line"),yaxi.Vline=yaxi.Control.extend(function(t,e){this.$property("size","5rem"),this.$property("color","font-level1-color")},function(){yaxi.Control.apply(this,arguments)}).register("Vline"),yaxi.Marquee=yaxi.Control.extend(function(t,e){this.$property("text",""),this.$property("speed",10)},function(){yaxi.Control.apply(this,arguments)}).register("Marquee"),yaxi.MaskLayer=yaxi.Control.extend(function(t,e){},function(){yaxi.Control.apply(this,arguments)}).register("MaskLayer"),yaxi.Popup=yaxi.Box.extend(function(t,e){},function(){yaxi.Box.call(this)}).register("Popup"),yaxi.ScrollBox=yaxi.Box.extend(function(){},function(){yaxi.Box.call(this)}).register("ScrollBox"),yaxi.StackBox=yaxi.Box.extend(function(t,e){function n(){throw new Error("StackBox control doesn't supports layout! can only use full!")}this.$property("layout",{get:n,set:n}),this.$property("full",!1)},function(){yaxi.Box.apply(this,arguments)}).register("StackBox"),yaxi.Swiper=yaxi.Box.extend(function(t,e){this.$property("dots",!0),this.$property("dotStyle","",{alias:"dot-style"}),this.$property("activeDotStyle","",{alias:"dot-active-style"}),this.$property("autoplay",!0),this.$property("current",0),this.$property("interval",5e3),this.$property("duration",500),this.$property("circular",500),this.$property("vertical",!1),this.$property("before",""),this.$property("after",""),this.__on_change=function(t){this.current=t.value}},function(){yaxi.Box.apply(this,arguments)}).register("Swiper"),yaxi.TabBar=yaxi.Box.extend(function(t,e){function n(t){throw new Error("the host of TabBar must "+t)}function i(t){r(this,t,-1)}function r(t,e,n){var i,r=t.children,s=new yaxi.Event("changing");s.lastIndex=n,s.lastPage=t.findPage(s.lastItem=r[n]||null),s.index=e,s.page=t.findPage(s.item=r[e]||null),!1!==t.trigger(s)&&(t.$storage.selectedIndex=e,(i=s.lastPage)&&(i.hidden=!0),(i=s.lastItem)&&(i.selected=!1),(i=s.item)&&(i.selected=!0,function(t,e){var n,i=e.page,r=e.item;if(!i){if(!(i=r.module)||!(n=t.selectedHost))return;i=e.page=new i(r.data),n.children.push(i)}i.tabbar=r.uuid,i.hidden=!1}(t,s)),s.type="changed",t.trigger(s))}this.$property("host","",!1),this.$property("selectedIndex",-1,{change:!1,alias:"selected-index",convert:function(t){return 0<=(t=(t|=0)<0?-1:t)&&yaxi.bindBeforeRender(i,this,[t]),t},set:function(t){var e=this.$storage.selectedIndex;(t|=0)<0&&(t=-1),e!==t&&r(this,t,e)}}),this.$property("selectedItem",null,{get:function(){var t=this.selectedIndex;return 0<=t&&this.children[t]||null}}),this.$property("selectedHost",null,{get:function(){var t=this.host;if(t?"<"!==t[0]&&n('use "<" or "<<" to begin!'):t="<* >StackBox",t=this.find(t)){if(t instanceof yaxi.StackBox)return t;n("be a StackBox!")}return null}}),this.findPage=function(t){var e;if(t&&(e=this.selectedHost))for(var n=e.children,i=t.uuid,r=n.length;r--;)if(n[r].tabbar===i)return n[r];return null},this.__on_touchend=function(t){var e=this.parentToThis(t.target);e&&!e.selected&&(this.selectedIndex=this.children.indexOf(e))}},function(){yaxi.Box.apply(this,arguments)}).register("TabBar"),yaxi.Text=yaxi.Control.extend(function(t,e){this.$property("text",""),this.$property("security",""),this.$property("format",null,{change:!1,convert:function(t){return this.__format="function"==typeof t?t:yaxi.pipe.compile(t),t}}),this.__load_subdata=function(t){this.text=t}},function(){yaxi.Control.apply(this,arguments)}).register("Text"),yaxi.TextBox=yaxi.Control.extend(function(){this.$property("value",""),this.$property("text",{get:function(){var t=this.__format;return t?t(this.value):this.value}}),this.$property("placeholder",""),this.$property("maxlength",-1),this.$property("pattern",""),this.$property("format",null,{change:!1,convert:function(t){return this.__format="function"==typeof t?t:yaxi.pipe.compile(t),t}}),this.$property("focus",!1),this.$property("selectionStart",0,{alias:"selection-start"}),this.$property("selectionEnd",0,{alias:"selection-end"})},function(){yaxi.Control.apply(this,arguments)}).register("TextBox"),yaxi.CheckBox=yaxi.Control.extend(function(t,e){this.$property("text",""),this.$property("checked",!1),this.$property("checkedIcon","icon-yaxi-checkbox-checked",{alias:"checked-icon"}),this.$property("uncheckedIcon","icon-yaxi-checkbox-unchecked",{alias:"unchecked-icon"})},function(){yaxi.Control.apply(this,arguments)}).register("CheckBox"),yaxi.Memo=yaxi.Control.extend(function(){this.$property("value",""),this.$property("placeholder",""),this.$property("text","")},function(){yaxi.Control.apply(this,arguments)}).register("Memo"),yaxi.NumberBox=yaxi.TextBox.extend(function(){this.$property("button",!1),this.$property("value",0,{convert:function(t){var e;return(t=+t||0)<(e=this.min)||t>(e=this.max)?e:t}}),this.$property("min",-1/0,!1),this.$property("max",1/0,!1),this.$property("step",1)},function(){yaxi.Control.apply(this,arguments)}).register("NumberBox"),yaxi.PasswordBox=yaxi.TextBox.extend(function(){this.$property("type","")}).register("PasswordBox"),yaxi.RadioButton=yaxi.Control.extend(function(t,e){this.$property("text",""),this.$property("checked",!1),this.$property("checkedIcon","icon-yaxi-radio-checked",{alias:"checked-icon"}),this.$property("uncheckedIcon","icon-yaxi-radio-unchecked",{alias:"unchecked-icon"}),this.$property("host",1)},function(){yaxi.Control.apply(this,arguments)}).register("RadioButton"),yaxi.SwitchButton=yaxi.Control.extend(function(t,e){this.$property("checked",!1)},function(){yaxi.Control.apply(this,arguments)}).register("SwitchButton"),yaxi.Page=yaxi.Box.extend(function(t,e){function n(t){yaxi.openPage(this,t)}t.allowParent=!1,this.__find_up=function(){return null},this.onloading=function(t){},this.onload=function(t){},this.onunload=function(){},this.__class_init=function(t){e.__class_init.call(this,t),t.open=n}},function(){yaxi.Box.apply(this,arguments)}).register("Page"),yaxi.Header=yaxi.ContentControl.extend(function(t,e){t.sealed=!0,t.allowParent=function(t){if(t instanceof yaxi.Page)return!0;throw new Error("Header component can only add to Page!")},this.$property("icon",""),this.__on_tap=function(t){"back"===t.flag&&yaxi.closePage()}},function(){yaxi.Control.apply(this,arguments)}).register("Header"),yaxi.Dialog=yaxi.Page.extend(function(t){},function(){yaxi.Box.call(this)}).register("Dialog"),function(t){var e=t.h5=Object.create(null);t.platform="h5",e.weixin=0<=navigator.userAgent.toLowerCase().indexOf("micromessenger"),t.getSystemInfo=function(t){var e=window,n=navigator,i=screen,r=e.orientation;t&&t({deviceOrientation:180==r||0==r?"portrait":"landscape",language:n.language,pixelRatio:e.devicePixelRatio,platform:n.platform,screenHeight:i.height,screenWidth:i.width,statusBarHeight:0,system:n.appName,version:n.appVersion,windowHeight:e.innerWidth,windowWidth:e.innerHeight})}}(yaxi),function(n){var t=n.__view_host=document.createElement("div");t.className="yx-host",document.body?document.body.appendChild(t):document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(t)}),document.documentElement.style.fontSize=(n.rem=(1e4*window.innerWidth/750|0)/1e4)+"px",t.style.cssText="width:100%;height:100%;transform-origin: 0 0;";var h,l,u,r,s=n.$controls,o=n.Event,e=t.addEventListener.bind(t),f=!1,d=null,p=new Date;function a(t){for(var e,n,i;t;){if(i=i||t.getAttribute("flag"),(n=t.id)&&(e=s[n]))return r=i||"",e.findEventTarget();t=t.parentNode}}function _(t){var e=new o(t.type);return e.target=h,e.flag=r,e.changedTouches=i(t.changedTouches),e.touches=i(t.touches),e}function i(t){for(var e=t.length,n=new Array(e);e--;){var i=t[e];n[e]={identifier:i.identifier,pageX:i.pageX,pageY:i.pageY,clientX:i.clientX,clientY:i.clientY}}return n}function c(t){var e;if(e=a(t.target))return(t=new o(t.type)).flag=r,e.trigger(t)}function y(t,e,n){for(var i;t;){if((i=t[e])&&!1===i.call(t,n))return!1;t=t.parent}}e("touchstart",function(t){var e;if((e=a(t.target))&&(h=e,l=new Date,f=!0,t=_(t),u=t.changedTouches,!1===y(e,"__on_touchstart",t)||!1===e.trigger(t)))return f=!1},!0),e("touchmove",function(t){var e;return!(e=h)||!1!==y(e,"__on_touchmove",t=_(t))&&!1!==e.trigger(t)?!n.h5.weixin&&void 0:f=!1},!0),e("touchend",function(t){var e,n,i,r,s,o,a,c;if(e=h){if(o=u,a=(i=t).changedTouches,c=_(i),(o=o&&o[0])&&a&&(a=a[0])&&(r=a.clientX-o.clientX,s=a.clientY-o.clientY,c.distanceX=r,c.distanceY=s,c.move=r<-10||10<r||s<-10||10<s),h=null,!1===y(e,"__on_touchend",t=c)||!1===e.trigger(t)||t.move)return!1;if(350<(n=new Date)-l&&!(t.type="longpress")===e.trigger(t))return!1;f&&(200<n-p||d!==e)&&setTimeout(function(){if(d=e,p=n,!(t.type="tap")===y(e,"__on_tap",t)||!1===e.trigger(t))return!1},0)}},!0),e("touchcancel",function(t){var e;if((e=h)&&(t=_(t),h=null,!1===y(e,"__on_touchcancel",t)||!1===e.trigger(t)))return!1},!0),e("input",function(t){var e,n;if(e=a(t.target))return(!(fn=e.__on_input)||!1!==fn.call(e,t))&&((n=new o("input")).flag=r,n.value=t.target.value,e.trigger(n))},!0),e("change",function(t){var e,n,i;if(e=a(t.target))return(n=e.__on_change)&&n.call(e,t),(i=new o("change")).flag=r,i.value=t.target.value,e.trigger(i)},!0),e("keydown",c,!0),e("keypress",c,!0),e("keyup",c,!0),e("blur",c,!0),e("focus",function(t){var e;if(e=a(t.target))return(t=new o("focus")).flag=!1,e.trigger(t)},!0),e("scroll",function(t){var e,n;if(e=a(t.target))return(n=e.__on_scroll)&&n.call(e,t.target),(t=new o("scroll")).flag=!1,e.trigger(t)},!0),window.addEventListener("resize",function(){var t=document.activeElement;t&&this.innerHeight/this.innerWidth<1.2&&t.scrollIntoViewIfNeeded()})}(yaxi),yaxi.__ajax_send=function(t){var e,n,i=new yaxi.Stream,r=new XMLHttpRequest;if(t.CORS&&("withCredentials"in r?r.withCredentials=!0:(n=window.XDomainRequest)&&(r=new n)),r.onreadystatechange=function(){4===this.readyState&&(this.onreadystatechange=null,e&&(clearTimeout(e),100<=this.status&&this.status<300?i.resolve(this.responseText||this.responseXML):i.reject({url:t.url,status:this.status||600,message:this.statusText||this.responseText,options:t})))},r.open(t.method,t.url,!1!==t.async),t.contentType&&r.setRequestHeader("Content-Type",t.contentType),n=t.header)for(var s in n)r.setRequestHeader(s,n[s]);return e=setTimeout(function(){e=0,r.abort(),i.reject({url:t.url,status:601,message:"ajax request timeout"})},t.timeout),r.send(t.data),i},yaxi.Control.renderer(function(t){var f=Object.getOwnPropertyNames,d=Object.create,n=document.createElement("div"),p=function(t,e){return e?(""+e).replace(this,t):""}.bind(/@([\w-]+)/g,function(t,e){return this[e]}.bind(yaxi.color));yaxi.template=function(t,e){t&&e&&(t.__html_template=e)},this.__html_template='<div class="$class"></div>',this.render=function(){var t,e=this.$view||(this.$view=(this.constructor.__dom_template||(t=this,n.innerHTML=t.__html_template.replace("$class",t.$class),view=n.firstChild,n.removeChild(view),t.constructor.__dom_template=view)).cloneNode(!0));return e.id=this.uuid,this.patch(e),e},this.renderChildren=function(t,e){for(var n,i=0;n=e[i++];)t.appendChild(n.$view||n.render())},this.patch=function(t){var e;if(this.__dirty=!1,e=this.__changes){for(var n,i,r,s,o,a=this.$properties,c=this.$storage,h=this.$renderer,l=f(e),u=0;r=l[u++];)switch(i=a[r],s=c[r]=e[r],i&&i.kind){case"style":if(o=h[r]){if(null==(s=o.call(this,t,s)))break}else!0&i.data&&(s=p(s));t.style[r]=s;break;case"class":if(o=h[r]){if(null==(s=o.call(this,t,s)))break}else(o=i.data)?"boolean"!==i.type&&(s=o+s.replace(/\s+/g," "+o)):s="";(n=n||(this.__classes=d(null)))[r]=s;break;default:(o=h[r])&&o.call(this,t,e[r])}if(n){for(r in e=[],n)(s=n[r])&&e.push(s);t.className=this.$class+" "+e.join(" ")}this.__changes=null}},this.patchChildren=function(t,e){var n,i,r;if(i=e.__last)e.__last=null,(r=0<i.length)&&this.destroyChildren(i),!r||i.clear?(t.textContent="",this.renderChildren(t,e)):function(t,e){var n,i,r=t.firstChild,s=0;for(;n=e[s++];)(i=n.$view)?(n.__dirty&&n.patch(i),i!==r?t.insertBefore(i,r):r=r.nextSibling):t.insertBefore(n.render(),r);for(;r;)r=(i=r).nextSibling,t.removeChild(i)}(t,e);else if(0<(r=e.length))for(var s=0;s<r;s++)(n=e[s])&&n.__dirty&&(t=n.$view)&&n.patch(t)},t.hidden=function(t,e){t.style.display=e?"none":""},t.disabled=function(t,e){e?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled")}}),yaxi.ContentControl.renderer(function(t,n){this.__no_content="",this.render=function(){var t=n.render.call(this),e=this.__init_content()||this.__no_content;return this.__render_content(t,e),t},this.__render_content=function(t,e){"string"==typeof e?this.__render_text(t,e):(t.textContent="",this.renderChildren(t,e))},this.__render_text=function(t,e){t.textContent=e},t.content=function(t){this.__render_content(t,this.__init_content())}}),yaxi.Box.renderer(function(t,e){yaxi.template(this,'<div class="$class"></div>'),this.render=function(){var t=e.render.call(this);return this.__children.__last=null,this.renderChildren(t,this.children),t},this.patch=function(t){this.patchChildren(this.getChildrenView(t),this.__children),e.patch.call(this,t)},this.getChildrenView=function(t){return t}}),yaxi.Button.renderer(function(t,e){}),yaxi.DataBox.renderer(function(t,n){this.render=function(){var t=n.render.call(this),e=this.__children;return e.__last=null,this.renderChildren(t,e),t},this.patch=function(t){this.patchChildren(t,this.__children),n.patch.call(this,t)}}),yaxi.Icon.renderer(function(t,e){this.$class+=" iconfont",yaxi.template(this,'<div class="$class"></div>')}),yaxi.IconButton.renderer(function(t,n){yaxi.template(this,'<div class="$class"><div></div><div class="yx-iconbutton-content"></div></div>'),t.icon=function(t,e){t.firstChild.className="yx-iconbutton-icon iconfont"+(e?" icon-"+e:"")},t.size=function(t,e){t.firstChild.style.fontSize=0<e?e+"rem":e},this.__render_content=function(t,e){n.__render_content.call(this,t.lastChild,e)}}),yaxi.Image.renderer(function(t,e){yaxi.template(this,'<image class="$class"></image>'),t.src=function(t,e){t.src=e}}),yaxi.ImageButton.renderer(function(t,n){yaxi.template(this,'<div class="$class"><div class="yx-imagebutton-image"></div><div class="yx-imagebutton-content"></div></div>'),t.src=function(t,e){t.firstChild.style.backgroundImage=e?"url("+e+")":""},t.size=function(t,e){var n=t.firstChild.style;n.width=n.height=e},this.__render_content=function(t,e){n.__render_content.call(this,t.lastChild,e)}}),yaxi.Line.renderer(function(t,e){var n=yaxi.color;t.size=function(t,e){t.style.width=e},t.color=function(t,e){t.style.backgroundColor=n[e]||e}}),yaxi.Vline.renderer(function(t,e){var n=yaxi.color;t.size=function(t,e){t.style.height=e},t.color=function(t,e){t.style.backgroundColor=n[e]||e}}),yaxi.Marquee.renderer(function(e,t){yaxi.template(this,'<div class="$class"><div class="yx-marquee-content"></div></div>'),e.text=function(t,e){},e.speed=function(t){e.text.call(this,t,this.text)}}),yaxi.ScrollBox.renderer(function(t,e){}),yaxi.StackBox.renderer(function(t,e){yaxi.template(this,'<div class="$class"><div class="yx-stackbox-body"></div></div>'),this.getChildrenView=function(t){return t.firstChild},t.full=function(t,e){t.firstChild.className="yx-stackbox-body"+(e?" yx-stackbox-full":"")}}),yaxi.Swiper.renderer(function(t,e){yaxi.template(this,'<div class="$class"></div>')}),yaxi.Text.renderer(function(t,e){yaxi.template(this,'<span class="$class"></span>'),t.text=function(t,e){var n;this.__security||(t.textContent=(n=this.__format)?n(e):e)},t.security=function(t,e){var n;(this.__security=e)?t.textContent=e:t.textContent=(n=this.__format)?n(this.text):this.text}}),yaxi.TextBox.renderer(function(t,e){yaxi.template(this,'<input type="text" class="$class" />'),t.focus=function(t,e){e?t.focus():t.blur()},t.value=function(t,e){var n;(n=this.__format)&&(e=n(e)),t.value=e},t.placeholder=function(t,e){t.setAttribute("placeholder",e)},t.maxlength=function(t,e){t.setAttribute("maxlength",e)},t.pattern=function(t,e){t.setAttribute("pattern",e)},this.__on_change=function(t){var e=this.value;this.value=t.target.value,this.value!==e?this.$push(this.value):this.$renderer.value(this.$view,e)}}),yaxi.CheckBox.renderer(function(t,e){yaxi.template(this,'<span class="$class"><svg aria-hidden="true"><use xlink:href="#icon-yaxi-checkbox-unchecked"></use></svg><span></span></span>'),t.text=function(t,e){t.lastChild.textContent=e},t.checked=function(t,e){t.firstChild.firstChild.setAttribute("xlink:href","#"+(e?this.checkedIcon:this.uncheckedIcon))},t.checkedIcon=function(t,e){e&&this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},t.uncheckedIcon=function(t,e){e&&!this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},this.__on_tap=function(){this.$push(this.checked=!this.checked),this.trigger("change")}}),yaxi.NumberBox.renderer(function(t,e){function r(t,e){var n=t.value;if(t.value=e,(e=t.value)!==n)return t.$push(e),(n=new yaxi.Event("change")).view=t.$view.firstChild,n.value=e,t.trigger(n);t.$renderer.value(t.$view,e)}yaxi.template(this,'<span class="$class"><input type="number" /><span class="yx-number-minus">-</span><span class="yx-number-plus">＋</span></span>'),this.clear=function(){var t;(t=this.$view)&&(t.firstChild.value=""),this.$storage.value=0},t.button=function(t,e){e?t.setAttribute("button",!0):t.removeAttribute("button")},t.value=function(t,e){var n=this.__format;n&&(e=n(e)),(t=t.firstChild).value=e||(t.value?0:""),t=t.nextSibling,e===this.min?t.setAttribute("disabled",!0):t.removeAttribute("disabled"),t=t.nextSibling,e===this.max?t.setAttribute("disabled",!0):t.removeAttribute("disabled")},this.__on_tap=function(t){for(var e,n=this.$view,i=t.view;i&&i!==n;){if(e=i.classList){if(e.contains("yx-number-minus"))return r(this,(+n.firstChild.value||0)-this.step),t.stop(),!1;if(e.contains("yx-number-plus"))return r(this,(+n.firstChild.value||0)+this.step),t.stop(),!1}i=i.parentNode}},this.__on_input=function(t){var e=this.maxlength;if(0<e&&t.target.value.length>=e)return!1},this.__on_change=function(t){var e=this.value;this.value=+t.target.value||0,this.value!==e?this.$push(this.value):this.$renderer.value(this.$view,e)}}),yaxi.PasswordBox.renderer(function(t,e){yaxi.template(this,'<span class="$class"><input type="password" /><span><svg aria-hidden="true"><use xlink:href="#icon-yaxi-eye-close"></use></svg></span></span>'),t.type=function(t,e){t.lastChild.className=e?"yx-password-"+e:""},this.__on_tap=function(t){for(var e,n=this.$view,i=t.view;i&&i!==n;){if("SPAN"===i.tagName)return e="text"===(n=n.firstChild).type?(n.type="password","yaxi-eye-close"):(n.type="text","yaxi-eye-open"),void i.firstChild.firstChild.setAttribute("xlink:href","#icon-"+e);i=i.parentNode}}}),yaxi.Memo.renderer(function(n,t){this.focus=function(){var t;(t=this.$view)&&t.focus()},this.blur=function(){var t;(t=this.$view)&&t.blur()},yaxi.template(this,'<span class="$class"><textarea></textarea></span>'),n.value=function(t,e){t.firstChild.value=e},n.placeholder=function(t,e){t.firstChild.placeholder=e},this.__on_change=function(t){var e=this.value;this.value=t.target.value,this.value!==e?this.$push(this.value):n.value(this.$view,e)}}),yaxi.RadioButton.renderer(function(t,e){yaxi.template(this,'<span class="$class"><svg aria-hidden="true"><use xlink:href="#icon-yaxi-radio-unchecked"></use></svg><span></span></span>'),t.text=function(t,e){t.lastChild.textContent=e},t.checked=function(t,e){t.firstChild.firstChild.setAttribute("xlink:href","#"+(e?this.checkedIcon:this.uncheckedIcon))},t.checkedIcon=function(t,e){e&&this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},t.uncheckedIcon=function(t,e){e&&!this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},this.__on_tap=function(){this.checked||(this.$push(this.checked=!0),this.trigger("change"),this.mutex(this.host))},this.mutex=function(t){var e=this.parent;for(t|=0;--t;)e=e.parent;if(e)for(var n=e.query(">>RadioButton"),i=n.length;i--;){var r=n[i];r instanceof Class&&r!==this&&r.checked&&(r.checked=!1)}}}),yaxi.SwitchButton.renderer(function(t,e){yaxi.template(this,'<span class="$class"><span class="yx-switchbutton-bar"></span><span class="yx-switchbutton-button"></span></span>'),t.checked=function(t,e){var n=t.classList;e?n.add("yx-switchbutton-checked"):n.remove("yx-switchbutton-checked")},this.__on_tap=function(){this.$push(this.checked=!this.checked),this.trigger("change")}}),yaxi.Page.renderer(function(t,e){var n=Object.defineProperty,i=[],r=[],s=[],o=yaxi.__view_host;function a(t){for(var e,n=0;e=t[n++];)e.apply(t[n++],t[n++]);t.length=0}yaxi.template(this,'<div class="$class"></div>'),yaxi.bindBeforeRender=function(t,e,n){r.push(t,e,n)},yaxi.bindAfterRender=function(t,e,n){s.push(t,e,n)},n(yaxi,"currentPages",{get:function(){return i.slice()}}),n(yaxi,"currentPage",{get:function(){return i[i.length-1]||null}}),yaxi.openPage=function(t,e){var n=new t(e);!1!==n.onloading(e)&&(i.push(n),n.options=e,o.appendChild(n.render()),a(r),n.onload(n.options))},yaxi.closePage=function(t,e){var n;for("function"==typeof t?t=1:(t|=0)<1&&(t=1);n=i.pop();)if(o.removeChild(n.$view),n.onunload(),n.destroy(),--t<=0)return},yaxi.__on_page_patch=function(t){var e,n,i=0;for(a(r);e=t[i++];)(n=e.$view)&&e.patch(n);a(s)}}),yaxi.Header.renderer(function(t,n){yaxi.template(this,'<div class="$class"><span class="yx-header-back iconfont icon-common-back" flag="back" style="display:none;"></span><span class="yx-header-hide"></span><span class="yx-header-host"></span></div>'),this.__render_content=function(t,e){n.__render_content.call(this,t.lastChild,e),t.firstChild.style.display=1<yaxi.currentPages.length?"":"none"},t.icon=function(t,e){(t=t.firstChild.nextSibling).className=e?"yx-header-icon iconfont "+e:"yx-header-hidden"}});