var yaxi=Object.create(null);"undefined"!=typeof module&&(module.exports=yaxi,"undefined"!=typeof window&&(window.yaxi=yaxi)),yaxi.impl=Object.create(null),yaxi.impl.mixin=function(t){var e,i;return t&&(e=this.prototype,i=this.superclass,t.call(e,e.$mixin,i&&i.prototype||null,yaxi)),this},Object.extend=function(t,e){var i,n=this.prototype||null,s=Object.create(n);if(n&&this.sealed)throw this.typeName+" is sealed, can not be extended!";return e?e.ctor=e:(e=function(){i&&i.apply(this,arguments)}).ctor=this.ctor,e.superclass=n?this:null,e.extend=this.extend||Object.extend,e.mixin=this.mixin||yaxi.impl.mixin,(e.prototype=s).constructor=e,s.__class_init&&s.__class_init(e),t&&(t.call(s,e,n,yaxi),i=e.ctor),e},Function.prototype.bind||(Function.prototype.bind=function(e){var i=this;if(1<arguments.length){var n=[].slice.call(arguments,1),s=n.push;return function(){var t=n.slice(0);return 0<arguments.length&&s.apply(t,arguments),i.apply(e||this,t)}}return function(){return i.apply(e||this,arguments)}}),function(){var e=/([yMdhmsSq]+)/g,i={GMT:"toGMTString",ISO:"toISOString",UTC:"toUTCString",date:"toDateString",time:"toTimeString",locale:"toLocaleString","locale-date":"toLocaleDateString","locale-time":"toLocaleTimeString"},s={y:"getFullYear",d:"getDate",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"};this.format=function(t){var n;return t?(n=i[t])?this[n]():(n=this,t.replace(e,function(t,e){var i=e.length;switch(e=e.charAt(0)){case"M":e=n.getMonth()+1;break;case"q":e=(n.getMonth()+3)/3|0;break;default:e=n[s[e]]()}return e=""+e,1===i||(i-=e.length)<=0?e:"0000".substring(0,i)+e})):this.toString()},this.addHour=function(t){return(t|=0)&&this.setTime(this.getTime()+36e5*t),this},this.addMinute=function(t){return(t|=0)&&this.setTime(this.getTime()+6e4*t),this},this.addSecond=function(t){return(t|=0)&&this.setTime(this.getTime()+1e3*t),this},Date.create=function(t){if(t){var e=new Date(t),i=e.valueOf();if(i==i)return e;if("string"==typeof t&&(t=t.match(/\d+/g)))return i=0|t[1],new Date(t[0],0<i?i-1:0,0|t[2],0|t[3],0|t[4],0|t[5])}return null}}.call(Date.prototype),function(t){var e=Object.create(null),n=Object.create(null);e["&"]="&amp;",e["<"]="&lt;",e[">"]="&gt;",e["'"]="&apos;",e['"']="&quot;",n.amp="&",n.lt="<",n.gt=">",n.apos="'",n.quot='"',t.encode=function(t){if(t&&"string"==typeof t){var i=e;return t.replace(/([&<>'"])/g,function(t,e){return i[e]})}return""+t},t.decode=function(t){var i=n;return t&&t.replace(/&(\w+);/g,function(t,e){return i[e]||e})}}(yaxi.html=Object.create(null)),function(t){t.fromString=function(t,e){var i=new Blob([t],{type:"text/plain"}),n=new FileReader;n.onload=function(){e(this.result)},n.readAsArrayBuffer(i)},t.toString=function(t,e){var i=new FileReader;t=new Blob([t]),i.onload=function(){e(this.result)},i.readAsText(t,"utf-8")},t.fromBase64=function(t){for(var e=window.atob(t),i=e.length,n=new Uint8Array(i),s=0;s<i;++s)n[s]=e.charCodeAt(s);return n.buffer},t.toBase64=function(t){for(var e=new Uint8Array(t),i=e.byteLength,n=new Array(i),s=0;s<i;s++)n[s]=String.fromCharCode(e[s]);return window.btoa(n.join(""))}}(yaxi.buffer=Object.create(null)),function(t){var i=t.round,e=(0).toFixed,n=new s(0);function s(t){var e,i;return t&&(t instanceof s?(i=t.d,e=t.v):(t=+t)===t&&(e=t===(0|t)?t:(i=(e=(""+t).split("."))[1])?(i=i.length,+(e[0]+e[1])):(i=0,t))),this.v=e||0,this.d=i||0,this}s.singleton=s.bind(new s(0));var r=(yaxi.Decimal=s).prototype;r.clone=function(){var t=Object.create(r);return t.v=this.v,t.d=this.d,t},r.plus=function(t){var e,i;if(!t)return this;if(t instanceof s)i=t.d,t=t.v;else{if((t=+t)!==t)return this;t!==(0|t)&&(i=(t=(""+t).split("."))[1])?(i=i.length,t=+(t[0]+t[1])):i=0}return(e=this.d)>i?this.v+=t*("1e"+e)/("1e"+i):e<i?(this.d=i,this.v=this.v*("1e"+i)/("1e"+e)+t):this.v+=t,this},r.minus=function(t){return this.plus(-t)},r.mul=function(t){var e;if(!t)return this.v=this.d=0,this;if(!this.v)return this;if(t instanceof s)e=t.d,t=t.v;else{if((t=+t)!==t)return this;t!==(0|t)&&(e=(t=(""+t).split("."))[1])?(e=e.length,t=+(t[0]+t[1])):e=0}return t?(this.v*=t,this.d+=e):this.v=this.d=0,this},r.div=function(t){var e,i;if(!t)return this.v=this.d=0,this;if(!this.v)return this;if(t instanceof s)i=t.d,t=this.v/t.v;else{if((t=+t)!==t)return this.v=this.d=0,this;t!==(0|t)&&(i=(t=(""+t).split("."))[1])?(i=i.length,t=+(t[0]+t[1])):i=0}return t?(t=(e=this.d)!==i?i<e?this.v/(t*("1e"+(e-i))):this.v*("1e"+(i-e))/t:this.v/t,t=s.call(n,t),this.v=t.v,this.d=t.d):this.v=this.d=0,this},r.pow10=function(t){if(t|=0){var e;if(!this.v)return this;0<t?(e=this.d)<t?(this.d=0,this.v*="1e"+(t-e)):t===e?this.d=0:this.d-=t:this.d-=t}return this},r.round=function(t){var e=this.d;return(t|=0)<e&&(this.v=i(this.v/("1e"+(e-t))),this.d=t),this},r.toFixed=function(t){var e=this.d,i=this.v;return 0<e&&(i/="1e"+e),i.toFixed(t)},r.toString=function(t){var e=this.d,i=this.v;return 0<e&&(i/="1e"+e),i.toString(t)},Object.defineProperty(r,"value",{get:r.valueOf=function(){var t=this.d,e=this.v;return 0<t&&(e/="1e"+t),e}});var o=Number.prototype;function a(t,e){return t!=t?0:0<(e|=0)?i(t*(e="1e"+e))/e:i(t)}"1.11"===1.115.toFixed(2)&&(o.toFixed=function(t){return e.call(a(+this,t|=0),t)}),o.round=function(t){return a(+this,t)},t.round=a}(Math),yaxi.impl.property=function(t){var r=Object.defineProperty,o=Object.create(null);return o.boolean=function(t){return!!t},o.integer=function(t){return 0|t},o.number=function(t){return+t||0},o.string=function(t){return""+t},o.date=function(t){return Date.create(t)},function(e,t,i){if(/[^\w-]/.test(e))throw'"'+e+'" not a valid property name!';var n,s=this.$converts;i&&"object"==typeof i||(i={}),this.$defaults[e]=t=null!=t?t:null,i.get?(s[e]=null,i.set||(i.set=function(){var t=this.typeName;throw'"'+e+'"'+(t?" of "+t:"")+" is readonly!"})):(i.change=!1!==i.change,i.convert||(i.convert=o[i.type||typeof t]),i.get=this.__build_get(e,i),i.set||(i.set=this.__build_set(e,i)),s[e]=!1===i.convert?null:{name:e,change:i.change,fn:i.convert}),r(this,e,i),(n=i.alias)&&(s[n]=s[e],r(this,n,i))}},yaxi.Event=Object.extend.call({},function(t){this.type="",this.target=null,this.cancelBubble=!1,this.defaultPrevented=!1,this.stop=function(){this.cancelBubble=!0},this.prevent=function(){this.defaultPrevented=!0}},function(t){this.type=t}),yaxi.EventTarget=Object.extend(function(t){var a=yaxi.Event,e=this;this.on=yaxi.on=function(t,e){var i,n;t&&"function"==typeof e&&((i=this.__event_keys)?(n=i[t])?n.push(e):n=i[t]=[e]:n=(i=this.__event_keys={})[t]=[e],(e=this.__event_change)&&this.__event_change(t,n,!0))},this.once=yaxi.once=function(i,n){"function"==typeof n&&this.on(i,function t(e){n.call(this,e),this.off(i,t)})},this.off=yaxi.off=function(t,e){var i,n=this.__event_keys;if(n)if(t){if(i=n[t]){if(e){for(var s=i.length;s--;)i[s]===e&&i.splice(s,1);i[0]||(n[t]=null)}else i.length=0,n[t]=null;(e=this.__event_change)&&e.call(this,t,i,!1)}}else for(t in n)this.off(t)},this.trigger=yaxi.trigger=function(t,e){var i,n,s,r,o=this;t&&"string"!=typeof t&&((s=t).target=this,e&&(s.payload=e),t=s.type);do{if((i=o.__event_keys)&&(i=i[t]))for(n=0;r=i[n++];)if(s||((s=new a(t)).target=this,e&&(s.payload=e)),!1===r.call(o,s)&&(s.defaultPrevented=!0),s.cancelBubble)return!s.defaultPrevented}while(o=o.parent);return!s||!s.defaultPrevented},this.hasEvent=yaxi.hasEvent=function(t,e){var i,n=this.__event_keys;if(n&&(i=n[t])&&i[0]){if(!e)return!0;for(var s=i.length;s--;)if(i[s]===e)return!0}return!1},t.mixin=function(t){t.on=e.on,t.once=e.once,t.off=e.off,t.trigger=e.trigger,t.hasEvent=e.hasEvent}}),yaxi.Stream=Object.extend(function(r){r.fromPromise=function(t){var e=new r;return"function"==typeof t&&(t=t()),t.then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e},r.interval=function(e){var i=new r,n=0;return function t(){setTimeout(function(){i.resolve(n++),t()},0|e)}(),i},r.all=function(){for(var t,i=new r,n=[],e=0,s=0;t=arguments[e];)s++,function(e){t.then(function(t){n[e]=t,--s||i.resolve(n)}).catch(function(t){i.reject(t)})}(e++);return i},this.registry=function(t){var e=this.__next=new r,i=this.__cache;if(this.__fn=t,i){for(;0<i.length;)try{t.call(this,i.shift(),e)}catch(t){this.reject(t)}this.__cache=null}return e},this.resolve=function(t){var e,i=this.__next;if(i)if(e=this.__fn)try{e.call(this,t,i)}catch(t){this.reject(t)}else i.resolve(t);else(e=this.__cache)?e.push(t):this.__cache=[t]},this.reject=function(e){var t=this.__fail,i=this.__next;if(t)try{if(!1===t.call(this,e,i))return!1}catch(t){e=t}if(!i)throw e;i.reject(e)},this.then=function(n){return this.registry(function(t,e){var i;!n||void 0!==(i=n(t))&&(t=i),e.resolve(t)})},this.combine=function(t){return this.registry(function(i,n){t.then(function(t){var e=i;e instanceof Array?e.push(t):e=[i,t],n.resolve(e)}).catch(function(t){n.reject(t)})})},this.map=function(i){return this.registry(function(t,e){e.resolve(i(t))})},this.json=function(i){return this.registry(function(t,e){"string"==typeof t&&(t=JSON.parse(t)),i&&(t=i(t)),e.resolve(t)})},this.catch=function(t){return this.__fail=t,this.__next=new r},this.wait=function(i){var n,s=[];return this.registry(function(t,e){n?s.push(t):n=setTimeout(function(){e.resolve(s),n=0,s=[]},0|i)})},this.delay=function(i){return this.registry(function(t,e){setTimeout(function(){e.resolve(t)},0|i)})},this.debounce=function(i){var n;return this.registry(function(t,e){n&&clearTimeout(n),n=setTimeout(function(){e.resolve(t),n=0},0|i)})},this.throttle=function(i){var n;return this.registry(function(t,e){n||(e.resolve(t),n=setTimeout(function(){n=0},0|i))})}},function(t){0<arguments.length&&("function"==typeof t?t(this):this.__cache=[t])}),function(){var c=Object.create(null),i=Object.create(null),n=yaxi.Decimal.singleton;function s(t){var e=t&&function(t){for(var e,i,n=t.split("|"),s=[],r=0,o=n.length;r<o;r++)if(n[r]&&(e=n[r].match(/"(?:[^"]|\\")"|[^:\s]+/g))&&(i=e[0])){if(!(i=c[i]))throw'not exist pipe function "'+e[0]+'"!';e[0]=null;for(var a=e.length-1;0<a;a--)'"'===(t=e[a])[0]&&'"'===t[t.length-1]&&(e[a]=t.slice(1,-1).replace(/\\"/g,'"'));s.push(i,e)}return s}(t);return i[t]=e&&e[0]?function(t){for(var e,i,n=0;e=this[n++];)(i=this[n++])[0]=t,t=e.apply(this,i);return t}.bind(e):null}c.round=function(t,e){return n(t).round(e)},c.fixed=function(t,e){return n(t).toFixed(e)},yaxi.pipe=function(t,e){t&&"function"==typeof e&&(c[t]=e)},yaxi.pipe.compile=function(t){var e=i[t];return void 0!==e?e:s(t)}}(),function(){var o,h=Object.create,l=Object.defineProperty,u=yaxi.pipe.compile,f=h(null),d=null,r=h(null),p=this,_=yaxi.impl.property();function y(i,n){return i="__sub_"+i,{get:function(){return this[i]||(this[i]=new n(this))},set:function(t){var e=this[i];t?null!=t&&(e||(this[i]=new n(this))).$load(t):e&&e.$clear()}}}function v(i,n){return i="__sub_"+i,{get:function(){return this[i]||(this[i]=new n(this))},set:function(t){var e=this[i];t&&0<t.length?(e?0<e.length&&e.clear():this[i]=e=new n(this),e.push.apply(e,t)):e&&0<e.length&&e.clear()}}}function a(t,e){var i,n,s,r;for(r in e)n=t[(i=e[r]).field],(s=i.pipe)&&(n=s(n)),(s=(o=o||yaxi.$controls)[i.control])&&(s[i.property]=n)}function g(t,e){for(var i,n=e.path,s=n[0],r={type:0,model:null,field:s,control:0,property:""};t;){if(i=t.__item){if(s===i[0])return n[r.type=1]?c(t,r,e):(r.model=t,r);if(s===i[1]){if(n[1])throw'"'+s+'" is model index, can not supports sub model!';return r.type=2,r.model=t,r.field="__item_index",r}}else if(s in t)return n[1]?c(t,r,e):(r.model=t,r);t=t.$parent}throw'model field "'+s+'" not exists!'}function c(t,e,i){for(var n=i.path,s=n.length-1,r=1;r<s;r++)if(!(t=t[n[r]]))throw'binding "'+i.bind+'" error, can not find submodel "'+n[r]+'"!';if(n[s]in t)return e.field=n[s],e.model=t,e;throw'binding "'+i.bind+'" error, can not find model field "'+n[s]+'"!'}this.__build_get=function(n){return function(){var t,e,i;return(t=d)&&((e=this.__bindings)?(i=e[n])?i.push(t):e[n]=[t]:(this.__bindings={})[n]=[t]),this.$storage[n]}},this.__build_set=function(i,t){var n=r,s=t.convert;return function(t){var e=this.$storage;if(s&&(t=s(t)),t===e[i]||n[i]&&!1===this.$notify(i,t))return this;e[i]=t,(e=this.__bindings)&&(e=e[i])&&a(this,e)}},l(this,"__item_index",{get:function(){var t,e;return d&&((t=this.__bindings)?(e=t.__item_index)?e.push(d):t.__item_index=[d]:(this.__bindings={}).__item_index=[d]),this.__index+1||0},set:function(t){if(t|=0,this.__index!==t){var e=this.__bindings;if(this.__index=t,e=e&&e.__item_index)for(var i in t+=1,e){var n=e[i],s=(o=o||yaxi.$controls)[n.control];s&&(s[n.property]=n.pipe?n.pipe(t):t)}}}}),yaxi.model=function(t){var e,i,n,s=h,r=s(p),o=r.$subkeys=s(null),a=r.$defaults=s(null);function c(t){this.$parent=t||null,this.$storage=s(a)}for(n in c.model=r.__model_type=1,(c.prototype=r).$converts=s(null),t){if("$"===n[0]||"_"===n[0]&&"_"===n[1])throw'model field can not use "$" or "__" to start!';(e=t[n])&&"function"==typeof e?(i=e.model)?(o[n]=i,l(r,n,(1===i?y:v)(n,e))):l(r,n,{get:e}):_.call(r,n,e)}return c},this.$bind=function(t,e){try{var i,n,s;for(n in e){(i=e[n])&&(s=f[i]||(c=a=o=void 0,(a=(c=0<(a=(r=i).indexOf("|"))?(o=u(r.substring(a)),r.substring(0,a)):r).match(/\w+/g))&&(c={path:a,pipe:o,bind:c}),f[r]=c||1),"model"===n?1!==s&&(t.__binding_push=g(model,s)):function(t,e,i,n){var s,r;if(1===n)throw'binding expression "'+expression+'" is invalid!';(s=d=g(e,n)).control=t.uuid,r=s.model[s.field],n.pipe&&(r=n.pipe(r)),t[s.property=i]=r,1===s.model.__model_type&&((t.__bindings||(t.__bindings={}))[i]=s)}(t,this,n,s))}}finally{d=null}var r,o,a,c;return this},this.$unbind=function(t){var e,i=this.__bindings;if(i)if(e=i[t.field]){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}else for(var s in i)for(n=(e=i[s]).length;n--;)if(e[n]===t){e.splice(n,1);break}return this},this.$watch=function(t,e){var i,n;return t&&"function"==typeof e&&(++r[t]||(r[t]=1),(i=this.__watches)?(n=i[t])?n.push(e):i[t]=[e]:(this.__watches||(this.__watches={}))[t]=[e]),this},this.$unwatch=function(t,e){var i,n=this.__watches;if(n){if("function"==typeof e){if(n&&(i=n[t]))for(var s=i.length;s--;)if(i[s]===e)return i.splice(s,1),void r[t]--}else if(t)(i=n[t])&&0<i.length&&(r[t]-=i.length,i.length=0,delete n[t]);else{for(t in n)(i=n[t])&&0<i.length&&(r[t]-=i.length,i.length=0);this.__watches=null}return this}},this.$notify=function(t,e){for(var i,n,s,r,o=this;o;){if((i=this.__watches)&&(n=i[t]))for(s=0;r=n[s++];)if(!1===r.call(o,this,e))return!1;o=o.$parent}return this},this.$sync=function(t){var e=this.__bindings;(e=e&&e[t])&&a(this,e)},this.$load=function(t){if(t){var e,i,n=this.$storage||(this.$storage={}),s=this.$converts;for(i in t)(e=s[i])?n[i]=e.fn.call(this,t[i]):this[i]=t[i]}return this},this.$clear=function(t){var e,i;if(this.$storage=h(this.$defaults),t&&(e=this.$subkeys))for(var n in e)(i=this["__sub_"+n])&&(1===e[n]?i.$clear():i.clear());return this}}.call(Object.create(null)),function(){var h,r=Object.create,e=Array.prototype,i=e.push,o=e.splice,a=!1,c=this;function l(t,e,i){for(var n,s=[],r=t.$Model,o=t.$parent,a=e.length;i<a;)(n=new r(o)).__item=t.__item,n.$load(e[i++]),s.push(n);return s}function u(t,e){var i;for(e|=0;i=t[e];){var n=i.__index;null==n?i.__index=e:n!==e&&(i.__item_index=e),e++}}function f(t,e,i,n){var s,r,o=h=h||yaxi.$controls;if(s=t.__bindings)for(var a=0,c=s.length;a<c;a++)(r=o[s[a]])&&r[e](i,n)}function d(t){t.$parent=t.__item=t.__bindings=null}yaxi.arrayModel=function(t,e,i){var n=r(c);function s(t){this.$parent=t||null,this.__item=[e||"item",i||"index"]}return t=t||{},n.$Model=yaxi.model(t),s.model=n.__model_type=2,s.prototype=n,s},this.__length=0,Object.defineProperty(this,"length",{get:function(){return this.__length},set:function(t){if(!a)throw"length is readonly!";this.__length=t,a=!1}}),this.indexOf=e.indexOf,this.lastIndexOf=e.lastIndexOf,this.forEach=e.forEach,this.map=e.map,this.reduce=e.reduce,this.reduceRight=e.reduceRight,this.set=function(t,e){var i;0<=(t|=0)&&this[t]&&((i=new this.$Model(this.$parent)).__item=this.__item,i.$load(e),this[t]=i,f(this,"__on_set",t,i))},this.push=function(){var t,e=arguments.length;return 0<e&&(t=l(this,arguments,0),a=!0,i.apply(this,t),u(this,this.__length-e),f(this,"__on_insert",-1,t)),this.__length},this.pop=function(){var t;return 0<this.__length&&(a=!0,(t=e.pop.call(this))&&(d(t),f(this,"__on_remove",-1,1))),t},this.unshift=function(){var t;return 0<arguments.length&&(t=l(this,arguments,0),a=!0,e.unshift.apply(this,t),u(this,0),f(this,"__on_insert",0,t)),this.__length},this.shift=function(){var t;return 0<this.__length&&(a=!0,(t=e.shift.call(this))&&(d(t),f(this,"__on_remove",0,1),u(this,0))),t},this.splice=function(t,e){var i,n;if((t|=0)<0&&(t+=this.length)<0&&(t=0),0<(i=2<arguments.length?(n=l(this,arguments,2),a=!0,o.apply(this,[t,e].concat(n))):(a=!0,o.apply(this,arguments))).length){for(var s=i.length;s--;)d(i[s]);f(this,"__on_remove",t,i.length)}return n&&f(this,"__on_insert",t,n),u(this,t),i},this.clear=function(){var t;if(0<this.__length){a=!0;for(var e=(t=o.call(this,0)).length;e--;)d(t[e]);f(this,"__on_clear")}return t},this.sort=function(t){e.sort.call(this,t),u(this,0),f(this,"__on_sort",0)},this.reverse=function(){e.reverse.call(this),u(this,0),f(this,"__on_sort",1)}}.call(Object.create(null)),function(t){var e=Object.create,i=t.colors||(t.colors=e(null)),s=t.color=i.default=e(null),n=s.bg=e(null),r=s.font=e(null),o=s.border=e(null),a=s.icon=e(null);n.level1="#ffffff",n.level2="#f7f7f7",n.level3="#cccccc",n.level4="#888888",n.level5="#555555",n.primary="#1c86ee",n.second="#48d1cc",n.success="#71c04a",n.warning="#e89518",n.danger="#ff6c6c",n.disabled="#eeeeee",r.level1="#31313d",r.level2="#6c768b",r.level3="#b8c0de",r.level4="#cccccc",r.level5="#f7f7f7",r.primary="#1c86ee",r.second="#48d1cc",r.success="#71c04a",r.warning="#e89518",r.danger="#ff6c6c",r.disabled="#999999",o.level1="#31313d",o.level2="#6c768b",o.level3="#b8c0de",o.level4="#cccccc",o.level5="#ffffff",o.primary="#1c86ee",o.second="#48d1cc",o.success="#71c04a",o.warning="#e89518",o.danger="#ff6c6c",o.disabled="#999999",a.level1="#31313d",a.level2="#6c768b",a.level3="#b8c0de",a.level4="#cccccc",a.level5="#ffffff",a.primary="#1c86ee",a.second="#48d1cc",a.success="#71c04a",a.warning="#e89518",a.danger="#ff6c6c",a.disabled="#999999",s.mask="#000000",s.shadow="#888888",function t(e,i){if("object"!=typeof i)s[e+"color"]=i;else for(var n in i)t(e+n+"-",i[n])}("",s)}(yaxi),Object.extend.call(Array,function(r,t){var l=Object.create,i=yaxi.classes=l(null),o=l(null);function a(t){for(var e,i,n=t.match(/("[^"]*"|'[^']*'|>>|<<|[<>#.@*\[\]]|[!=]==?|[\w-]+)/g),s=[],r=0;e=n[r++];)if("<"===(i=e[0])||">"===i)if(s.push(e),i=n[r++])switch(i){case"@":case"#":case".":((e=n[r++])[0]<"0"||"z"<e[0])&&c(i,r-2," , "+i+' must be followed alphabet or number or "_"'),s.push([i,e]);break;case"*":s.push(i);break;case"[":"=="!==(e=n[r+1])&&"!="!==e&&"==="!==e&&"!=="!==e?c(i,r,' [] only support "==" or "!=" or "===" or "!=="'):"]"!==n[r+3]&&c(i,r," [] not properly closed"),s.push(["[]",e,function(t){var e;switch(t){case"undefined":return;case"null":return null;case"true":return!0;case"false":return!1}return"'"!==t[0]&&'"'!==t[0]?(e=+t)==e?e:t:t.substring(0,t.length-1)}(n[r+2])]),r+=4;break;default:i[0]<"A"||"z"<i[0]?c(e,r,e+' must be followed "@" or "#" or "." or "[x==y]" or "*" or a type name'):s.push(["",i])}else c(e,r," ");else c(e,r,'must use "<<" or "<" or ">>" or ">" as relation symbol');return o[t]=s}function c(t,e,i){throw"selector is invalid, "+t+" at "+e+", "+i+"!"}function h(t,e){switch(e[0]){case"@":return t.$storage.key===e[1];case"":return t instanceof(i[e[1]]||Boolean);case".":return e=e[1],0<=t.$class.indexOf(e)||(t=t.__class)&&0<=t.indexOf(e);case"#":return t.$storage.id===e[1];case"[":return function(t,e){var i=t[e[0]],n=e[2];switch(e[1]){case"==":return i==n;case"!=":return i!=n;case"===":return i===n;case"!==":return i!==n;default:return}}(t,e);case"*":return 1}}function u(t,e,i){if(t=t.parent)if(i){do{if(h(t,e))return t}while(t=t.parent)}else if(h(t,e))return t}function f(t,e,i){for(var n,s,r=0;n=t[r++];){if(h(n,e))return n;if(i&&(s=n.__children)&&s[0]&&(n=f(s,e,!0)))return n}}function d(t,e,i,n,s){for(var r,o,a=0;r=t[a++];)h(r,i)&&!s[o=r.uuid]&&(s[o]=!0,e.push(r)),n&&(o=r.__children)&&o[0]&&d(o,e,i,!0,s)}"undefined"!=typeof jiac&&(jiac.classes=i),yaxi.impl.find=function(){this.find=function(t){return function(t,e){var i;if(e&&(i=o[e]||a(e))&&i[0])return function t(e,i,n){var s=i[n+1];var r;switch(i[n]){case"<":e=u(e,s,!1);break;case"<<":e=u(e,s,!0);break;case">":e=(r=e.__children)&&r[0]&&f(r,s,!1)||null;break;case">>":e=(r=e.__children)&&r[0]&&f(r,s,!0)||null}if(e&&i[n+=2])return t(e,i,n);return e||null}(t,i,0);return null}(this,t)}},yaxi.impl.query=function(){this.parentToThis=function(t){var e;if(!t||t===this)return null;for(;(e=t.parent)&&e!==this;)t=e;return t||null},this.query=function(t){return function(t,e){var i,n,s=new r;e&&(n=t.__children)&&n[0]&&(i=o[e]||a(e))&&i[0]&&0<(n=function t(e,i,n){var s=l(null);var r=[];var o=i[n+1];var a=0;var c,h;switch(i[n]){case"<":for(;c=e[a++];)(c=u(c,o,!1))&&!s[h=c.uuid]&&(s[h]=!0,r.push(c));break;case"<<":for(;c=e[a++];)(c=u(c,o,!0))&&!s[h=c.uuid]&&(s[h]=!0,r.push(c));break;case">":for(;c=e[a++];)(h=c.__children)&&h[0]&&d(h,r,o,!1,s);break;case">>":for(;c=e[a++];)(h=c.__children)&&h[0]&&d(h,r,o,!0,s)}if(0<r.length&&i[n+=2])return t(r,i,n);return r}([t],i,0)).length&&s.push.apply(s,n);return s}(this,t)}},this.filter=function(t){if(t=o[t]||a(t))for(var e=this.length;e--;)this[e].__find(t,0)||this.splice(e,1);return this},this.get=function(t){for(var e,i=0;e=this[i++];)if(void 0!==(e=e[t]))return e},this.set=function(t,e){for(var i,n=0;i=this[n++];)i[t]=e;return this},this.call=function(t,e){for(var i,n=0;i=this[n++];){var s=i[t];s&&(e?s.call(i):s.apply(i,e))}return this},this.hasClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.hasClass(t))return!0;return!1},this.addClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.addClass(t))return!0;return this},this.removeClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.removeClass(t))return!0;return this},this.toggleClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.toggleClass(t))return!0;return this},this.style=function(t){for(var e,i=0;e=this[i++];)e.style=t;return this},this.setStyle=function(t,e){for(var i,n=0;i=this[n++];)i.setStyle(t,e);return this},this.removeStyle=function(t){for(var e,i=0;e=this[i++];)e.removeStyle(t);return this},this.on=function(t,e){for(var i,n=0;i=this[n++];)i.on(t,e);return this},this.once=function(t,e){for(var i,n=0;i=this[n++];)i.once(t,e);return this},this.off=function(t,e){for(var i,n=0;i=this[n++];)i.off(t,e);return this},this.trigger=function(t,e){for(var i,n=0;i=this[n++];)i.trigger(t,e);return this},this.remove=function(){for(var t,e=0;t=this[e++];)t.remove();return this}}),yaxi.Control=Object.extend.call({},function(t,e,i){var n=Object.create,s=i.EventTarget.prototype,r=i.classes,o=i.__patches=[],a=0,c=i.patch=function(t){var e;for(t.__dirty=!0;e=t.parent;){if(e.__dirty)return;e.__dirty=!0,t=e}o.push(t),a=a||setTimeout(h,0)};function h(){i.__on_page_patch(o),a=o.length=0}this.$defaults=n(null),this.$converts=n(null),this.$converts.Class=!1,this.$mixin=n(null),this.__dirty=!0,this.$property=i.impl.property(),this.__build_get=function(e,t){return t.change&&!t.class?function(){var t=this.__changes;return t&&void 0!==(t=t[e])?t:this.$storage[e]}:function(){return this.$storage[e]}},this.__build_set=function(t,e){var i,r,o,a;return(i=e.class)?(e.change=!1,e.convert=!1,r=t,o="boolean"===e.type,a=i,function(t){var e,i,n=this.$storage;if((t=o?!!t:""+t)!==n[r]){if(i=!0===(n[r]=t)?a:a+t,e=this.__class_data){for(var s=e.length;s--;)if(0===e[s].indexOf(a)){t?e[s]=i:e.splice(s,1),t=0;break}t&&e.push(i)}else t&&(this.__class_data=[i]);this.__class_dirty=!0,this.__dirty||c(this)}}):(e.change?function(n,s){return function(t){var e,i=this.$storage;t=s?s.call(this,t):t,(e=this.__changes)?t!==e[n]&&(t!==i[n]?e[n]=t:delete e[n]):t!==i[n]&&((this.__changes={})[n]=t,this.__dirty||c(this))}}:function(e,i){return function(t){this.$storage[e]=i?i.call(this,t):t}})(t,e.convert)};var l=1,u=i.$controls=n(null);this.$property("uuid",0,{get:function(){return this.__uuid||((u[l]=this).__uuid=l++)}}),this.$property("id",""),this.$class="yx-control",this.$property("class","",{change:!1,alias:"className",get:function(){return this.$storage.class},set:function(t){var e=this.$storage;t=""+t,e.class!==t&&(e.class=t,this.__class_list=t?t.split(/\s+/):[],this.__class_dirty=!0,this.__dirty||c(this))}}),this.hasClass=function(t){if(t){var e=this.__class_list;return!!e&&0<=e.indexOf(t)}return!1},this.addClass=function(t){var e;if(!(t&&t.search(/\s+/)<0))throw"class not null or space";(e=this.__class_list)?e.indexOf(t)<0&&e.push(t):this.__class_list=[t],this.__class_dirty=!0,this.__dirty||c(this)},this.removeClass=function(t){var e,i;!t||(e=this.__class_list)&&0<=(i=e.indexOf(t))&&(e.splice(i,1),this.__class_dirty=!0,this.__dirty||c(this))},this.toggleClass=function(t){var e,i;t&&((e=this.__class_list)&&0<=(i=e.indexOf(t))?e.splice(i,1):this.addClass(t),this.__class_dirty=!0,this.__dirty||c(this))},this.__fix_active=function(t){this.__active!==(t=!!t)&&(this.__active=t,this.__class_dirty=!0,this.__dirty||c(this))};var f=i.color;function d(t,e){return f[e]}function p(t,e){if(o=t.__save_status){for(var i in o){var n=o[i];t[i]===n[1]&&(t[i]=n[0])}o=null}if(e){var s,r=t.$converts,o={};for(i in e){var a=t[i],c=e[i];(s=r[i])&&(s=s.fn)&&(c=s.call(t,c)),a!==c&&(o[i]=[a,c],t[i]=c)}}t.__save_status=o}function _(t){var e;return t&&(e=this.prototype,r[this.typeName=e.typeName=t]=this,r[t=t.toLowerCase()]=this,e.$class=e.$class+" yx-"+t),this}this.$property("style","",{convert:function(t){return t&&";"!==(t=(""+t).replace(/\s+:/g,":").replace(/@([\w-]+)/g,d))[t.length-1]&&(t+=";"),t||""}}),this.setStyle=function(t,e){var i,n;t&&(t+=":",(i=this.style)?(0<=(n=i.indexOf(t))&&(i=i.substring(0,n)+i.substring(i.indexOf(";",n)+1)),e&&(i+=t+e+";"),this.style=i):e&&(this.style=t+e+";"))},this.removeStyle=function(t){var e,i;t&&(e=this.style)&&0<=(i=e.indexOf(t+=":"))&&(this.style=e.substring(0,i)+e.substring(e.indexOf(";",i)+1))},this.$property("theme","",{class:"yx-theme-"}),this.$property("hidden",!1,{type:"boolean",class:"yx-hidden"}),this.$property("disabled",!1),this.$property("selected",!1,{change:!1,get:function(){return this.__selected||!1},set:function(t){(t=!!t)!==this.__selected&&((t=t&&this.__selected_status)?p(this,t):this.__save_status&&p(this))}}),this.$property("selectedStatus",null,{change:!1,alias:"selected-status",get:function(){return this.__selected_status||null},set:function(t){this.__selected_status=t,this.__selected&&p(this,t)}}),this.$property("key","",{change:!1}),this.$property("tag",null,{change:!1}),this.parent=null,this.checkParent=!0,this.$property("root",null,{get:function(){for(var t,e=this;t=e.parent;)e=t;return e}}),this.loadTemplate=function(t,e){if("function"!=typeof t)throw"argument templateFn of method loadTemplate must be a function!";this.load(t.call(this),e)},this.load=function(t,e){var i,n,s,r,o,a;if(i=t[1])for(var c in n=this.$converts,i)o=i[c],"bindings"===c?this.setBindings(e,o):(s=n[c])?(c=s.name,(a=s.fn)&&(o=a.call(this,o)),s.change?(r=r||(this.__changes={}))[c]=o:this.$storage[c]=o):!1!==s&&(this[c]=o);return(t=t[2])&&(a=this.__load_content)&&a.call(this,t,e),this},this.setBindings=function(t,e){if(1!==t.__model_type)throw"not a valid model object";t.$bind(this,e)},this.$push=function(t){var e;(e=this.__binding_push)&&(e.model[e.field]=t)},i.impl.find.call(this),this.on=s.on,this.once=s.once,this.off=s.off,this.trigger=s.trigger,this.hasEvent=s.hasEvent,i.__content_count=0,this.$converts.events={fn:function(t){if(0<i.__content_count)throw"does not support to bind event inside the content control!";for(var e in t)this.on(e,t[e])}},this.remove=function(){var t,e,i=this.parent;i&&(t=i.__children)&&0<=(e=t.indexOf(this))&&t.splice(e,1)},this.destroy=function(){var t,e;if((e=this.__uuid)&&delete u[e],t=this.__bindings)for(var i in this.__bindings=null,t)(e=t[i])&&(e=e.model)&&e.__bindings&&e.$unbind(t[i]);this.__event_keys&&this.off(),(e=this.$view)&&(this.destroyView(e),this.$view=null),this.ondestroy&&this.ondestroy(),this.parent=this.__binding_push=this.__model=null},this.destroyView=function(t){},this.__class_init=function(t){t.register=_,t.allowParent=!0,this.$defaults=n(this.$defaults),this.$converts=n(this.$converts),this.$mixin=n(this.$mixin)},(r[t.typeName=this.typeName="Control"]=t).allowParent=!0;var y=" can not be a sub type",v=" can not be null!",g=i.__check_parent=function(t,e){var i;if(!t)throw"Class"+v;if(!e)throw"parent"+v;if(!(i=t.allowParent))throw(i=t.typeName)?i+y+"!":JSON.stringify(t).substring(0,20)+"... not a valid type!";if(!0!==i&&!i(e))throw t.typeName+y+" of "+e.typeName+"!"};this.$createSubControl=function(t,e){var i,n;if(t){if(t.$storage&&(i=t.constructor))return g(i,this),(n=t).parent&&n.parent!==this&&n.remove(),n.parent=this,n;if(i=t[0]){if("string"==typeof i&&!(i=r[i]))throw'"'+t.Class+"\" doesn't register!";return g(i,this),(n=new i).parent=this,n.load(t,e),n}}return"can not create control, does not input type!"}},function(){var t;this.$storage=Object.create(this.$defaults),(t=this.init)&&t.apply(this,arguments)}),yaxi.Collection=Object.extend.call({},function(t){var e=Array.prototype,i=e.push,n=e.slice,s=e.splice,r=yaxi.patch,o=yaxi.$controls,a=!1;function c(t){t.__last=n.call(t,0),(t=o[t.$uuid])&&(t.__dirty||r(t))}function h(t,e,i,n){var s,r=e.length;for((i|=0)<0&&(i=0),n=n||[];i<r;)(s=t.$createSubControl(e[i++]))&&n.push(s);return n}this.__length=0,Object.defineProperty(this,"length",{get:function(){return this.__length},set:function(t){if(!a)throw"length is readonly!";a=!1,this.__length=t}}),this.indexOf=e.indexOf,this.lastIndexOf=e.lastIndexOf,this.forEach=e.forEach,this.map=e.map,this.reduce=e.reduce,this.reduceRight=e.reduceRight,this.load=function(t,e){var i=o[this.$uuid],n=t.length;0<this.__length&&this.clear();for(var s=0;s<n;s++)this[s]=i.$createSubControl(t[s],e);this.__length=n},this.set=function(t,e){0<=(t|=0)&&this.__length>t&&(e=o[this.$uuid].$createSubControl(e),this.__last||c(),this[t]=e)},this.push=function(){if(0<arguments.length){var t=h(o[this.$uuid],arguments,0,[]);return this.__last||c(this),a=!0,i.apply(this,t)}return this.__length},this.pop=function(){var t;return 0<this.__length&&(this.__last||c(this),a=!0,(t=e.pop.call(this))&&(t.parent=null)),t},this.unshift=function(){if(0<arguments.length){var t=h(o[this.$uuid],arguments,0,[]);return this.__last||c(this),a=!0,e.unshift.apply(this,t)}return this.__length},this.shift=function(){var t;return 0<this.__length&&(this.__last||c(this),a=!0,(t=e.shift.call(this))&&(t.parent=null)),t},this.splice=function(t,e){var i;if(this.__last||c(this),a=!0,0<(i=2<arguments.length?(i=h(o[this.$uuid],arguments,2,[t,e]),s.apply(this,i)):s.apply(this,arguments)).length)for(var n=i.length;n--;)i[n].parent=null;return i},this.clear=function(){var t;if(0<this.__length){this.__last||c(this),a=!0;for(var e=(t=s.call(this,0)).length;e--;)t[e].parent=null}return t||[]},this.sort=function(t){return 0<this.__length&&(this.__last||c(this),e.sort.call(this,t)),this},this.reverse=function(){return 0<this.__length&&(this.__last||c(this),e.reverse.call(this)),this},this.__insert=function(t,e){this.__last||c(this),a=!0,t<0?e.push.apply(this,e):(e.unshift(t,0),e.splice.apply(this,e))}},function(t){this.$uuid=t.uuid}),yaxi.ContentControl=yaxi.Control.extend(function(t,i,s){var n=Array,r=s.classes,o=s.patch,a=s.__check_parent;function c(t,e){var i,n=e[0];if("string"==typeof n&&!(n=r[n]))throw'"'+e[0]+"\" doesn't register!";return n?a(n,t):n=s.Text,(i=new n).parent=t,i.load(e),i}this.$property("content",null,{change:!1,get:function(){return this.$storage.content},set:function(t){this.$storage.content=this.__load_content(t)}}),this.__load_content=function(t){var e=this.__content;if(e&&"string"!=typeof e)for(var i=list.length;i--;)list[i].destroy();if(t instanceof n)try{s.__content_count++,e=t[0]instanceof n?function(t,e){for(var i=e.length,n=new Array(i),s=0;s<i;s++)n[s]=c(t,e[s]);return n}(this,t):[c(this,t)]}finally{s.__content_count--}else e=t=""+t;return this.__content=e,this.__content_dirty=!0,this.__dirty||o(this),t},this.destroy=function(){var t=this.__content;if(t&&"string"!=typeof t)for(var e=t.length;e--;)t[e].destroy();i.destroy.call(this)}}),yaxi.Box=yaxi.Control.extend(function(t,i){this.$property("layout","",{class:"yx-layout-"}),this.$property("children",null,{get:function(){return this.__children},set:function(t){var e=this.__children;0<e.length&&e.clear(),t&&0<t.length&&e.push.apply(e,t)}}),this.$converts.children={fn:function(t){t&&0<t.length&&this.__children.load(t)}},this.__load_content=function(t,e){this.__children.load(t,e)},yaxi.impl.query.call(this),this.destroy=function(){for(var t=this.__children,e=t.length;e--;)t[e].destroy();i.destroy.call(this)}},function(){var t;this.$storage=Object.create(this.$defaults),this.__children=new yaxi.Collection(this),(t=this.init)&&t.apply(this,arguments)}).register("Box"),yaxi.Repeater=yaxi.Control.extend(function(t,s){var u=Array;function e(){throw"Repeater doesn't supports children, please use model and template!"}function r(t,e){var i;(i=e.__bindings)?i.push(t.uuid):e.__bindings=[t.uuid],t.__arrayModel=e}function o(t,e){var i,n;!(i=e.__bindings)||0<=(n=i.indexOf(t.uuid))&&i.splice(n,1),t.__arrayModel=null}function a(t,e,i){var n,s,r=e.length;if(i[0]instanceof u)for(var o=i.length,a=0,c=new u(r*o),h=0;h<r;h++){s=e[h];for(var l=0;l<o;l++)(n=t.$createSubControl(i,s)).__model=s,c[a++]=n}else{c=new u(r);for(h=0;h<r;h++)s=e[h],(n=t.$createSubControl(i,s)).__model=s,c[h]=n}return c}function i(t,e){return t=t.__model.__index,(e=e.__model.__index)<t?1:t<e?-1:0}t.sealed=!0,this.$property("layout","",{class:"yx-layout-"}),this.$property("template",null,{change:!1,convert:function(t){return null!=t&&(t instanceof u?1===t.length&&t[0]instanceof u&&(t=t[0]):t=["text",null,""+t]),t}}),this.$property("submodel","",{change:!1}),this.$property("children",null,{get:e,set:e}),this.__load_content=function(t){this.template=t},this.load=function(t,e){var i,n=this.$storage;if(!e)throw"repeater does not specify a model!";if(s.load.call(this,t,e),i=n.submodel){if(!(e=e[i]))throw'can not find repeater submodel "'+i+'"!';if(2!==e.__model_type)throw'repeater model "'+i+'" not a valid array model!'}this.reload(e)},this.reload=function(t){if(!t||2!==t.__model_type)throw"repeater reload method need a array model!";var e,i=this.template;if(!i)throw"repeater does not specify a template!";var n=this.__children;0<n.length&&n.clear(),(e=this.__arrayModel)?e!==t&&(o(this,e),r(this,t)):r(this,t),0<t.length&&(e=a(this,t,i),n.__insert(-1,e))},yaxi.impl.query.call(this),this.__on_set=function(t,e){var i,n;(i=this.template)&&((n=this.$createSubControl(i,e)).__model=e,this.__children.set(t,n))},this.__on_insert=function(t,e){var i;(i=this.template)&&(e=a(this,e,i),this.__children.__insert(t,e))},this.__on_remove=function(t,e){this.__children.splice(t,e)},this.__on_clear=function(){this.__children.clear()},this.__on_sort=function(){this.__children.sort(i)},this.destroy=function(){for(var t=this.__children,e=t.length;e--;)t[e].destroy();(t=this.__arrayModel)&&o(this,t),s.destroy.call(this)}},function(){var t;this.$storage=Object.create(this.$defaults),this.__children=new yaxi.Collection(this),(t=this.init)&&t.apply(this,arguments)}).register("Repeater"),yaxi.Band=yaxi.Box.extend(function(t,e){},function(){yaxi.Box.apply(this,arguments)}).register("Band"),yaxi.Button=yaxi.ContentControl.extend(function(t,e){this.__no_content="content is empty",this.$property("layout","",{class:"yx-layout-"})},function(){yaxi.Control.apply(this,arguments)}).register("Button"),yaxi.Icon=yaxi.Control.extend(function(t,e){this.$property("icon","",{class:"icon-"})},function(){yaxi.Control.apply(this,arguments)}).register("Icon"),yaxi.IconButton=yaxi.ContentControl.extend(function(t,e){t.sealed=!0,this.$property("layout","",{class:"yx-layout-"}),this.$property("icon",""),this.$property("size","")},function(){yaxi.Control.apply(this,arguments)}).register("IconButton"),yaxi.Image=yaxi.Control.extend(function(t,e){this.$property("src",""),this.$property("mode",""),this.$property("lazyLoad",!1,{alias:"lazy-load"})},function(){yaxi.Control.apply(this,arguments)}).register("Image"),yaxi.ImageButton=yaxi.ContentControl.extend(function(t,e){t.sealed=!0,this.$property("layout","",{class:"yx-layout-"}),this.$property("src",""),this.$property("size","")},function(){yaxi.Control.apply(this,arguments)}).register("ImageButton"),yaxi.Popup=yaxi.Box.extend(function(t,e){},function(){yaxi.Box.call(this)}).register("Popup"),yaxi.ScrollBox=yaxi.Box.extend(function(){},function(){yaxi.Box.call(this)}).register("ScrollBox"),yaxi.SideBar=yaxi.Box.extend(function(t,e){},function(){yaxi.Box.apply(this,arguments)}).register("SideBar"),yaxi.Swiper=yaxi.Box.extend(function(t,e){this.$property("dots",!0),this.$property("dotStyle","",{alias:"dot-style"}),this.$property("activeDotStyle","",{alias:"dot-active-style"}),this.$property("autoplay",!1),this.$property("current",0),this.$property("interval",5e3),this.$property("duration",500),this.$property("circular",500),this.$property("vertical",!1),this.$property("before",""),this.$property("after",""),this.__on_change=function(t){this.current=t.current}},function(){yaxi.Box.apply(this,arguments)}).register("Swiper"),yaxi.Tab=yaxi.Box.extend(function(t,e){function i(t){n(this,t,-1)}function n(t,e,i){var n,s=t.children,r=new yaxi.Event("changing");r.lastIndex=i,r.lastPage=t.findPage(r.lastItem=s[i]||null),r.index=e,r.page=t.findPage(r.item=s[e]||null),!1!==t.trigger(r)&&(t.$storage.selectedIndex=e,(n=r.lastPage)&&n.addClass("yx-hidden"),(n=r.lastItem)&&(n.selected=!1),(n=r.item)&&(n.selected=!0,function(t,e){var i=e.page,n=e.item;if(!i){if(!(i=n.module))return;i=e.page=new i,t.selectedHost.children.push(i)}i.__tab?i.removeClass("yx-hidden"):(i.__tab=n.uuid,i.addClass("yx-tab-page"))}(t,r)),r.type="changed",t.trigger(r))}this.$property("line","bottom",{class:"yx-tab-"}),this.$property("host","",{change:!1}),this.$property("selectedIndex",-1,{change:!1,alias:"selected-index",convert:function(t){return 0<=(t=(t|=0)<0?-1:t)&&yaxi.bindBeforeRender(i,this,[t]),t},set:function(t){var e=this.$storage.selectedIndex;(t|=0)<0&&(t=-1),e!==t&&n(this,t,e)}}),this.$property("selectedItem",null,{get:function(){var t=this.selectedIndex;return 0<=t&&this.children[t]||null}}),this.$property("selectedHost",null,{get:function(){var t=this.host;if(!t)throw"Tab host not allow empty!";if("<"!==t[0])throw'Tab host must use "<" or "<<" to find up!';if(t=this.find(t)){if(t.children)return t;throw"Tab host must be a Box!"}throw'Tab can not find host "'+this.host+'"!'}}),this.findPage=function(t){if(t)for(var e=this.selectedHost.children,i=t.uuid,n=e.length;n--;)if(e[n].__tab===i)return e[n];return null},this.__on_tap=function(t){var e=this.parentToThis(t.target);e&&!e.selected&&(this.selectedIndex=this.children.indexOf(e))}},function(){yaxi.Box.apply(this,arguments)}).register("Tab"),yaxi.Text=yaxi.Control.extend(function(t,e){this.$property("text",""),this.$property("security",""),this.$property("format",null,{change:!1,convert:function(t){return this.__format="function"==typeof t?t:yaxi.pipe.compile(t),t}}),this.__load_content=function(t){this.text=t}},function(){yaxi.Control.apply(this,arguments)}).register("Text"),yaxi.TextBox=yaxi.Control.extend(function(){this.$property("value",""),this.$property("text",{get:function(){return(any=this.__format)?any(this.value):this.value},set:function(t){this.value=t}}),this.$property("placeholder",""),this.$property("align","left"),this.$property("maxlength",0),this.$property("pattern",""),this.$property("format",null,{change:!1,convert:function(t){return this.__format="function"==typeof t?t:yaxi.pipe.compile(t),t}})},function(){yaxi.Control.apply(this,arguments)}).register("TextBox"),yaxi.CheckBox=yaxi.Control.extend(function(t,e){this.$property("text",""),this.$property("checked",!1),this.$property("checkedIcon","icon-yaxi-checkbox-checked",{alias:"checked-icon"}),this.$property("uncheckedIcon","icon-yaxi-checkbox-unchecked",{alias:"unchecked-icon"})},function(){yaxi.Control.apply(this,arguments)}).register("CheckBox"),yaxi.NumberBox=yaxi.TextBox.extend(function(){this.$property("button",!1),this.$property("value",0,{convert:function(t){var e;return(t=+t||0)<(e=this.min)||t>(e=this.max)?e:t}}),this.$property("min",-1/0,{change:!1}),this.$property("max",1/0,{change:!1}),this.$property("step",1)},function(){yaxi.Control.apply(this,arguments)}).register("NumberBox"),yaxi.PasswordBox=yaxi.TextBox.extend(function(){this.$property("type","")}).register("PasswordBox"),yaxi.Memo=yaxi.Control.extend(function(){this.$property("value",""),this.$property("placeholder",""),this.$property("text","")},function(){yaxi.Control.apply(this,arguments)}).register("Memo"),yaxi.RadioButton=yaxi.Control.extend(function(t,e){this.$property("text",""),this.$property("checked",!1),this.$property("checkedIcon","icon-yaxi-radio-checked",{alias:"checked-icon"}),this.$property("uncheckedIcon","icon-yaxi-radio-unchecked",{alias:"unchecked-icon"}),this.$property("host",1)},function(){yaxi.Control.apply(this,arguments)}).register("RadioButton"),yaxi.SwitchButton=yaxi.Control.extend(function(t,e){this.$property("checked",!1)},function(){yaxi.Control.apply(this,arguments)}).register("SwitchButton"),yaxi.Page=yaxi.Box.extend(function(t,e){function i(t,e){yaxi.openPage(this,t,e)}t.allowParent=!1,this.__find_up=function(){return null},this.onopening=function(t){},this.onopened=function(t){},this.onclosed=function(){},this.__class_init=function(t){e.__class_init.call(this,t),t.open=i}},function(){yaxi.Box.apply(this,arguments)}).register("Page"),yaxi.Header=yaxi.ContentControl.extend(function(t,e){t.sealed=!0,t.allowParent=function(t){if(t instanceof yaxi.Page)return!0;throw"Header can only add to Page!"},this.$property("icon",""),this.__on_tap=function(t){"back"===t.key&&yaxi.closePage()}},function(){yaxi.Control.apply(this,arguments)}).register("Header"),yaxi.Dialog=yaxi.Page.extend(function(t){},function(){yaxi.Box.call(this)}).register("Dialog"),function(t){var e=t.h5=Object.create(null);t.platform="h5",e.weixin=0<=navigator.userAgent.toLowerCase().indexOf("micromessenger"),t.getSystemInfo=function(t){var e=window,i=navigator,n=screen,s=e.orientation;t&&t({deviceOrientation:180==s||0==s?"portrait":"landscape",language:i.language,pixelRatio:e.devicePixelRatio,platform:i.platform,screenHeight:n.height,screenWidth:n.width,statusBarHeight:0,system:i.appName,version:i.appVersion,windowHeight:e.innerWidth,windowWidth:e.innerHeight})}}(yaxi),function(r){var t=r.__view_host=document.createElement("div");t.className="yx-host",document.body?document.body.appendChild(t):document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(t)}),r.h5.weixin?document.documentElement.style.fontSize=(r.rem=100)+"px":(document.documentElement.style.fontSize=(r.rem=(1e4*window.innerWidth/750|0)/1e4)+"px",t.style.cssText="width:100%;height:100%;transform-origin: 0 0;");var n=r.$controls,s=r.Event,o=Object.create(null),a=!1,c=null,h=new Date,e=t.addEventListener.bind(t);function l(t){for(var e,i;t;){if((i=t.$uuid)&&(e=n[i])){for(;e.disabled;)e=e.parent;return e}t=t.parentNode}}function u(t,e){var i=new s(t.type);return e=e||t.changedTouches[0],i.key=t.target.getAttribute("key"),i.state=o,i.touches=t.changedTouches,i.clientX=e.clientX,i.clientY=e.clientY,i.distanceX=i.clientX-o.clientX,i.distanceY=i.clientY-o.clientY,i}function i(t){var e;if(e=l(t.target))return e.trigger(t.type)}function f(t,e,i){for(var n;t;){if((n=t[e])&&!1===n.call(t,i))return!1;t=t.parent}}function d(t){return t.stopPropagation(),t.preventDefault(),!1}e("touchstart",function(t){var e;if(e=l(t.target)){var i=t.changedTouches[0],n=u(t,i);if(a=!0,o.time=new Date,o.control=e,o.clientX=i.clientX,o.clientY=i.clientY,!1===f(e,"__on_touchstart",n)||!1===e.trigger(n))return a=d(t)}},!0),e("touchmove",function(t){var e;if(e=o.control){var i,n,s=u(t);if(!1===f(e,"__on_touchmove",s))return d(t);if(!1===e.trigger(s))return a=d(t);a&&(i=s.distanceX,n=s.distanceY,(i<-8||8<i||n<-8||8<n)&&(a=!1))}if(r.h5.weixin)return d(t)},!0),e("touchend",function(t){var e,i;if(e=o.control){var n=u(t);if(o.control=null,!1===f(e,"__on_touchend",n)||!1===e.trigger(n))return d(t);if(350<(i=new Date)-o.time){if(!(n.type="longpress")===e.trigger(n))return d(t)}else if(a&&(500<i-h||c!==e)&&(c=e,h=i,!(n.type="tap")===f(e,"__on_tap",n)||!1===e.trigger(n)))return d(t)}},!0),e("touchcancel",function(t){var e;if(e=o.control){var i=u(t);if(o.control=null,!1===f(e,"__on_touchcancel",i)||!1===e.trigger(i))return d(t)}},!0),e("input",function(t){var e,i;if(e=l(t.target))return(!(fn=e.__on_input)||!1!==fn.call(e,t))&&((i=new s("input")).value=t.target.value,e.trigger(i))},!0),e("change",function(t){var e,i,n;if(e=l(t.target))return(i=e.__on_change)&&i.call(e,t),(n=new s("change")).value=t.target.value,e.trigger(n)},!0),e("keydown",i,!0),e("keypress",i,!0),e("keyup",i,!0),e("blur",i,!0),e("focus",function(t){var e,i=t.target;if(!((e=r.Page.current)&&new Date-e.openTime<200))return(e=l(i))?e.trigger("focus"):void 0;i.blur()},!0),e("scroll",function(t){var e,i;if(e=l(t.target))return(i=e.__on_scroll)&&i.call(e,t.target),e.trigger("scroll")},!0),window.addEventListener("resize",function(){var t=document.activeElement;t&&this.innerHeight/this.innerWidth<1.2&&t.scrollIntoViewIfNeeded()})}(yaxi),yaxi.HTTP=yaxi.http=Object.extend.call({},function(o){function c(t){if(!t)return"";var e,i,n,s=[],r=encodeURIComponent;for(n in t)if(e=t[n],n=r(n),null!==e)switch(typeof e){case"undefined":s.push(n,"=&");break;case"boolean":case"number":s.push(n,"=",e,"&");break;case"string":case"function":s.push(n,"=",r(e),"&");break;default:if(e instanceof Array)for(var o=0,a=e.length;o<a;o++)void 0===(i=e[o])?s.push(n,"=&"):s.push(n,"=",r(i),"&");else s.push(n,"=",c(e),"&")}else s.push(n,"=null","&");return s.pop(),s.join("")}function t(t,e,i,n,s){return!i||i instanceof FormData||(s||/GET|HEAD|OPTIONS/i.test(t)?(e=e+(0<=e.indexOf("?")?"&":"?")+c(i),i=null):"application/x-www-form-urlencoded"===n.contentType?i=c(i):"string"!=typeof i&&(n.contentType||(n.contentType="application/json"),i=JSON.stringify(i))),n.method=t,n.url=e,n.data=i,n}o.redirectStatus=299,o.timeout=1e4,this.redirect=function(){location.href="index.html"},this.send=function(t){var e,i=this,n=new yaxi.Stream,s=new XMLHttpRequest;if(t.CORS&&("withCredentials"in s?s.withCredentials=!0:(e=window.XDomainRequest)&&(s=new e)),s.onreadystatechange=function(){4===this.readyState&&(this.onreadystatechange=null,i&&(clearTimeout(this.__timeout),i.receive(this,n,t)))},s.open(t.method,t.url,!1!==t.async),t.contentType&&s.setRequestHeader("Content-Type",t.contentType),e=t.header)for(var r in e)s.setRequestHeader(r,e[r]);return s.__timeout=setTimeout(function(){i=null,s.abort(),n.reject({url:t.url,status:601,message:yaxi.i18n.ajax.timeout})},t.timeout||o.timeout),s.send(t.data),n},this.receive=function(t,e,i){100<=t.status&&t.status<300?this.response(t,e,i):e.reject({url:i.url,status:t.status||600,message:t.statusText||t.responseText||yaxi.i18n.ajax.network,options:i})},this.response=function(t,e,i){t.status===o.redirectStatus?this.redirect():e.resolve(t.responseText||t.responseXML)},(this.__class_init=function(s){var r=t;s.send=function(t,e,i,n){return n=r(t?t.toUpperCase():"GET",e,i,n||{}),(new s).send(n)},s.head=function(t,e,i){return i=r("HEAD",t,e,i||{},!0),(new s).send(i)},s.get=function(t,e,i){return i=r("GET",t,e,i||{},!0),(new s).send(i)},s.post=function(t,e,i){return i=r("POST",t,e,i||{}),(new s).send(i)},s.put=function(t,e,i){return i=r("PUT",t,e,i||{}),(new s).send(i)},s.del=function(t,e,i){return i=r("DELETE",t,e,i||{}),(new s).send(i)}})(o)},function(){}),yaxi.Control.mixin(function(t){var o=Object.assign,i=document.createElement("div");yaxi.template=function(t,e){t&&e&&(t.__html_template=e,t.__dom_template=null)},this.__html_template='<div class="$class"></div>',this.render=function(){var t,e=this.$view||(this.$view=(this.__dom_template||(t=this,i.innerHTML=t.__html_template.replace("$class",t.$class),view=i.firstChild,i.removeChild(view),t.constructor.prototype.__dom_template=view)).cloneNode(!0));return e.$uuid=this.uuid,this.patch(e),e},this.destroyView=function(t){},this.patch=function(t){var e;if(this.__dirty=!1,this.__class_dirty&&(this.__class_dirty=!1,this.__render_class(t)),e=this.__changes){var i,n,s=this.$storage,r=this.$mixin;for(n in this.__changes=null,o(s,e),e)(i=r[n])&&i.call(this,t,e[n]);return e}},this.__render_class=function(t){var e=this.__class_list,i=this.__class_data,e=e?" "+e.join(" "):"",i=i?" "+i.join(" "):"";t.className=this.$class+e+i},t.style=function(t,e){t.style.cssText=e},t.id=function(t,e){t.id=e},t.disabled=function(t,e){e?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled")}}),yaxi.ContentControl.mixin(function(t,i){this.__no_content="",this.render=function(){var t=i.render.call(this),e=this.__content;return this.__content_dirty&&(null==e&&(e=this.__no_content),this.__render_content(t,e)),t},this.__render_content=function(t,e){if(this.__content_dirty=!1,"string"==typeof e)this.__render_text(t,e);else for(var i,n=0;i=e[n++];)t.appendChild(i.render())},this.__render_text=function(t,e){t.textContent=e}}),yaxi.Box.mixin(function(t,r){yaxi.template(this,'<div class="$class"></div>'),this.render=function(){for(var t,e=r.render.call(this),i=this.__children,n=0;t=i[n++];)e.appendChild(t.render());return e},this.patch=function(t){var e,i,n=this.__children;if(r.patch.call(this,t),n.__last&&(n.__last=null,function(t,e){var i,n,s=e.firstChild,r=0;for(;i=t[r++];)(n=i.$view)?n!==s?e.insertBefore(n,s):s=s.nextSibling:e.insertBefore(i.render(),s);for(;s;)s=(n=s).nextSibling,e.removeChild(n)}(n,t)),0<(i=n.length))for(var s=0;s<i;s++)(e=n[s])&&e.__dirty&&(t=e.$view)&&e.patch(t)}}),yaxi.Repeater.mixin(function(t,e){var i=yaxi.Box.prototype;yaxi.template(this,'<div class="$class"></div>'),this.render=i.render,this.patch=i.patch}),yaxi.Band.mixin(function(t,e){yaxi.template(this,'<div class="$class"></div>')}),yaxi.Button.mixin(function(t,e){yaxi.template(this,'<div class="$class"></div>')}),yaxi.Icon.mixin(function(t,e){this.$class+=" iconfont",yaxi.template(this,'<div class="$class"></div>')}),yaxi.IconButton.mixin(function(t,i){yaxi.template(this,'<div class="$class"><div></div><div class="yx-iconbutton-content"></div></div>'),t.icon=function(t,e){t.firstChild.className="yx-iconbutton-icon iconfont"+(e?" icon-"+e:"")},t.size=function(t,e){var i=t.firstChild.style;i.width=i.height=e},this.__render_content=function(t,e){i.__render_content.call(this,t.lastChild,e)}}),yaxi.Image.mixin(function(t,e){yaxi.template(this,'<image class="$class"></image>')}),yaxi.ImageButton.mixin(function(t,i){yaxi.template(this,'<div class="$class"><div class="yx-imagebutton-image"></div><div class="yx-imagebutton-content"></div></div>'),t.src=function(t,e){t.firstChild.style.backgroundImage=e?"url("+e+")":""},t.size=function(t,e){var i=t.firstChild.style;i.width=i.height=e},this.__render_content=function(t,e){i.__render_content.call(this,t.lastChild,e)}}),yaxi.ScrollBox.mixin(function(t,e){var n,s,r;function i(){var t;if(!n&&(t=this.__loading)&&"completed"!==t.status){var e=(new Date).getTime();if(e-(t.__time||0)<100)return;var i=this.$view;if(i.scrollTop+i.offsetHeight<i.scrollHeight)return;t.index++||(t.index=1),t.__time=e,t.onload.call(this,t)}}this.$property("loading",null,{get:function(){return this.__loading},set:function(t){if(t){var e=yaxi.Loading;if("function"==typeof t)(e=new e).onload=t;else{if("function"!=typeof t.onload)throw"loading onload must be a function!";e=t instanceof e?t:new e(t)}(e.parent=this).__loading=e,this.__on_scroll=i}else this.__on_scroll=null}}),this.$property("pulldown",null,{get:function(){return this.__pulldown},set:function(t){var e;if(t)if(e=yaxi.Pulldown,"function"==typeof t)(e=new e).onload=t;else{if("function"!=typeof t.onload)throw"pulldown onload must be a function!";e=t instanceof e?t:new e(t)}this.__pulldown=e}}),this.__on_touchmove=function(t){if(n&&n.$view)return n.move(t.distanceY),t.stop(!0),!1;if((n=this.__pulldown)&&this.$view.scrollTop<1&&16<t.distanceY&&t.distanceY>t.distanceX+4){var e=t.state,i=this.$view.style;return(s=this.__loading)&&(s.$view?s.$view.style.visibility="hidden":s=null),e.control=this,e.clientX=t.clientX,e.clientY=t.clientY,r="auto"===i.overflowY?this.$view:null,n.start(this),t.stop(!0),!1}n=r=null},this.__on_touchend=this.__on_touchcancel=function(t){if(n){if(n.$view)return r&&(r.style.overflowY="auto"),n.stop(this,s),n=null,t.stop(!0),!1;n=s=r=null}}}),yaxi.SideBar.mixin(function(t,e){yaxi.template(this,'<div class="$class"></div>')}),yaxi.Swiper.mixin(function(t,e){yaxi.template(this,'<div class="$class"></div>')}),yaxi.Tab.mixin(function(t,e){yaxi.template(this,'<div class="$class yx-tab-bottom"></div>')}),yaxi.Text.mixin(function(t,e){yaxi.template(this,'<span class="$class"></span>'),t.text=function(t,e){var i;this.__security||(t.textContent=(i=this.__format)?i(e):e)},t.security=function(t,e){var i;(this.__security=e)?t.textContent=e:t.textContent=(i=this.__format)?i(this.text):this.text}}),yaxi.TextBox.mixin(function(t,e){yaxi.template(this,'<span class="$class"><input type="text" /></span>'),this.focus=function(){var t;(t=this.$view)&&t.focus()},this.blur=function(){var t;(t=this.$view)&&t.blur()},t.value=function(t,e){var i=this.__format;i&&(e=i(e)),t.firstChild.value=e},t.placeholder=function(t,e){t.firstChild.setAttribute("placeholder",e)},t.maxlength=function(t,e){t.firstChild.setAttribute("maxlength",e)},t.pattern=function(t,e){t.firstChild.setAttribute("pattern",e)},this.__on_change=function(t){var e=this.value;this.value=t.target.value,this.value!==e?this.$push(this.value):this.$mixin.value(this.$view,e)}}),yaxi.CheckBox.mixin(function(t,e){yaxi.template(this,'<span class="$class"><svg aria-hidden="true"><use xlink:href="#icon-yaxi-checkbox-unchecked"></use></svg><span></span></span>'),t.text=function(t,e){t.lastChild.textContent=e},t.checked=function(t,e){t.firstChild.firstChild.setAttribute("xlink:href","#"+(e?this.checkedIcon:this.uncheckedIcon))},t.checkedIcon=function(t,e){e&&this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},t.uncheckedIcon=function(t,e){e&&!this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},this.__on_tap=function(){this.$push(this.checked=!this.checked),this.trigger("change")}}),yaxi.NumberBox.mixin(function(t,e){function s(t,e){var i=t.value;if(t.value=e,(e=t.value)!==i)return t.$push(e),(i=new yaxi.Event("change")).view=t.$view.firstChild,i.value=e,t.trigger(i);t.$mixin.value(t.$view,e)}yaxi.template(this,'<span class="$class"><input type="number" /><span class="yx-number-minus">-</span><span class="yx-number-plus"></span></span>'),this.clear=function(){var t;(t=this.$view)&&(t.firstChild.value=""),this.$storage.value=0},t.button=function(t,e){e?t.setAttribute("button",!0):t.removeAttribute("button")},t.value=function(t,e){var i=this.__format;i&&(e=i(e)),(t=t.firstChild).value=e||(t.value?0:""),t=t.nextSibling,e===this.min?t.setAttribute("disabled",!0):t.removeAttribute("disabled"),t=t.nextSibling,e===this.max?t.setAttribute("disabled",!0):t.removeAttribute("disabled")},this.__on_tap=function(t){for(var e,i=this.$view,n=t.view;n&&n!==i;){if(e=n.classList){if(e.contains("yx-number-minus"))return s(this,(+i.firstChild.value||0)-this.step),t.stop(),!1;if(e.contains("yx-number-plus"))return s(this,(+i.firstChild.value||0)+this.step),t.stop(),!1}n=n.parentNode}},this.__on_input=function(t){var e=this.maxlength;if(0<e&&t.target.value.length>=e)return!1},this.__on_change=function(t){var e=this.value;this.value=+t.target.value||0,this.value!==e?this.$push(this.value):this.$mixin.value(this.$view,e)}}),yaxi.PasswordBox.mixin(function(t,e){yaxi.template(this,'<span class="$class"><input type="password" /><span><svg aria-hidden="true"><use xlink:href="#icon-yaxi-eye-close"></use></svg></span></span>'),t.type=function(t,e){t.lastChild.className=e?"yx-password-"+e:""},this.__on_tap=function(t){for(var e,i=this.$view,n=t.view;n&&n!==i;){if("SPAN"===n.tagName)return e="text"===(i=i.firstChild).type?(i.type="password","yaxi-eye-close"):(i.type="text","yaxi-eye-open"),void n.firstChild.firstChild.setAttribute("xlink:href","#icon-"+e);n=n.parentNode}}}),yaxi.Memo.mixin(function(i,t){this.focus=function(){var t;(t=this.$view)&&t.focus()},this.blur=function(){var t;(t=this.$view)&&t.blur()},yaxi.template(this,'<span class="$class"><textarea></textarea></span>'),i.value=function(t,e){t.firstChild.value=e},i.placeholder=function(t,e){t.firstChild.placeholder=e},this.__on_change=function(t){var e=this.value;this.value=t.target.value,this.value!==e?this.$push(this.value):i.value(this.$view,e)}}),yaxi.RadioButton.mixin(function(t,e){yaxi.template(this,'<span class="$class"><svg aria-hidden="true"><use xlink:href="#icon-yaxi-radio-unchecked"></use></svg><span></span></span>'),t.text=function(t,e){t.lastChild.textContent=e},t.checked=function(t,e){t.firstChild.firstChild.setAttribute("xlink:href","#"+(e?this.checkedIcon:this.uncheckedIcon))},t.checkedIcon=function(t,e){e&&this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},t.uncheckedIcon=function(t,e){e&&!this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},this.__on_tap=function(){this.checked||(this.$push(this.checked=!0),this.trigger("change"),this.mutex(this.host))},this.mutex=function(t){var e=this.parent;for(t|=0;--t;)e=e.parent;if(e)for(var i=e.query(">>RadioButton"),n=i.length;n--;){var s=i[n];s instanceof Class&&s!==this&&s.checked&&(s.checked=!1)}}}),yaxi.SwitchButton.mixin(function(t,e){yaxi.template(this,'<span class="$class"><span class="yx-switchbutton-bar"></span><span class="yx-switchbutton-button"></span></span>'),t.checked=function(t,e){var i=t.classList;e?i.add("yx-switchbutton-checked"):i.remove("yx-switchbutton-checked")},this.__on_tap=function(){this.$push(this.checked=!this.checked),this.trigger("change")}}),yaxi.Page.mixin(function(t,e){var i=Object.defineProperty,s=[],r=[],o=[],a=yaxi.__view_host;function c(t){for(var e,i=0;e=t[i++];)e.apply(t[i++],t[i++]);t.length=0}yaxi.template(this,'<div class="$class"></div>'),yaxi.bindBeforeRender=function(t,e,i){r.push(t,e,i)},yaxi.bindAfterRender=function(t,e,i){o.push(t,e,i)},i(yaxi,"currentPages",{get:function(){return s.slice()}}),i(yaxi,"currentPage",{get:function(){return s[s.length-1]||null}}),yaxi.openPage=function(t,e,i){"function"==typeof e&&(e=void 0);var n=new t(e);!1!==n.onopening(e)&&(s.push(n),n.payload=e,a.appendChild(n.render()),c(r),n.onopened(n.payload))},yaxi.closePage=function(t,e){var i;for("function"==typeof t?t=1:(t|=0)<1&&(t=1);i=s.pop();)if(a.removeChild(i.$view),i.onclosed(),i.destroy(),--t<=0)return},yaxi.__on_page_patch=function(t){var e,i,n=0;for(c(r);e=t[n++];)(i=e.$view)&&e.patch(i);c(o)}}),yaxi.Header.mixin(function(t,i){yaxi.template(this,'<div class="$class"><span class="yx-header-back iconfont icon-common-back" key="back" style="display:none;"></span><span class="yx-header-hide"></span><span class="yx-header-host"></span></div>'),this.__render_content=function(t,e){i.__render_content.call(this,t.lastChild,e),t.firstChild.style.display=1<yaxi.currentPages.length?"":"none"},t.icon=function(t,e){(t=t.firstChild.nextSibling).className=e?"yx-header-icon iconfont "+e:"yx-header-hidden"}}),yaxi.Title=yaxi.Control.extend(function(t){yaxi.template(this,'<div class="$class"></div>'),this.$property("text",""),this.$mixin.text=function(t,e){t.textContent=e}}).register("Title");