<page theme="bg-thick">
    <template src="../components/header.html" />
    <databox 
        d:data="$model.categories" 
        height="80rem" 
        layout="row middle space-between" 
        margin-bottom="10rem" 
        padding="0 20rem" 
        e:tap="handleSwitch">
        <text b:theme="$item.theme" d:text="$item.text" tag="$item.status" />
    </databox>
    <databox d:data="$model.data" flex="auto">
        <box margin-bottom="10rem" theme="bg-standard">
            <box line-height="80rem" padding="0 20rem" theme="line-lightest line-bottom">
                <text d:text="$item.time" />
                <icon d:tag="$index" icon="common-delete" absolute="middle right" />
            </box>
            <databox d:data="$item.data" item="$lesson" padding="0 20rem">
                <box layout="line" d:tag="$lesson.id" height="100rem" margin="20rem 0" overflow="hidden" e:tap="handleOpenDetail">
                    <image d:src="$lesson.image" width="140rem" height="100%" />
                    <box width="560rem" height="100%" padding-left="20rem">
                        <box height="50rem" overflow="hidden">
                            <text d:text="$lesson.name" />
                        </box>
                        <box theme="text-lightest" height="40rem" overflow="hidden" font-size="24rem">
                            <text d:text="$lesson.amount + ' * ï¿¥' + $lesson.price + ' = ' + $owner.pipe('round:2')($lesson.amount * $lesson.price)" />
                        </box>
                    </box>
                </box>
            </databox>
        </box>
    </databox>
</page>