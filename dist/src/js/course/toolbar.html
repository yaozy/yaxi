<box static="true" overflow="visible" z-index="1" height="80rem" theme="line-lightest line-bottom">
    <masklayer b:hidden="$model.hidden" e:tap="handleClose" />
    <box 
        e:tap="handleSwitch" 
        layout="row" 
        theme="bg-standard line-lightest line-bottom" 
        height="80rem" 
        line-height="80rem" 
        text-align="center">
        <iconbutton 
            b:icon="$model.sort.icon" 
            b:text="$model.sort.text" 
            layout="row-reverse" 
            tag="sort" 
            width="33%" 
            height="100%" />
        <iconbutton 
            b:icon="$model.category.icon" 
            b:text="$model.category.text"
            layout="row-reverse" 
            tag="category" 
            width="34%" 
            height="100%" />
        <iconbutton 
            b:icon="$model.filter.icon" 
            layout="row-reverse" 
            text="筛选" 
            tag="filter" 
            width="33%" 
            height="100%" />
    </box>
    <box b:hidden="$model.sort.hidden" theme="bg-standard">
        <databox d:data="$model.sort.data" e:tap="handleSort">
            <box 
                b:key="$index" 
                height="80rem" 
                line-height="80rem" 
                padding-left="30rem" 
                theme="line-lightest line-top" >
                <vline b:color="$item.theme" absolute="left middle" top="0" left="0" />
                <text b:theme="$item.theme" b:text="$item.text" />
            </box>
        </databox>
    </box>
    <box b:hidden="$model.category.hidden" layout="row" theme="bg-standard" max-height="640rem">
        <databox d:data="$model.category.level1s" theme="bg-thicker" width="25%" e:tap="handleCategoryLevel1">
            <iconbutton 
                b:key="$index" 
                b:icon="$item.icon" 
                b:text="$item.text" 
                b:theme="$item.theme" 
                layout="row before" 
                width="100%" 
                height="80rem" 
                padding-left="20rem" />
        </databox>
        <databox d:data="$model.category.level2s" theme="bg-thick" width="35%" e:tap="handleCategoryLevel2" >
            <text 
                b:key="$index" 
                b:text="$item.text" 
                b:theme="$item.theme" 
                width="100%" 
                height="80rem" 
                line-height="80rem" 
                padding-left="20rem" />
        </databox>
        <databox d:data="$model.category.level3s" width="40%" e:tap="handleCategoryLevel3">
            <text 
                b:key="$index" 
                b:text="$item.text" 
                b:theme="$item.theme" 
                width="100%" 
                height="80rem" 
                line-height="80rem" 
                padding-left="20rem" />
        </databox>
    </box>
    <box b:hidden="$model.filter.hidden" layout="column" theme="bg-standard" max-height="640rem">
        <databox d:data="$model.filter.data" flex="auto" theme="line-lightest line-top" font-size="28rem">
            <box>
                <box height="80rem" line-height="80rem" padding-left="20rem">
                    <text b:text="$item.text" />
                </box>
                <databox 
                    b:key="$index" 
                    d:data="$item.data" 
                    padding-left="20rem" 
                    tag="filter"
                    e:tap="handleChangeFilter" >
                    <text 
                        b:key="$index" 
                        b:text="$item.text" 
                        b:theme="$item.theme" 
                        width="220rem" 
                        height="60rem" 
                        line-height="60rem" 
                        margin="0 20rem 20rem 0" 
                        border-radius="40rem" 
                        text-align="center" />
                </databox>
            </box>
        </databox>
        <box theme="bg-standard line-lightest line-top" height="80rem" line-height="80rem">
            <text theme="text-primary" padding="0 30rem" e:tap="handleClearFilter">清空筛选</text>
            <button 
                width="200rem" 
                height="60rem" 
                absolute="middle right"
                right="30rem"
                e:tap="handleFilter">确定</button>
        </box>
    </box>
</box>