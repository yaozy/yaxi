var yaxi=Object.create(null);yaxi.language=navigator.language||navigator.userLanguage||"en-US",document.documentElement.style.fontSize=(yaxi.rem=(2*window.innerWidth*1e4/375|0)/100)+"px",Object.extend=function(t,e){var i,n=this.prototype||null,s=Object.create(n);return e?e.ctor=e:(e=function(){i&&i.apply(this,arguments)}).ctor=this.ctor,e.superclass=n?this:null,e.extend=this.extend||Object.extend,(e.prototype=s).constructor=e,s.__class_init&&s.__class_init(e),t&&(t.call(s,e,n),i=e.ctor),e},Function.prototype.bind||(Function.prototype.bind=function(e){var i=this;if(1<arguments.length){var n=[].slice.call(arguments,1),s=n.push;return function(){var t=n.slice(0);return 0<arguments.length&&s.apply(t,arguments),i.apply(e||this,t)}}return function(){return i.apply(e||this,arguments)}}),function(){var e=/([yMdhmsSq]+)/g,i={GMT:"toGMTString",ISO:"toISOString",UTC:"toUTCString",date:"toDateString",time:"toTimeString",locale:"toLocaleString","locale-date":"toLocaleDateString","locale-time":"toLocaleTimeString"},s={y:"getFullYear",d:"getDate",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"};this.format=function(t){var n;return t?(n=i[t])?this[n]():(n=this,t.replace(e,function(t,e){var i=e.length;switch(e=e.charAt(0)){case"M":e=n.getMonth()+1;break;case"q":e=(n.getMonth()+3)/3|0;break;default:e=n[s[e]]()}return e=""+e,1===i||(i-=e.length)<=0?e:"0000".substring(0,i)+e})):this.toString()},this.addHour=function(t){return(t|=0)&&this.setTime(this.getTime()+36e5*t),this},this.addMinute=function(t){return(t|=0)&&this.setTime(this.getTime()+6e4*t),this},this.addSecond=function(t){return(t|=0)&&this.setTime(this.getTime()+1e3*t),this},Date.create=function(t){if(t){var e=new Date(t),i=e.valueOf();if(i==i)return e;if("string"==typeof t&&(t=t.match(/\d+/g)))return i=0|t[1],new Date(t[0],0<i?i-1:0,0|t[2],0|t[3],0|t[4],0|t[5])}return null}}.call(Date.prototype),function(t){var e=Object.create(null),n=Object.create(null);e["&"]="&amp;",e["<"]="&lt;",e[">"]="&gt;",e["'"]="&apos;",e['"']="&quot;",n.amp="&",n.lt="<",n.gt=">",n.apos="'",n.quot='"',t.encode=function(t){if(t&&"string"==typeof t){var i=e;return t.replace(/([&<>'"])/g,function(t,e){return i[e]})}return""+t},t.decode=function(t){var i=n;return t&&t.replace(/&(\w+);/g,function(t,e){return i[e]||e})}}(yaxi.html=Object.create(null)),function(t){var s=t.round,i=(0).toFixed,n=new r(0);function r(t){var e,i;return t&&(t instanceof r?(i=t.d,e=t.v):(t=+t)===t&&(e=t===(0|t)?t:(i=(e=(""+t).split("."))[1])?(i=i.length,+(e[0]+e[1])):(i=0,t))),this.v=e||0,this.d=i||0,this}r.singleton=r.bind(new r(0));var e=(window.Decimal=r).prototype;e.clone=function(){var t=Object.create(e);return t.v=this.v,t.d=this.d,t},e.plus=function(t){var e,i;if(!t)return this;if(t instanceof r)i=t.d,t=t.v;else{if((t=+t)!==t)return this;t===(0|t)?i=0:(i=(t=(""+t).split("."))[1])?(i=i.length,t=+(t[0]+t[1])):i=0}return(e=this.d)>i?this.v+=t*("1e"+e)/("1e"+i):e<i?(this.d=i,this.v=this.v*("1e"+i)/("1e"+e)+t):this.v+=t,this},e.minus=function(t){return this.plus(-t)},e.mul=function(t){var e;if(!t)return this.v=this.d=0,this;if(!this.v)return this;if(t instanceof r)e=t.d,t=t.v;else{if((t=+t)!==t)return this;t===(0|t)?e=0:(e=(t=(""+t).split("."))[1])?(e=e.length,t=+(t[0]+t[1])):e=0}return t?(this.v*=t,this.d+=e):this.v=this.d=0,this},e.div=function(t){var e,i;if(!t)return this.v=this.d=0,this;if(!this.v)return this;if(t instanceof r)i=t.d,t=this.v/t.v;else{if((t=+t)!==t)return this.v=this.d=0,this;t===(0|t)?i=0:(i=(t=(""+t).split("."))[1])?(i=i.length,t=+(t[0]+t[1])):i=0}return t?(t=(e=this.d)!==i?i<e?this.v/(t*("1e"+(e-i))):this.v*("1e"+(i-e))/t:this.v/t,t=r.call(n,t),this.v=t.v,this.d=t.d):this.v=this.d=0,this},e.pow10=function(t){if(t|=0){if(!this.v)return this;if(0<t){var e=this.d;e<t?(this.d=0,this.v*="1e"+(t-e)):t===e?this.d=0:this.d-=t}else this.d-=t}return this},e.round=function(t){var e=this.d;return(t|=0)<e&&(this.v=s(this.v*("1e"+t)/("1e"+e)),this.d=t),this},e.toFixed=function(t){var e=this.d;return 0<(t|=0)?e?t<e?i.call(s(this.v*("1e"+t)/("1e"+e))/("1e"+t),t):i.call(this.v/("1e"+e),t):i.call(this.v,t):e?""+s(this.v/("1e"+e)):""+this.v},e.valueOf=function(){var t=this.d;return t?this.v/("1e"+t):this.v},e.toString=function(t){var e=this.d;return(e?this.v/("1e"+e):this.v).toString(t)},Object.defineProperty(e,"value",{get:function(){var t=this.d;return t?this.v/("1e"+t):this.v}});var o=Number.prototype;"1.11"===1.115.toFixed(2)&&(o.toFixed=function(t){return r.call(n,this).toFixed(t)}),o.round=function(t){var e=+this;if(e!=e)return 0;if(e===(0|e))return e;if(0<(t|=0)){var i=(""+e).split("."),n=i[1];return!n||n.length<=t?e:s(i[0]+n.slice(0,t)+"."+n[t])/("1e"+t)}return s(e)},t.round=function(t,e){return(+t).round(e)}}(Math),yaxi.__extend_properties=function(o,a){var h=Object.defineProperty;function l(t){return!!t}function c(t){return 0|t}function u(t){return+t||0}function d(t){return""+t}function f(t){return Date.create(t)}function p(t){return t}return function(t,e,i){var n,s,r;if(/\W/.test(t))throw'"'+t+'" not a valid property name!';if(e&&"object"==typeof e?(r=e.name||t,n=e.defaultValue,s=e.converter,void 0===n&&(n=null)):(r=t,n=null==e?null:e,e={}),!s)switch(e.type||typeof n){case"boolean":s=l;break;case"int":case"integer":s=c;break;case"number":s=u;break;case"string":s=d;break;case"date":s=f;break;default:s=p}e.get||(e.get=o(r,i=!1!==i)),e.set||(e.set=a(r,s,i)),this.$defaults[t]=n,this.$converter[t]={name:r,change:i,fn:s},h(this,t,e)}},yaxi.Event=Object.extend.call({},function(t){this.type="",this.target=null,this.cancelBubble=!1,this.defaultPrevented=!1,this.stop=function(){this.cancelBubble=!0},this.prevent=function(){this.defaultPrevented=!0}},function(t){this.type=t}),yaxi.EventTarget=Object.extend(function(t){var h=yaxi.Event,e=this;this.on=yaxi.on=function(t,e){if(t&&"function"==typeof e){var i,n=this.__event_keys;n?(i=n[t])?i.push(e):i=n[t]=[e]:i=(n=this.__event_keys={})[t]=[e],(e=this.__event_change)&&this.__event_change(t,i,!0)}},this.once=yaxi.once=function(i,n){if("function"==typeof n){this.on(i,function t(e){n.call(this,e),this.off(i,t)})}},this.off=yaxi.off=function(t,e){var i,n=this.__event_keys;if(n)if(t){if(i=n[t]){if(e){for(var s=i.length;s--;)i[s]===e&&i.splice(s,1);i[0]||(n[t]=null)}else i.length=0,n[t]=null;(e=this.__event_change)&&e.call(this,t,i,!1)}}else for(t in n)this.off(t)},this.trigger=yaxi.trigger=function(t,e){var i,n,s,r,o=this;t&&"string"!=typeof t&&((s=t).target=this,t=s.type);do{if((i=o.__event_keys)&&(i=i[t]))for(n=0;r=i[n++];){if(!s&&((s=new h(t)).target=this,e))for(var a in e)s[a]=e[a];if(!1===r.call(o,s)&&(s.defaultPrevented=!0),s.cancelBubble)return!s.defaultPrevented}}while(o=o.parent);return!s||!s.defaultPrevented},this.hasEvent=yaxi.hasEvent=function(t,e){var i,n=this.__event_keys;if(n&&(i=n[t])&&i[0]){if(!e)return!0;for(var s=i.length;s--;)if(i[s]===e)return!0}return!1},t.mixin=function(t){t.on=e.on,t.once=e.once,t.off=e.off,t.trigger=e.trigger,t.hasEvent=e.hasEvent}}),function(){var s=yaxi.Event,n=yaxi.__layer_stack=[],r=Object.create(null),o=0,a=null,h=new Date,t=document.addEventListener.bind(document);function l(t){for(var e;t;){if(e=t.$control){for(;e.disabled;)e=e.parent;return e}t=t.parentNode}}function c(){var t=r.control;if(o=0,r.control=null,r.tap=!1,t&&r.longTap){var e=new s("longTap");return e.dom=r.dom,t.trigger(e)}}function u(){o&&(clearTimeout(o),o=0),r.tap=r.longTap=!1}function d(t,e){var i=new s(t.type);return e=e||t.changedTouches[0],i.dom=t.target,i.start=r,i.original=t,i.touches=t.changedTouches,i.clientX=e.clientX<<1,i.clientY=e.clientY<<1,i.distanceX=i.clientX-r.clientX,i.distanceY=i.clientY-r.clientY,i}function e(t){var e,i;if(e=l(t.target))return(i=new s(t.type)).dom=t.target,i.original=t,e.trigger(i)}t("touchstart",function(t){var e;if((e=n[0])&&function(t,e){for(var i=t.$dom;e;){if(e===i)return!1;e=e.parentNode}return t.close(),!0}(n[n.length-1],t.target))return t.stopPropagation(),!1;if(e=l(t.target)){var i=t.changedTouches[0];if(r.tap=r.longTap=!0,r.dom=t.target,r.control=e,r.clientX=i.clientX<<1,r.clientY=i.clientY<<1,!1===e.trigger(d(t,i)))return u(),!1;o=setTimeout(c,600)}},!0),t("touchmove",function(t){var e;if(e=r.control){if(t=d(t),!1===e.trigger(t))return r.tap&&u(),!1;if(r.tap){var i=t.distanceX,n=t.distanceY;(i<-8||8<i||n<-8||8<n)&&u()}}},!0),t("touchend",function(t){var e,i=r.control;if(r.control=null,o&&(clearTimeout(o),o=0),i){if(t=d(t),!1===i.trigger(t))return!1;if(r.tap&&(500<(e=new Date)-h||a!==i)){if(h=e,(e=(a=i).__on_tap)&&!1===e.call(i,t))return!1;if(!(t.type="tap")===i.trigger(t))return!1}}},!0),t("touchcancel",function(t){var e;if(o&&(clearTimeout(o),o=0),e=r.control)return r.control=null,e.trigger(d(t))},!0),t("input",function(t){var e,i;if(e=l(t.target))return(i=new s("input")).dom=t.target,i.original=t,i.value=i.dom.value,e.trigger(i)},!0),t("change",function(t){var e,i,n;if(e=l(t.target))return(i=e.__on_change)&&i.call(e,t.target),(n=new s("change")).dom=t.target,n.value=n.dom.value,e.trigger(n)},!0),t("keydown",e,!0),t("keypress",e,!0),t("keyup",e,!0),t("mousedown",e,!0),t("mousemove",e,!0),t("mouseup",e,!0),t("click",e,!0),t("dblclick",e,!0),t("focus",function(t){var e,i,n=t.target;if(!((e=yaxi.Page.current)&&new Date-e.openTime<200))return(e=l(n))?((i=new s("focus")).dom=t.target,i.original=t,e.trigger(i)):void 0;n.blur()},!0),t("blur",e,!0),t("scroll",e,!0),window.addEventListener("resize",function(){var t=document.activeElement;t&&this.innerHeight/this.innerWidth<1.2&&t.scrollIntoViewIfNeeded()})}(),function(){var h=Object.create(null),i=Object.create(null),n=Decimal.singleton;function s(t){var e=t&&function(t){for(var e,i,n=t.split("|"),s=[],r=0,o=n.length;r<o;r++)if(n[r]&&(e=n[r].match(/"(?:[^"]|\\")"|[^:\s]+/g))&&(i=e[0])){if(!(i=h[i]))throw'not exist pipe function "'+e[0]+'"!';e[0]=null;for(var a=e.length-1;0<a;a--)'"'===(t=e[a])[0]&&'"'===t[t.length-1]&&(e[a]=t.slice(1,-1).replace(/\\"/g,'"'));s.push(i,e)}return s}(t);return i[t]=e&&e[0]?function(t){for(var e,i,n=0;e=this[n++];)(i=this[n++])[0]=t,t=e.apply(this,i);return t}.bind(e):null}h.round=function(t,e){return n(t).round(e)},h.fixed=function(t,e){return n(t).toFixed(e)},yaxi.pipe=function(t,e){t&&"function"==typeof e&&(h[t]=e)},yaxi.pipe.compile=function(t){var e=i[t];return void 0!==e?e:s(t)}}(),yaxi.Observe=Object.extend.call({},function(t){var e=Object.create;this.assign=function(t){var e,i,n,s=this.$converter;for(var r in t)(e=s[r])?e.change?(i||(i=this.__changes={}))[r]=e.fn.call(this,t[r]):(n=e.name)?this.$storage[n]=e.fn.call(this,t[r]):e.fn.call(this,t[r]):!1!==e&&(this[r]=t[r]);return this},this.$defaults=e(null),this.$converter=e(null),this.$property=yaxi.__extend_properties(function(e,t){return t?function(){var t=this.__changes;return t&&void 0!==(t=t[e])?t:this.$storage[e]}:function(){return this.$storage[e]}},function(i,n,t){return t?function(t){var e=this.__changes;if(t=n.call(this,t),e){if(t===e[i])return;t!==this.$storage[i]?e[i]=t:delete e[i]}else t!==this.$storage[i]&&(function(t){r||(r=setTimeout(o));return s.push(t),t.__changes={}}(this)[i]=t)}:function(t){this.$storage[i]=n.call(this,t)}}),this.model=null,this.$converter.Class=!1,this.$converter.bindings={fn:function(t){var e;t&&(e=this.model||(this.model=this.__find_model()))&&yaxi.__bind_model.call(e,this,t)}},this.$push=function(t){var e,i=this.__binding_push;i&&((e=i.pipe)&&(t=e(t)),i.model[i.name]=t)},this.__find_model=function(){for(var t,e=this;e;){if(t=e.model)return"object"==typeof t?t:nulll;e=e.parent}},this.__find_store=function(t){var e;if(e=this.__find_model()){for(var i,n=t.split("."),s=0;e&&(i=n[s++]);)e=e[i];if(e&&"object"==typeof e)return e}throw'can not find model "'+t+'"!'};var s=yaxi.__patches=[],r=0;function o(){for(var t,e=s,i=0;t=e[i++];)t.__update_patch();e.length=r=0}yaxi.__add_patch=function(t){r||(r=setTimeout(o)),s.push(t)},this.__update_patch=function(){var t;if(t=this.__changes){var e=this.$storage;for(var i in this.__changes=null,t)e[i]=t[i]}},yaxi.__patch_update=o,this.__class_init=function(t){this.$defaults=e(this.$defaults),this.$converter=e(this.$converter)}},function(){this.$storage=Object.create(this.$defaults)}),yaxi.Style=yaxi.Observe.extend(function(t,e){this.$defaults=Object.create(null),function(){var t={},e=document.createElement("div").style,i=/^(?:webkit|ms|moz|o)([A-Z])/;function n(t,e){return e.toLowerCase()}for(var s in e)switch(s){case"cssFloat":case"styleFloat":t.float={name:s,defaultValue:""};break;case"cssText":break;default:t[key=s.replace(i,n)]={name:s,defaultValue:""}}for(var s in t)this.$property(s,t[s])}.call(this),this.__update_patch=function(){var t,e;if((t=this.parent)&&(t=t.$dom)&&(e=this.__changes)){var i,n=this.$storage,s=t.style;for(var r in e)i=e[r],"borderRadius"===r&&0<i.indexOf("rem")?s[r]=(parseFloat(i)*yaxi.rem|0)+"px":s[r]=i,n[r]=i;this.__changes=null}}},function(t){this.parent=t,this.$storage=Object.create(this.$defaults)}),function(){var l,c=Object.create,u=Object.defineProperty,m=yaxi.pipe.compile,b=null,r=c(null),d=this;function f(i,n){return i="__sub_"+i,{get:function(){return this[i]||(this[i]=new n(this))},set:function(t){var e=this[i];t?null!=t&&(e||(this[i]=new n(this))).$assign(t):e&&e.$clear()}}}function p(i,n){return i="__sub_"+i,{get:function(){return this[i]||(this[i]=new n(this))},set:function(t){var e=this[i];t&&0<t.length?(e?0<e.length&&e.clear():this[i]=e=new n(this),e.push.apply(e,t)):e&&0<e.length&&e.clear()}}}function $(t,e,i){var n=e[0];if(!t[n])for(;(t=t.$parent)&&!(n in t););if(n=e.pop(),t&&(!e[0]||(t=function(t,e,i){var n=0;for(;any=e[n++];)if(!(t=t[any]))return;if(i in t)return t}(t,e,n))))return{model:t,name:n};throw'binding expression "'+i+'" is invalid!'}yaxi.model=function(t){var e,i,n=c,s=n(d),r=s.$subkeys=n(null),o=s.$defaults=n(null);function a(t){this.$parent=t||null,this.$storage=n(o)}for(var h in a.model=s.__model_type=1,(a.prototype=s).$converter=n(null),t)(e=t[h])&&"function"==typeof e?(i=e.model)?(r[h]=i,u(s,h,(1===i?f:p)(h,e))):u(s,h,{get:e}):l.call(s,h,e);return a},l=yaxi.__extend_properties(function(i){return function(){var t,e;return b&&((t=this.__bindings)?(e=t[i])?e.push(b):t[i]=[b]:(this.__bindings={})[i]=[b]),this.$storage[i]}},function(i,n){var s=r;return function(t){var e=this.$storage;if(n&&(t=n(t)),t===e[i]||s[i]&&!1===this.$notify(i,t))return this;e[i]=t,(e=this.__bindings)&&(e=e[i])&&function(t,e){var i,n,s;for(var r in e)i=e[r],n=t[i.name],(s=i.pipe)&&(n=s(n)),i.observe[i.property]=n}(this,e)}}),this.$bind=yaxi.__bind_model=function(t,e){try{var i;for(var n in e)(i=e[n])&&("change"===n?(f=t,p=this,_=g=v=void 0,0<(x=(y=i).indexOf("|"))&&(_=y.substring(x),y=y.substring(0,x)),(v=y.match(/\w+/g))&&(g=$(p,v,y),_&&(g.pipe=m(_)),f.__binding_push=g)):(s=t,r=this,o=n,u=c=l=h=void 0,0<(d=(a=i).indexOf("|"))&&(c=a.substring(d),a=a.substring(0,d)),(h=a.match(/\w+/g))&&((l=b=$(r,h,a)).observe=s,u=l.model[l.name],c&&(l.pipe=c=m(c),u=c(u)),s[l.property=o]=u,1===l.model.__model_type&&((s.__bindings||(s.__bindings={}))[o]=l))))}finally{b=null}var s,r,o,a,h,l,c,u,d,f,p,y,v,g,_,x;return this},this.$unbind=function(t){var e=this.__bindings;if(e&&(e=e[t.name]))for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}return this},this.$watch=function(t,e){if(t&&"function"==typeof e){++r[t]||(r[t]=1);var i,n=this.__watches;n?(i=n[t])?i.push(e):n[t]=[e]:(this.__watches||(this.__watches={}))[t]=[e]}return this},this.$unwatch=function(t,e){var i,n=this.__watches;if(n){if("function"==typeof e){if(n&&(i=n[t]))for(var s=i.length;s--;)if(i[s]===e)return i.splice(s,1),void r[t]--}else if(t)(i=n[t])&&0<i.length&&(r[t]-=i.length,i.length=0,delete n[t]);else{for(t in n)(i=n[t])&&0<i.length&&(r[t]-=i.length,i.length=0);this.__watches=null}return this}},this.$notify=function(t,e){for(var i,n,s,r,o=this;o;){if((i=this.__watches)&&(n=i[t]))for(s=0;r=n[s++];)if(!1===r.call(o,this,e))return!1;o=o.$parent}return this},this.$save=function(){return this},this.$restore=function(){return this},this.$changes=function(){return this},this.$assign=function(t){if(t){var e,i=this.$storage||(this.$storage={}),n=this.$converter;for(var s in t)(e=n[s])?i[s]=e.fn.call(this,t[s]):this[s]=t[s]}return this},this.$clear=function(t){var e,i;if(this.$storage=c(this.$defaults),t&&(e=this.$subkeys))for(var n in e)(i=this["__sub_"+n])&&(1===e[n]?i.$clear():i.clear());return this}}.call(Object.create(null)),function(){var n=Object.create,i=Array.prototype,e=i.push,r=i.splice,s=this;function o(t,e,i){for(var n,s=[],r=t.$Model,o=t.$parent,a=e.length;i<a;)(n=new r(o)).$assign(e[i++]),s.push(n);return s}function a(t,e,i,n){var s;if(s=t.__bindings)for(var r=0,o=s.length;r<o;r++)s[r][e](i,n)}yaxi.store=function(t){var e=n(s);function i(t){this.$parent=t||null}return e.$Model=yaxi.model(t),i.model=e.__model_type=2,i.prototype=e,i},this.length=0,this.indexOf=i.indexOf,this.lastIndexOf=i.lastIndexOf,this.forEach=i.forEach,this.map=i.map,this.reduce=i.reduce,this.reduceRight=i.reduceRight,this.$bind=function(t){(this.__bindings||(this.__bindings=[])).push(t)},this.$unbind=function(t){var e=this.__bindings;if(e)for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1),e[0]||(this.__bindings=null);break}},this.push=function(){if(0<arguments.length){var t=o(this,arguments,0);e.apply(this,t),a(this,"__model_insert",-1,t)}return this.length},this.pop=function(){var t=i.pop.call(this);return t&&(t.$parent=t.__bindings=null,a(this,"__model_remove",-1,1)),t},this.unshift=function(){if(0<arguments.length){var t=o(this,arguments,0);i.unshift.apply(this,t),a(this,"__model_insert",0,t)}return this.length},this.shift=function(){var t=i.shift.call(this);return t&&(t.$parent=t.__bindings=null,a(this,"__model_remove",0,1)),t},this.splice=function(t,e){var i,n;if((t|=0)<0&&(t+=this.length)<0&&(t=0),0<(i=2<arguments.length?(n=o(this,arguments,2),r.apply(this,[t,e].concat(n))):r.apply(this,arguments)).length){for(var s=i.length;s--;)i[s].$parent=i[s].__bindings=null;a(this,"__model_remove",t,i.length)}return n&&a(this,"__model_insert",t,n),i},this.clear=function(){var t=r.call(this,0);if(0<t.length){for(var e=t.length;e--;)t[e].$parent=t[e].__bindings=null;a(this,"__model_clear")}return t},this.sort=function(t){i.sort.call(this,t);for(var e=this.length;e--;)this[e].__index=e;a(this,"__model_sort",0)},this.reverse=function(){i.reverse.call(this);for(var t=this.length;t--;)this[t].__index=t;a(this,"__model_sort",1)}}.call(Object.create(null)),yaxi.Stream=Object.extend(function(o){o.fromPromise=function(t){var e=new o;return"function"==typeof t&&(t=t()),t.then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e},o.fromEvent=function(t,e,i){var n=new o;return t.addEventListener(e,function(t){n.resolve(t)},i||!1),n},o.interval=function(e){var i=new o,n=0;return function t(){setTimeout(function(){i.resolve(n++),t()},0|e)}(),i},o.all=function(){for(var i,n=new o,s=[],t=0,r=0;i=arguments[t];)r++,function(t,e){i.then(function(t){s[e]=t,--r||n.resolve(s)}).catch(function(t){n.reject(t)})}(0,t++);return n},this.registry=function(t){var e=this.__next=new o,i=this.__cache;if(this.__fn=t,i){for(;0<i.length;)try{t.call(this,i.shift(),e)}catch(t){this.reject(t)}this.__cache=null}return e},this.resolve=function(t){var e,i=this.__next;if(i)if(e=this.__fn)try{e.call(this,t,i)}catch(t){this.reject(t)}else i.resolve(t);else(e=this.__cache)?e.push(t):this.__cache=[t]},this.reject=function(e){var t=this.__fail,i=this.__next;if(t)try{if(!1===t.call(this,e,i))return!1}catch(t){e=t}if(!i)throw e;i.reject(e)},this.then=function(n){return this.registry(function(t,e){if(n){var i=n(t);void 0!==i&&(t=i)}e.resolve(t)})},this.combine=function(t){return this.registry(function(i,n){t.then(function(t){var e=i;e instanceof Array?e.push(t):e=[i,t],n.resolve(e)}).catch(function(t){n.reject(t)})})},this.map=function(i){return this.registry(function(t,e){e.resolve(i(t))})},this.json=function(i){return this.registry(function(t,e){"string"==typeof t&&(t=JSON.parse(t)),i&&(t=i(t)),e.resolve(t)})},this.catch=function(t){return this.__fail=t,this.__next=new o},this.wait=function(i){var n,s=[];return this.registry(function(t,e){n?s.push(t):n=setTimeout(function(){e.resolve(s),n=0,s=[]},0|i)})},this.delay=function(i){return this.registry(function(t,e){setTimeout(function(){e.resolve(t)},0|i)})},this.debounce=function(i){var n;return this.registry(function(t,e){n&&clearTimeout(n),n=setTimeout(function(){e.resolve(t),n=0},0|i)})},this.throttle=function(i){var n;return this.registry(function(t,e){n||(e.resolve(t),n=setTimeout(function(){n=0},0|i))})}},function(t){0<arguments.length&&("function"==typeof t?t(this):this.__cache=[t])}),yaxi.HTTP=yaxi.http=Object.extend.call({},function(t){function h(t){if(!t)return"";var e,i,n=[],s=encodeURIComponent;for(var r in t)if(e=t[r],r=s(r),null!==e)switch(typeof e){case"undefined":n.push(r,"=&");break;case"boolean":case"number":n.push(r,"=",e,"&");break;case"string":case"function":n.push(r,"=",s(e),"&");break;default:if(e instanceof Array)for(var o=0,a=e.length;o<a;o++)void 0===(i=e[o])?n.push(r,"=&"):n.push(r,"=",s(i),"&");else n.push(r,"=",h(e),"&")}else n.push(r,"=null","&");return n.pop(),n.join("")}function e(t,e,i,n,s){return!i||i instanceof FormData||(s||/GET|HEAD|OPTIONS/i.test(t)?(e=e+(0<=e.indexOf("?")?"&":"?")+h(i),i=null):"application/x-www-form-urlencoded"===n.contentType?i=h(i):"string"!=typeof i&&(n.contentType||(n.contentType="application/json"),i=JSON.stringify(i))),n.method=t,n.url=e,n.data=i,n}this.redirectStatus=299,this.redirect=function(){location.href="index.html"},this.send=function(t){var e,i=this,n=new yaxi.Stream,s=new XMLHttpRequest;if(t.CORS&&("withCredentials"in s?s.withCredentials=!0:(e=window.XDomainRequest)&&(s=new e)),s.onreadystatechange=function(){4===this.readyState&&(this.onreadystatechange=null,i&&(clearTimeout(this.__timeout),i.receive(this,n,t)))},s.open(t.method,t.url,!1!==t.async),t.contentType&&s.setRequestHeader("Content-Type",t.contentType),e=t.header)for(var r in e)s.setRequestHeader(r,e[r]);return s.__timeout=setTimeout(function(){i=null,s.abort(),n.reject({url:t.url,status:"timeout"})},t.timeout||3e4),s.send(t.data),n},this.receive=function(t,e,i){100<=t.status&&t.status<300?this.response(t,e,i):e.reject({url:i.url,status:t.status,message:t.statusText||t.responseText,options:i})},this.response=function(t,e,i){t.status===this.redirectStatus?this.redirect():e.resolve(t.responseText||t.responseXML)},(this.__class_init=function(s){var r=e;s.send=function(t,e,i,n){return n=r(t?t.toUpperCase():"GET",e,i,n||{}),(new s).send(n)},s.head=function(t,e,i){return i=r("HEAD",t,e,i||{},!0),(new s).send(i)},s.get=function(t,e,i){return i=r("GET",t,e,i||{},!0),(new s).send(i)},s.post=function(t,e,i){return i=r("POST",t,e,i||{}),(new s).send(i)},s.put=function(t,e,i){return i=r("PUT",t,e,i||{}),(new s).send(i)},s.del=function(t,e,i){return i=r("DELETE",t,e,i||{}),(new s).send(i)}})(t)},function(){}),yaxi.Cache=Object.extend.call({},function(){var r={};function o(t){var e=localStorage.getItem("cache-"+t);return r[t]=e&&JSON.parse(e)||{}}function a(t,e){localStorage.setItem("cache-"+t,JSON.stringify(e))}this.contains=function(t){var e=this.type;return t in(r[e]||o(e))},this.get=function(t,e){var i=this.type,n=r[i]||o(i);return t in n?n[t]:void 0!==e?n[t]=e:void 0},this.set=function(t,e,i){var n=this.type,s=r[n]||o(n);s[t]=e,!1!==i&&a(n,s)},this.remove=function(t,e){var i=this.type,n=localStorage.getItem("cache-"+i);n&&t in n&&(delete n[t],!1!==e&&a(i,n))},this.save=function(){var t,e=this.type;(t=r[e])&&a(e,t)}},function(t){this.type=t}),window.require||function(){var s=window.require=h(location.href.substring(0,location.href.lastIndexOf("/"))),r=s.modules=Object.create(null),o=s.languages=Object.create(null),i=Object.create(null),a=Object.create(null);function h(t){function i(t,e){return yaxi.loadModule(i.baseURL,t,e)}return i.baseURL=t,i.runAsThread=e,i}function e(t){return new yaxi.Thread(s.baseURL,this.baseURL,t)}function l(t,e,i){var n=c(t);switch(e){case".css":return function(t){var e=document.createElement("style"),i=yaxi.color;e.setAttribute("type","text/css"),t=t.replace(/c-([\w-]+)/g,function(t,e){return i[e]||t}),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t));document.head.appendChild(e)}(n),{exports:n};case".js":return u(n,t,i);case".json":return{exports:n=n?JSON.parse(n):null};case".html":return!1===i?{exports:n}:{exports:new Function(["data","color","classes"],s.template(n,t))};default:return{exports:n}}}function c(t){var e,i=new XMLHttpRequest;return i.open("GET",t,!1),i.onreadystatechange=function(){if(4===this.readyState){if(!(this.status<300))throw this.statusText;e=this.responseText,this.onreadystatechange=null}},i.send(null),e}function u(t,e,i){var n={exports:{}};return t&&(t=t+"\n//# sourceURL="+e,!1===i?eval.call(window,n.exports.text=t):new Function(["require","exports","module"],t)(h(e.substring(0,e.lastIndexOf("/")+1)),n.exports,n)),n}function d(t,e){var i;for(var n in e)(i=e[n])&&"object"==typeof i?d(t[n]||(t[n]={}),i):t[n]=i}function f(t,e){return"/"===e[0]?(t=s.baseURL)+("/"===t[t.length-1]?e.substring(1):e):(e=("/"===t[t.length-1]?t:t+"/")+e,i[e]||(i[e]=function(t){for(var e;(e=t.replace(/[^/]*\/\.\.\//,""))!==t;)t=e;return t.replace(/[.]+\//g,"")}(e)))}yaxi.absoluteUrl=f,yaxi.loadModule=function(t,e,i){var n,s=a[e];return s?(e=s[1],s=s[0]):(s=e.match(/\.\w+$/))?a[e]=[s=s[0].toLowerCase(),e]:a[e]=[s=".js",e+=".js"],e=f(t,e),(n=r[e])?n.exports:(n=0<=e.indexOf("{{language}}")?(o[e]=s,e.replace("{{language}}",yaxi.language)):e,(r[e]=l(n,s,i)).exports)},yaxi.switchLanguage=function(t){for(var e in yaxi.language=t,o){var i=e.replace("{{language}}",t),n=c(i);switch(o[e]){case".js":n=u(n,i).exports;break;case".json":n=n?JSON.parse(text):null}d(r[e].exports,n)}}}(),function(){var p=Object.create(null),d=Object.create(null);function y(t,e,i){var n,s,r,o,a,h,l,c=e.attributes,u=e.tagName;switch(u){case"R":case"Ref":case"Require":case"Reference":t.push(i,'Class: yaxi.loadModule(__dirname, "',e.getAttribute("src"),'")'),e.removeAttribute("src");break;case"HTML":case"HtmlControl":t.push(i,"Class: __k.HtmlControl,\n"),t.push(i,"html: '",e.innerHTML.replace(/\n\s*/g,"").replace(/[']/g,"\\'"),"'"),e=null;break;default:t.push(i,"Class: __k.",u)}if(c&&c[0]){for(var d=0,f=c.length;d<f;d++)if(s=(n=c[d]).nodeName,r=n.nodeValue,"style"!==s)if("class"!==s){if("-"===s[1]){if(l=s[0],s=s.substring(2),"d"===l){"s"===s[0]&&/style-/.test(s)?(s=s.substring(6),s=p[s]||(p[s]=s.replace(/-([\w])/g,g)),a?a.push(a[0]?",\n":"",i,"\t",s,": ",r):a=[i,"\t",s,": ",r]):t.push(",\n",i,s,": ",r);continue}if("b"===l){"s"===s[0]&&/style-/.test(s)?(s=s.substring(6),s=p[s]||(p[s]=s.replace(/-([\w])/g,g)),(l=a?a.bindings||(a.bindings=[]):(a=[]).bindings=[]).push(l[0]?",\n":"",i,"\t\t",s,': "',r,'"')):o?o.push(s,r):o=[s,r];continue}if("e"===l){h?h.push(s,r):h=[s,r];continue}}t.push(",\n",i,s,': "',r,'"')}else t.push(",\n",i,'className: "',r,'"');else v(a||(a=[]),r,i+"\t");a&&(t.push(",\n",i,"style: {",a.join("")),(l=a.bindings)&&t.push(a[0]?",\n":"",i,"\tbindings: {\n",l.join(""),"\n",i,"\t}"),t.push("\n",i,"}")),o&&(t.push(",\n",i,"bindings: {"),function(t,e,i){var n,s=0;for(;n=e[s++];)1<s&&t.push(","),t.push("\n",i,n,': "',e[s++],'"')}(t,o,i+"\t"),t.push("\n",i,"}")),h&&(t.push(",\n",i,"events: {"),function(t,e,i){var n,s=0;for(;n=e[s++];)1<s&&t.push(","),t.push("\n",i,n,": data.",e[s++])}(t,h,i+"\t"),t.push("\n",i,"}"))}e&&(e=e.firstChild)&&("Repeater"===u?function(t,e,i){do{if(1===e.nodeType)return t.push(",\n",i,"\ttemplate: {\n"),y(t,e,i+"\t\t"),t.push("\n",i,"\t}")}while(e=e.nextSibling)}(t,e,i):function(t,e,i){var n;for(;1===e.nodeType&&(n?t.push(","):(t.push(",\n",i,"children: ["),n=1),t.push("\n",i,"\t{\n"),y(t,e,i+"\t\t"),t.push("\n",i,"\t}")),e=e.nextSibling;);n&&t.push("\n",i,"]")}(t,e,i))}function v(t,e,i){for(var n,s,r,o,a=p,h=d,l=e.split(";"),c=0,u=l.length;c<u;c++)if((n=l[c])&&0<(s=n.indexOf(":"))){if(r=n.substring(0,s),!(n=n.substring(s+1)))continue;r=a[r]||(a[r]=r.trim().replace(/-([\w])/g,g)),n=h[n]||(h[n]=f(n.trim())),o?t.push(","):o=1,t.push("\n",i,r,": ",n)}}function f(t){return 0<=t.indexOf("c-")?(t='"'+t.replace(/c\-([\w-]+)/g,'" + __c["$1"] + "')+'"').replace('"" + ',"").replace('+ ""',""):'"'+t+'"'}function g(t,e){return e.toUpperCase()}require.template=function(t,e){var i=(new DOMParser).parseFromString(t,"text/xml").documentElement,n=['var __dirname = "'+e.substring(0,e.lastIndexOf("/")+1)+'";\n',"var __c = color || yaxi.color;\n","var __k = classes || yaxi.classes;\n\n","with(data)\n{\n","return {\n"];return y(n,i,"\t"),n.push("\n};\n}\n\n//# sourceURL=",e),n.join("")}}(),yaxi.Thread=function(){var r=1,s=""+function(){var t=c(base),a=t.modules=Object.create(null),h=Object.create(null),l=Object.create(null);function n(t,e,i){var n,s,r,o=l[e];return o?(e=o[1],o=o[0]):(o=e.match(/\.\w+$/))?l[e]=[o=o[0].toLowerCase(),e]:l[e]=[o=".js",e+=".js"],s=t,e="/"===(r=e)[0]?root+r:(r=("/"===s[s.length-1]?s:s+"/")+r,h[r]||(h[r]=function(t){for(var e;(e=t.replace(/[^/]*\/\.\.\//,""))!==t;)t=e;return t.replace(/[.]+\//g,"")}(r))),(n=a[e])?n.exports:(a[e]=function(t,e,i){var n=(s=t,o=new XMLHttpRequest,o.open("GET",s,!1),o.onreadystatechange=function(){if(4===this.readyState){if(!(this.status<300))throw this.statusText;r=this.responseText,this.onreadystatechange=null}},o.send(null),r);var s,r,o;switch(e){case".js":return function(t,e,i){var n={exports:{}};t&&(t=t+"\n//# sourceURL="+e,!1===i?eval.call(self,n.exports.text=t):new Function(["require","exports","module"],t)(c(e.substring(0,e.lastIndexOf("/")+1)),n.exports,n));return n}(n,t,i);case".json":return{exports:n=n?JSON.parse(n):null};default:return{exports:n}}}(e,o,i)).exports}function c(t){function i(t,e){return n(i.baseURL,t,e)}return i.baseURL=t,i}function u(t,e,i){self.postMessage(JSON.stringify([t,e,i]))}return self.addEventListener("message",function(t){var e,i,n=this,s=t.data,r=s.uuid,o=s.method,a=0,h=o.split(".");try{for(e=h.pop();n&&(i=h[a++]);)n=n[i];if(n&&(i=n[e]))if(h=s.args||[],s.async)h.push(function(t,e){u(r,t,e)}),i.apply(n,h);else try{u(r,i.apply(n,h))}catch(t){u(r,null,t)}else u(r,null,'not support method "'+o+'"!')}catch(t){u(r,null,t)}}),t};function t(t,e,i){var n=["var require = function (self, root, base) {\n",s,'\n}(self, "',"/"!==t[t.length-1]?t:t.slice(0,-1),'", "',e,'");\n\n\n\n\n'];"string"==typeof i?n.push('require("'+i+'", false);'):n.push(""+i),n=[n.join("")],this.queue=[],this.worker=new Worker(URL.createObjectURL(new Blob(n))),this.worker.onmessage=function(t){var e;if(e=t.data)for(var i,n=this.queue,s=0,r=(e=JSON.parse(e))[0];i=n[s];){if(i===r)return n[s+1].call(this,e[1],e[2]),void n.splice(s,2);s+=2}}.bind(this)}return s=(s=s.substring(s.indexOf("{")+1)).substring(0,s.lastIndexOf("}")),t.prototype.exec=function(t,e,i,n){if(t){var s=r++;this.queue.push(s,i),this.worker.postMessage({uuid:s,method:t,args:e,async:n})}},t.prototype.terminate=function(){this.worker.terminate()},t}(),function(a){var t,o='<svg><symbol id="icon-yaxi-pulldown" viewBox="0 0 1024 1024"><path d="M512 960C264.96 960 64 759.04 64 512S264.96 64 512 64s448 200.96 448 448S759.04 960 512 960zM512 128C300.256 128 128 300.256 128 512c0 211.744 172.256 384 384 384 211.744 0 384-172.256 384-384C896 300.256 723.744 128 512 128z"  ></path><path d="M694.56 522.144c-12.544-12.608-33.376-12.64-45.952-0.064L544 625.984 544 319.328c0-17.76-14.208-32.16-32-32.16-17.76 0-32 14.4-32 32.16l0 308.32-105.216-106.688c-12.48-12.608-32.704-12.736-45.312-0.256C316.832 533.216 316.8 553.6 329.28 566.208l159.36 161.056c6.272 6.336 14.592 9.568 22.88 9.568 8.16 0 16.384-3.168 22.624-9.312 0.032-0.064 0.032-0.064 0.064-0.128 0.032 0 0.064 0 0.096-0.064l160.192-159.68C707.072 555.104 707.104 534.72 694.56 522.144z"  ></path></symbol><symbol id="icon-yaxi-back" viewBox="0 0 1024 1024"><path d="M395.21518 513.604544l323.135538-312.373427c19.052938-18.416442 19.052938-48.273447 0-66.660212-19.053961-18.416442-49.910737-18.416442-68.964698 0L291.75176 480.290811c-19.052938 18.416442-19.052938 48.273447 0 66.660212l357.633237 345.688183c9.525957 9.207709 22.01234 13.796214 34.497699 13.796214 12.485359 0 24.971741-4.588505 34.466999-13.82896 19.052938-18.416442 19.052938-48.242747 0-66.660212L395.21518 513.604544z"  ></path></symbol><symbol id="icon-yaxi-radio-checked" viewBox="0 0 1024 1024"><path d="M512 259.56503703c-138.83922963 0-252.43496297 113.59573333-252.43496297 252.43496297s113.59573333 252.43496297 252.43496297 252.43496297 252.43496297-113.59573333 252.43496297-252.43496297S650.83922963 259.56503703 512 259.56503703zM512 7.13007408C234.323968 7.13007408 7.13007408 234.323968 7.13007408 512s227.19389392 504.86992592 504.86992592 504.86992592 504.86992592-227.19389392 504.86992592-504.86992592S789.676032 7.13007408 512 7.13007408zM512 915.89594075c-222.13791289 0-403.89594075-181.76045511-403.89594075-403.89594075S289.86208711 108.10405925 512 108.10405925 915.89594075 289.86208711 915.89594075 512 734.13791289 915.89594075 512 915.89594075z"  ></path></symbol><symbol id="icon-yaxi-checkbox-unchecked" viewBox="0 0 1024 1024"><path d="M892.24735231 1012.51492048l-760.49638045 0c-66.35446257 0-120.26589234-53.91310559-120.26589234-120.26589234l0-760.56676528c0-66.35446257 53.91310559-120.26589234 120.26589234-120.26589236l760.49638045 0c66.35446257 0 120.26589234 53.91310559 120.26589235 120.26589236l0 760.56676528c0 66.35446257-53.91310559 120.26589234-120.26589235 120.26589234zM131.75264769 82.98768981c-26.88533005 0-48.76495786 21.95168848-48.76495788 48.76495788l0 760.56676528c0 26.81326939 21.87962782 48.76495786 48.76495788 48.76495787l760.49638045 0c26.81326939 0 48.76495786-21.95168848 48.76495787-48.76495787l0-760.56676528c0-26.81326939-21.95168848-48.76495786-48.76495787-48.76495788l-760.49638045 0z"  ></path></symbol><symbol id="icon-yaxi-checkbox-checked" viewBox="0 0 1024 1024"><path d="M892.24735231 1012.51492048l-760.49638045 0c-66.35446257 0-120.26589234-53.91310559-120.26589234-120.26589234l0-760.56676528c0-66.35446257 53.91310559-120.26589234 120.26589234-120.26589236l760.49638045 0c66.35446257 0 120.26589234 53.91310559 120.26589235 120.26589236l0 760.56676528c0 66.35446257-53.91310559 120.26589234-120.26589235 120.26589234zM131.75264769 82.98768981c-26.88533005 0-48.76495786 21.95168848-48.76495788 48.76495788l0 760.56676528c0 26.81326939 21.87962782 48.76495786 48.76495788 48.76495787l760.49638045 0c26.81326939 0 48.76495786-21.95168848 48.76495787-48.76495787l0-760.56676528c0-26.81326939-21.95168848-48.76495786-48.76495787-48.76495788l-760.49638045 0z"  ></path><path d="M449.57870885 836.76231882l-274.13886619-274.21092687 101.10445971-101.10445972 154.87344396 154.80138332 308.38779037-431.80089021 116.40478156 83.08594269z"  ></path></symbol><symbol id="icon-yaxi-circle" viewBox="0 0 1024 1024"><path d="M32 512c0 265.09653333 214.90346667 480 480 480s480-214.90346667 480-480c0-265.09653333-214.90346667-480-480-480-265.09653333 0-480 214.90346667-480 480z"  ></path></symbol><symbol id="icon-yaxi-number-plus" viewBox="0 0 1024 1024"><path d="M740.828151 485.179145 538.820344 485.179145 538.820344 283.185664c0-14.81645-11.989055-26.820855-26.820855-26.820855-14.769378 0-26.790156 12.004405-26.790156 26.820855l-0.013303 201.99348L283.200502 485.179145c-14.801101 0-26.820855 12.019755-26.820855 26.820855 0 14.81645 12.019755 26.819832 26.820855 26.819832l201.991434 0-0.013303 201.994504c0 14.800078 12.051477 26.821879 26.820855 26.821879 14.8318 0 26.820855-12.021801 26.820855-26.821879L538.820344 538.819832l201.979154 0c14.8318 0 26.820855-12.003382 26.820855-26.819832S755.631298 485.179145 740.828151 485.179145z"  ></path></symbol><symbol id="icon-yaxi-number-minus" viewBox="0 0 1024 1024"><path d="M768.440022 485.814618c0 14.475689-11.743462 26.185382-26.200732 26.185382l-460.467323 0c-14.458293 0-26.167986-11.70867-26.167986-26.185382l0 0c0-14.458293 11.70867-26.183336 26.167986-26.183336l460.467323 0C756.697583 459.631282 768.440022 471.356324 768.440022 485.814618L768.440022 485.814618z"  ></path></symbol><symbol id="icon-yaxi-ring" viewBox="0 0 1024 1024"><path d="M512.00582201 1020.25554034C231.74603093 1020.25554034 3.74329458 792.25396907 3.74329458 511.99301405c0-280.24698311 228.00273635-508.24971947 508.26252629-508.24971947 280.24698311 0 508.24971947 228.00273635 508.24971947 508.24971947C1020.25554034 792.25396907 792.25396907 1020.25554034 512.00582201 1020.25554034zM512.00582201 122.55727616c-214.7425792 0-389.44970979 174.7001435-389.4497098 389.43573789 0 214.7425792 174.70712946 389.44970979 389.4497098 389.44970979 214.73675833 0 389.43690183-174.70712946 389.43690183-389.44970979C901.44272384 297.2574208 726.7425792 122.55727616 512.00582201 122.55727616z"  ></path></symbol><symbol id="icon-yaxi-radio-unchecked" viewBox="0 0 1024 1024"><path d="M512 7.13007408C234.323968 7.13007408 7.13007408 234.323968 7.13007408 512s227.19389392 504.86992592 504.86992592 504.86992592 504.86992592-227.19389392 504.86992592-504.86992592S789.676032 7.13007408 512 7.13007408zM512 915.89351348c-222.13791287 0-403.89351348-181.75802787-403.89351348-403.89351348S289.86208713 108.10405925 512 108.10405925 915.89594075 289.86208713 915.89594075 512 734.13791287 915.89351348 512 915.89351348z"  ></path></symbol><symbol id="icon-yaxi-eye-open" viewBox="0 0 1024 1024"><path d="M515.2 224C208 224 22.4 537.6 22.4 537.6s214.4 304 492.8 304 492.8-304 492.8-304S822.4 224 515.2 224zM832 652.8c-102.4 86.4-211.2 140.8-320 140.8s-217.6-51.2-320-140.8c-35.2-32-70.4-64-99.2-99.2-6.4-6.4-9.6-12.8-16-19.2 3.2-6.4 9.6-12.8 12.8-19.2 25.6-35.2 57.6-70.4 92.8-102.4 99.2-89.6 208-144 329.6-144s230.4 54.4 329.6 144c35.2 32 64 67.2 92.8 102.4 3.2 6.4 9.6 12.8 12.8 19.2-3.2 6.4-9.6 12.8-16 19.2-28.8 32-60.8 67.2-99.2 99.2z" fill="" ></path><path d="M512 345.6c-96 0-169.6 76.8-169.6 169.6 0 96 76.8 169.6 169.6 169.6 96 0 169.6-76.8 169.6-169.6S604.8 345.6 512 345.6z m0 294.4c-67.2 0-121.6-54.4-121.6-121.6 0-67.2 54.4-121.6 121.6-121.6 67.2 0 121.6 54.4 121.6 121.6 0 64-54.4 121.6-121.6 121.6z" fill="" ></path></symbol><symbol id="icon-yaxi-bankcard" viewBox="0 0 1024 1024"><path d="M823.5 598.4L237.8 864.6c-14.5 6.6-31.6 0.2-38.2-14.3L19.2 453.4c-6.6-14.5-0.2-31.6 14.3-38.2L597.2 159c14.5-6.6 31.6-0.2 38.2 14.3l190.4 418.9c1.1 2.4 0 5.1-2.3 6.2z" fill="#FFD858" ></path><path d="M823.5 598.4L519.6 736.5 315.3 287.1 619.2 149c2.4-1.1 5.1 0 6.2 2.3l200.4 440.9c1.1 2.4 0 5.1-2.3 6.2z" fill="#FDC223" ></path><path d="M58.317 539.506l616.25-280.102 42.828 94.227-616.25 280.101zM231.012 640.378l163.143-74.153 16.47 36.234-163.144 74.153zM260.634 705.552L487.87 602.268l16.47 36.234-227.237 103.284z" fill="#1A7FC0" ></path><path d="M981.1 805.3H362c-15.9 0-28.9-12.9-28.9-28.9v-436c0-15.9 12.9-28.9 28.9-28.9h619.1c15.9 0 28.9 12.9 28.9 28.9v436c0 16-12.9 28.9-28.9 28.9z" fill="#83C6EF" ></path><path d="M1005.3 805.3H671.6V311.6h333.7c2.6 0 4.7 2.1 4.7 4.7v484.3c0 2.6-2.1 4.7-4.7 4.7z" fill="#429BCF" ></path><path d="M333.1 435H1010v103.5H333.1zM448.6 598.2h179.2V638H448.6zM448.6 669.9h249.6v39.8H448.6z" fill="#1A7FC0" ></path><path d="M942.9 638.1h-35.1c-10.9 0-19.9-9-19.9-19.9 0-10.9 9-19.9 19.9-19.9h35.1c10.9 0 19.9 9 19.9 19.9 0 10.9-9 19.9-19.9 19.9z" fill="#FFD858" ></path></symbol><symbol id="icon-yaxi-eye-close" viewBox="0 0 1024 1024"><path d="M515.49297778 629.18428445c-203.28106667 0-392.82460445-109.44284445-494.81500445-285.59587556-14.90261333-25.73084445-6.05297778-58.56256 19.55953778-73.46631111 25.73084445-14.90147555 58.67975111-6.05297778 73.46631111 19.56067555C196.48284445 432.65592889 350.39914667 521.48906667 515.37692445 521.48906667S834.26986667 432.65479111 917.04888889 289.56672c14.90261333-25.73084445 47.73546667-34.57934222 73.46631111-19.67672889s34.46215111 47.73546667 19.67559111 73.46631111C908.31758222 519.74144 718.77404445 629.18314667 515.49297778 629.18314667z m-278.72597333 53.5552c-9.43104 0-19.09418667-2.44394667-27.70944-7.68341334-25.4976-15.36796445-33.64750222-48.43406222-18.27953778-73.81447111l59.37720888-98.26417778c15.36910222-25.4976 48.4352-33.53144889 73.8156089-18.27953777 25.4976 15.36796445 33.64750222 48.43406222 18.2784 73.8144711l-59.3772089 98.26417778c-10.12963555 16.64910222-27.82663111 25.96408889-46.1050311 25.96408889z m554.5415111 0c-18.16234667 0-35.97653333-9.19665778-46.1050311-25.96295112l-59.37834667-98.26417778c-15.36796445-25.4976-7.21806222-58.44650667 18.16234667-73.8144711 25.4976-15.36796445 58.44764445-7.21806222 73.81560888 18.16234666l59.37720889 98.26417778c15.36796445 25.4976 7.21806222 58.44764445-18.16234667 73.81560889-8.61525333 5.23832889-18.27953778 7.80060445-27.70944 7.80060444z m-275.81553777 69.97333333c-29.68917333 0-53.78958222-24.10040889-53.78958223-53.78958223v-123.52853333c0-29.68917333 24.10040889-53.78958222 53.78958223-53.78958222 29.68917333 0 53.78958222 24.10040889 53.78958222 53.78958222v123.52853333c0 29.68917333-24.10040889 53.78958222-53.78958222 53.78958223z" fill="#707070" ></path></symbol><symbol id="icon-yaxi-checkbox-three" viewBox="0 0 1024 1024"><path d="M1012.51436242 941.01231019V82.98768981a71.50205225 71.50205225 0 0 0-71.50205223-71.50205223H82.98768981a71.50205225 71.50205225 0 0 0-71.50205223 71.50205223v858.02462038a71.50205225 71.50205225 0 0 0 71.50205223 71.50205223h858.02462038a71.50205225 71.50205225 0 0 0 71.50205223-71.50205223z m-143.00410448-71.50205225H154.48974206V154.48974206h715.02051588v715.02051588z"  ></path><path d="M297.49384493 297.49384493h429.01231014v429.01231014H297.49384493z"  ></path></symbol><symbol id="icon-yaxi-copy" viewBox="0 0 1024 1024"><path d="M733.86666667 170.66666667h-580.26666667A85.43573333 85.43573333 0 0 0 68.26666667 256v648.53333333C68.26666667 951.6032 106.56426667 989.86666667 153.6 989.86666667h580.26666667c47.06986667 0 85.33333333-38.26346667 85.33333333-85.33333334v-648.53333333C819.2 208.96426667 780.93653333 170.66666667 733.86666667 170.66666667z m17.06666666 733.86666666c0 9.38666667-7.68 17.06666667-17.06666666 17.06666667h-580.26666667a17.06666667 17.06666667 0 0 1-17.06666667-17.06666667v-648.53333333a17.06666667 17.06666667 0 0 1 17.06666667-17.06666667h580.26666667a17.06666667 17.06666667 0 0 1 17.06666666 17.06666667v648.53333333z"  ></path><path d="M870.4 34.13333333h-580.26666667a34.13333333 34.13333333 0 0 0 0 68.26666667h580.26666667a17.06666667 17.06666667 0 0 1 17.06666667 17.06666667v648.53333333a34.13333333 34.13333333 0 1 0 68.26666666 0v-648.53333333C955.73333333 72.43093333 917.46986667 34.13333333 870.4 34.13333333z"  ></path><path d="M614.4 349.86666667H273.06666667a34.13333333 34.13333333 0 0 0 0 68.26666666h341.33333333a34.13333333 34.13333333 0 1 0 0-68.26666666zM614.4 520.53333333H273.06666667a34.13333333 34.13333333 0 1 0 0 68.26666667h341.33333333a34.13333333 34.13333333 0 1 0 0-68.26666667zM477.86666667 689.7664H273.06666667a34.13333333 34.13333333 0 1 0 0 68.26666667h204.8a34.13333333 34.13333333 0 1 0 0-68.26666667z"  ></path></symbol><symbol id="icon-yaxi-alipay" viewBox="0 0 1325 1024"><path d="M171.9595514 512c0 265.57071929 214.16993451 479.74065379 479.7406538 479.74065379s479.74065379-214.16993451 479.74065378-479.74065379S917.27092449 32.25934621 651.7002052 32.25934621 171.9595514 246.42928071 171.9595514 512z" fill="#5A9EF7" ></path><path d="M752.78841455 571.9675813s17.13359531-23.98703275 34.26718948-71.96109711c18.84695438-47.97406549 20.56031346-75.38781753 20.56031345-75.38781752l-137.0687579-1.71335908v-46.26070642l166.195869-1.71335907v-34.26718948H668.83380051v-75.38781753h-82.24125499V340.66405262H428.96347303v34.26718948l155.91571343-1.71336021v51.40078478h-123.36188303v27.41375203h257.00392164c-1.71335907 17.13359531-6.85343744 32.5538304-11.9935158 47.97406549-10.28015673 25.70039182-20.56031346 49.68742457-20.5603146 49.68742458s-119.93516373-42.83398713-185.0428234-42.83398714c-63.39430059 0-140.49547719 25.70039182-149.0622737 99.37484914-6.85343744 73.67445731 35.98054855 114.79508537 97.66149005 128.50196139 59.9675813 13.70687602 116.50844445 0 166.19586903-23.98703275 49.68742457-23.98703275 97.66149006-78.81453568 97.66149006-78.81453568l255.29056256 125.07524096s15.42023509-23.98703275 27.41375091-46.26070528c8.56679765-15.42023509 15.42023509-32.5538304 22.27367365-47.97406549l-265.57071928-90.80805262z m-263.85735908 121.64852281c-90.80805262 0-107.94164679-44.54734621-107.94164678-75.3878164 0-30.84047019 18.84695438-66.82101987 95.94812984-71.96109824 75.38781753-5.14007837 179.90274503 54.82750293 179.90274502 54.82750294s-77.10117661 92.5214117-167.90922808 92.5214117z" fill="#FFFFFF" ></path></symbol><symbol id="icon-yaxi-weixin" viewBox="0 0 1024 1024"><path d="M1010.8 628c0-141.2-141.3-256.2-299.9-256.2-168 0-300.3 115.1-300.3 256.2 0 141.4 132.3 256.2 300.3 256.2 35.2 0 70.7-8.9 106-17.7l96.8 53-26.6-88.2c70.9-53.2 123.7-123.7 123.7-203.3zM618 588.8c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40c0 22-17.9 40-40 40z m194.3-0.3c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40z" fill="#00C800" ></path><path d="M366.3 106.9c-194.1 0-353.1 132.3-353.1 300.3 0 97 52.9 176.6 141.3 238.4l-35.3 106.2 123.4-61.9c44.2 8.7 79.6 17.7 123.7 17.7 11.1 0 22.1-0.5 33-1.4-6.9-23.6-10.9-48.3-10.9-74 0-154.3 132.5-279.5 300.2-279.5 11.5 0 22.8 0.8 34 2.1C692 212.6 539.9 106.9 366.3 106.9zM247.7 349.2c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z m246.6 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z" fill="#00C800" ></path></symbol></svg>';if((t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss")&&!a.__iconfont__svg__cssinject__){a.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var e=function(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",e,!1)}else document.attachEvent&&(i=t,n=a.document,s=!1,r=function(){s||(s=!0,i())},(o=function(){try{n.documentElement.doScroll("left")}catch(t){return void setTimeout(o,50)}r()})(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,r())});var i,n,s,r,o}(function(){var t,e,i,n,s,r;(t=document.createElement("div")).innerHTML=o,o=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",i=e,(n=document.body).firstChild?(s=i,(r=n.firstChild).parentNode.insertBefore(s,r)):n.appendChild(i))})}(window),function(t){t.back="#ffffff",t.default1="#000000",t.default2="#606266",t.default3="#c0c4cc",t.default4="#e0e0e0",t.default5="#f8f8f8",t.primary1="#ff6a48",t.primary2="#df6a48",t.primary3="#ff6a48",t.primary4="#df6a48",t.primary5="#ff6a48",t.second1="#66b1ff",t.second2="#8cc5ff",t.second3="#b3d8ff",t.second4="#d9ecff",t.second5="#e9fcff",t.success1="#5daf34",t.success2="#85ce61",t.success3="#a4da89",t.success4="#c2e7b0",t.success5="#f0f9eb",t.warning1="#cf9236",t.warning2="#ebb563",t.warning3="#f0c78a",t.warning4="#f5dab1",t.warning5="#fdf6ec",t.danger1="#dd6161",t.danger2="#f78989",t.danger3="#f9a7a7",t.danger4="#fbc4c4",t.danger5="#fef0f0",t.disabled1="#72747a",t.disabled2="#82848a",t.disabled3="#a6a9ad",t.disabled4="#bcbec2",t.disabled5="#d3d4d6",t.icon1="#000000",t.icon2="#ff6a48",t.icon3="#66b1ff",t.icon4="#5daf34",t.icon5="#cf9236",t.icon6="#dd6161",t.icon7="#82848a",t.headerBack="#202833",t.headerFont="#ffffff",t.headerBorder="#202833",(yaxi.colors||(yaxi.colors=Object.create(null))).default=t}(yaxi.color=Object.create(null)),yaxi.Control=yaxi.Observe.extend(function(t,e){var i=Object.create,n=yaxi.EventTarget.prototype,s=yaxi.classes=i(null),r=yaxi.__dom_host=document.createElement("div");r.className="yx-host",document.body?document.body.appendChild(r):document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(r)}),t.register=function(t){return t&&(s[this.typeName=this.prototype.typeName=t]=this),this},this.$property("id",""),this.$property("theme",""),this.$property("className",""),this.$property("disabled",!1),this.$property("lang",""),this.$property("title",""),this.$property("accessKey",""),this.$property("alt",""),this.$property("url","",!1),this.$property("args",null,!1),this.$property("key","",!1),this.$property("tag",null,!1),this.$property("line",""),this.$property("fill",""),Object.defineProperty(this,"style",{get:function(){return this.__style||(this.__style=new yaxi.Style(this))}}),this.$converter.style={fn:function(t){(this.__style=new yaxi.Style(this)).assign(t)}},this.parent=null,Object.defineProperty(this,"root",{get:function(){for(var t,e=this;t=e.parent;)e=t;return e}}),Object.defineProperty(this,"offsetTop",{get:function(){var t=this.$dom;return t?t.offsetTop:0}}),Object.defineProperty(this,"offsetLeft",{get:function(){var t=this.$dom;return t?t.offsetLeft:0}}),Object.defineProperty(this,"offsetWidth",{get:function(){var t=this.$dom;return t?t.offsetWidth:0}}),Object.defineProperty(this,"offsetHeight",{get:function(){var t=this.$dom;return t?t.offsetHeight:0}}),this.hasClass=function(t){if(t){var e=this.className;return!!e&&0<=e.indexOf(t)}return!1},this.addClass=function(t){if(t){var e=this.className;e?e.indexOf(t)<0&&(this.className=e+" "+t):this.className=t}},this.removeClass=function(t){if(t){var e=this.className;e&&(this.className=e.replace(t,"").replace(/(?:^|\s)\s+|\s$/,""))}},this.toggleClass=function(t){if(t){var e=this.className;e&&e.indexOf(t)<0?this.className=e.replace(t,"").replace(/(?:^|\s)\s+|\s$/,""):this.className=e+" "+t}},this.on=n.on,this.once=n.once,this.off=n.off,this.trigger=n.trigger,this.hasEvent=n.hasEvent,this.$converter.events={fn:function(t){for(var e in t)this.on(e,t[e])}},this.find=function(t){var e=t&&yaxi.Query.parse(t);return e?this.__find(e,0):null},this.__find=function(t,e){var i;switch(t[e++]){case"<":i=this.__find_up(t[e++],t[e++],!1);break;case"<<":i=this.__find_up(t[e++],t[e++],!0);break;case">":i=this.__find_down(t[e++],t[e++],!1);break;case">>":i=this.__find_down(t[e++],t[e++],!0)}return i?t[e]?i.__find(t,e):i:null},this.__find_value=function(t,e){switch(t){case"@":return this.$storage.key===e;case"":return this instanceof(s[e]||Boolean);case"#":return this.$storage.id===e;case".":return 0<=(this.$className+" "+(this.$storage.className||"")+" ").indexOf(e+" ");default:return this[t]===e}},this.__find_up=function(t,e,i){var n=this.parent;if(n)if(i){do{if(n.__find_value(t,e))return n}while(n=n.parent)}else if(n.__find_value(t,e))return n},this.__find_down=function(){return null},this.exists=function(t,e){for(var i=this;i&&i!==e;){if(i[t])return i;i=i.parent}},this.findValue=function(t,e){for(var i,n=this;n&&n!==e;){if(i=n[t])return i;n=n.parent}},this.findKey=function(t){for(var e,i=this;i&&i!==t;){if(e=i.key)return e;i=i.parent}return""},this.findURL=function(t){for(var e,i=this;i&&i!==t;){if(e=i.url)return e;i=i.parent}return""},this.remove=function(){var t,e,i=this.parent;i&&(t=i.__children)&&0<=(e=t.indexOf(this))&&t.splice(e,1)};var o=document.createElement("div");yaxi.template=function(t,e){var i;t&&e&&(o.innerHTML=e,t.$template=i=o.firstChild,t.$className=i.className||"yx-control",o.removeChild(i))},this.$className="yx-control",yaxi.template(this,'<div class="yx-control"></div>'),this.render=function(){var t,e=this.$dom||(this.$dom=this.$template.cloneNode(!0));return(e.$control=this).__changes&&this.__update_patch(),(t=this.__style)&&t.__update_patch(),(t=this.__events)&&t.__update_patch(),e},this.__update_patch=function(){var t,e;if((t=this.__changes)&&(e=this.$dom)){var i,n,s=this.$storage,r=this.renderer;for(var o in t)s[o]=i=t[o],(n=r[o])?n.call(this,e,i):(r[o]=h(o,i)).call(this,e,i);this.__changes=null}};var a=this.renderer=i(null);function h(i,t){return"boolean"==typeof t?function(t,e){e?t.setAttribute(i,i):t.removeAttribute(i)}:function(t,e){t.setAttribute(i,e)}}a.id=function(t,e){t.id=e},a.theme=function(t,e){t.setAttribute("theme",e)},a.className=function(t,e){t.className=e?this.$className+" "+e:this.$className},a.disabled=function(t,e){e?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled")},a.lang=function(t,e){t.setAttribute("lang",e)},a.title=function(t,e){t.setAttribute("title",e)},a.accessKey=function(t,e){t.setAttribute("accessKey",e)},a.alt=function(t,e){t.setAttribute("alt",e)},a.line=function(t,e){t.setAttribute("line",e)},a.fill=function(t,e){t.style.fill=e},this.destroy=function(){var t,e;if((e=this.$dom)&&(e.$control=this.$dom=null),t=this.__bindings)for(var i in this.__bindings=null,t)(e=t[i])&&(e=e.model)&&e.__bindings&&e.$unbind(t[i]);if((e=this.__style)&&(t=e.__bindings))for(var i in e.__bindings=null,t)(e=t[i])&&(e=e.model)&&e.$unbind(i,this);this.__event_keys&&this.off(),this.ondestroy&&this.ondestroy(),this.parent=this.__binding_push=null,this.destroyed=!0},this.__class_init=function(t){t.register=t.superclass.register,this.$defaults=i(this.$defaults),this.$converter=i(this.$converter),this.renderer=i(this.renderer)}},function(){var t;this.$storage=Object.create(this.$defaults),(t=this.init)&&t.apply(this,arguments)}).register("Control"),yaxi.container=function(s){function e(t){for(var e,i=t.target;i&&i!==this;){if(e=i.url){var n=yaxi.loadModule(this.baseURL,e),s=i.args;return s&&0<s.length?(i=Object.create(n.prototype),n.apply(i,s),i.open()):(new n).open(),t.stop(),!1}i=i.parent}}this.$property("layout",""),this.$property("baseURL","",!1),this.$property("openURL",{defaultValue:!1,converter:function(t){return(t=!!t)!==this.openURL&&(t?this.on("tap",e):this.off("tap",e)),t}},!1),this.locate=function(t,e){for(var i=this.__children,n=i.length;n--;)if(i[n][t]===e)return i[n]},this.query=function(t){var e,i=yaxi.Query,n=new i,s=this.__children;return 0<s.length&&(t&&(e=i.parse(t))?0<(s=function t(e,i,n){var s,r=[],o=0;switch(i[n++]){case"<":for(;s=e[o++];)(s=s.__find_up(i[n++],i[n++],!1))&&r.push(s);break;case"<<":for(;s=e[o++];)(s=s.__find_up(i[n++],i[n++],!0))&&r.push(s);break;case">":for(;s=e[o++];)s.__query&&s.__query(r,i[n++],i[n++],!1);break;case">>":for(;s=e[o++];)s.__query&&s.__query(r,i[n++],i[n++],!0)}if(0<r.length&&i[n])return t(r,i,n);return r}([this],e,0)).length&&s.push.apply(n,s):!1===t?n.push.apply(n,s):function t(e,i){var n,s=0;for(;n=e[s++];){var r=n.__children;i.push(n),r&&0<r.length&&t(r,i)}}(s,n)),n},this.__query=function(t,e,i,n){for(var s,r=this.__children,o=0;s=r[o++];)s.__find_value(e,i)&&t.push(s),n&&s.__query&&s.__query(t,e,i,!0)},this.__find_down=function(t,e,i){for(var n,s=this.__children,r=0;n=s[r++];){if(n.__find_value(t,e))return n;if(i&&n.__children&&(n=n.__find_down(t,e,!0)))return n}},this.renderer.layout=function(t,e){t.setAttribute("layout",e)},this.render=function(){var t,e=s.render.call(this),i=this.__children,n=0;for(i.__patch=1;t=i[n++];)e.appendChild(t.render());return e},this.destroy=function(){for(var t=this.__children,e=t.length;e--;)t[e].destroy();(t=this.__loading)&&t.destroy(),(t=this.__pulldown)&&t.destroy(),s.destroy.call(this)}},yaxi.__extend_pulldown=function(){var n,s,r;function i(){var t;if(!n&&(t=this.__loading)&&"completed"!==t.status){var e=(new Date).getTime();if(e-(t.__time||0)<100)return;var i=this.$dom;if(t.before){if(i.scrollTop>i.offsetHeight)return}else if(i.scrollTop+(i.offsetHeight<<1)<i.scrollHeight)return;t.index++,t.__time=e,t.onload.call(this,t)}}function o(t){if(n){if(n.$dom)return n.move(t.distanceY),t.stop(),!1;n=null}if(this.$dom.scrollTop<1&&16<t.distanceY&&t.distanceY>t.distanceX+4){var e=t.start,i=this.$dom.style;return(s=this.__loading)&&(s.shown?(s.load(),s.style.visibility="hidden"):s=null),e.control=this,e.clientX=t.clientX,e.clientY=t.clientY,r=i.overflowY,i.overflowY="hidden",(n=this.pulldown).start(this),t.stop(),!1}}function a(t){if(n){if(this.$dom.style.overflowY=r||"",n.$dom)return n.stop(this,s),n=null,t.stop(),!1;n=s=null}}Object.defineProperty(this,"loading",{get:function(){return this.__loading},set:function(t){if(t){var e=yaxi.Loading;if("function"==typeof t)(e=new e).onload=t;else{if("function"!=typeof t.onload)throw"loading onload must be a function!";e=t instanceof e?t:new e(t)}(e.parent=this).__loading=e,this.on("scroll",i)}else this.off("scroll",i)}}),Object.defineProperty(this,"pulldown",{get:function(){return this.__pulldown},set:function(t){if(t){var e=yaxi.Pulldown;if("function"==typeof t)(e=new e).onload=t;else{if("function"!=typeof t.onload)throw"pulldown onload must be a function!";e=t instanceof e?t:new e(t)}this.__pulldown=e,this.on("touchmove",o),this.on("touchend",a),this.on("touchcancel",a)}else this.off("touchmove",o),this.off("touchend",a),this.off("touchcancel",a)}})},yaxi.Panel=yaxi.Control.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-panel"></div>'),Object.defineProperty(this,"children",{get:function(){return this.__children},set:function(t){var e=this.__children;0<e.length&&e.clear(),t&&0<t.length&&e.push.apply(e,t)}}),this.$converter.children={fn:function(t){t&&0<t.length&&this.__children.assign(t)}},this.__child_class=yaxi.Control,yaxi.container.call(this,e),yaxi.__extend_pulldown.call(this)},function(){var t;this.$storage=Object.create(this.$defaults),this.__children=new yaxi.ControlCollection(this),(t=this.init)&&t.apply(this,arguments)}).register("Panel"),yaxi.Button=yaxi.Control.extend(function(t,e){t["en-US"]={OK:"OK",Cancel:"Cancel",Yes:"Yes",No:"No"},t["zh-CN"]={OK:"",Cancel:"",Yes:"",No:""},t["zh-TW"]={OK:"",Cancel:"",Yes:"",No:""},yaxi.template(this,'<button type="button" class="yx-control yx-button"></button>'),this.$property("text",""),this.renderer.text=function(t,e){t.textContent=e}}).register("Button"),yaxi.Canvas=yaxi.Control.extend(function(t,e){yaxi.template(this,'<canvas class="yx-control"></canvas>'),t.ctor=function(){var t;this.$storage=create(this.$defaults),(t=this.init)&&t.apply(this,arguments),this.on("touchstart",function(t){}.bind(this)),this.on("touchmove",function(t){}.bind(this))},this.$property("width",300),this.$property("height",300)}),yaxi.ControlCollection=Object.extend.call({},function(t){var i=Array.prototype,n=i.push,o=i.splice,a=yaxi.__add_patch;function l(t,e,i,n){var s;if(n)if(n.$storage){if(n instanceof e)return(s=n).destroyed?void console.error(",!"):(s.parent&&s.parent!==t&&s.remove(),s.parent=t,s.__last_index=null,s)}else(s=new(n.Class||i)).parent=t,s.assign(n);else(s=new i).parent=t;if(s&&s instanceof e)return s;throw'not a valid subtype "'+e.typeName+'"!'}function h(t,e,i,n){for(var s,r=t.owner,o=r.__child_class,a=r.subtype||yaxi.Control,h=e.length;i<h;)(s=l(r,o,a,e[i++]))&&n.push(s);return n}this.length=0,this.indexOf=i.indexOf,this.lastIndexOf=i.lastIndexOf,this.forEach=i.forEach,this.map=i.map,this.reduce=i.reduce,this.reduceRight=i.reduceRight,this.assign=function(t){var e,i=this.owner,n=i.__child_class,s=i.subtype||yaxi.Control,r=0;0<this.length&&this.clear();for(var o=0,a=t.length;o<a;o++)(e=l(i,n,s,t[o]))&&(this[r++]=e);this.length=r},this.push=function(){if(0<arguments.length){var t,e=h(this,arguments,0,[]);return this.__patch&&((t=this.__changes)?t.push.apply(t[1],e):(this.__changes=[0,e],a(this))),n.apply(this,e)}return this.length},this.pop=function(){var t,e=i.pop.call(this);return e&&(e.parent=null,this.__patch&&((t=this.__changes)?t.push(e):(this.__changes=[0,[],e],a(this)))),e},this.unshift=function(){if(0<arguments.length){var t,e=h(this,arguments,0,[]);return this.__patch&&((t=this.__changes)?(t[0]=1,t.push.apply(t[1],e)):(this.__changes=[1,e],a(this))),i.unshift.apply(this,e)}return this.length},this.shift=function(){var t,e=i.shift.call(this);return e&&(e.parent=null,this.__patch&&((t=this.__changes)?(t[0]=1,t.push(e)):(this.__changes=[1,[],e],a(this)))),e},this.splice=function(t,e){var i,n=this.__patch,s=n&&this.__changes;if(0<(i=2<arguments.length?(i=h(this,arguments,2,[t,e]),n&&(s?(s[0]=1,s.push.apply(s[1],i.slice(2))):(this.__changes=s=[1,i.slice(2)],a(this))),o.apply(this,i)):o.apply(this,arguments)).length){for(var r=i.length;r--;)i[r].parent=null;n&&(s?(s[0]=1,s.push.apply(s,i)):(this.__changes=[1,[]].concat(i),a(this)))}return i},this.clear=function(){var t,e=o.call(this,0);if(0<e.length){for(var i=e.length;i--;)e[i].parent=null;this.__patch&&((t=this.__changes)?(t[0]=0,t.push.apply(t,e)):(this.__changes=[0,[]].concat(e),a(this)))}return e},this.sort=function(t){var e;return 0<this.length&&(i.sort.call(this,t),this.__patch&&((e=this.__changes)?e[0]=1:(this.__changes=[1,[]],a(this)))),this},this.reverse=function(){var t;return 0<this.length&&(i.reverse.call(this),this.__patch&&((t=this.__changes)?t[0]=1:(this.__changes=[1,[]],a(this)))),this},this.__update_patch=function(){var t,e,i;(t=this.__changes)&&(e=this.owner,2<t.length&&this.__remove_patch(e,t),(i=e.$dom)&&(0<t[1].length&&this.__insert_patch(e,t[1],i),t[0]&&this.__sort_patch(i)),this.__changes=null,(i=this.onchange)&&i.call(this,e))},this.__insert_patch=function(t,e,i){for(var n=t.__loading&&i.lastChild,s=0,r=e.length;s<r;s++){var o=e[s];o.parent===t&&i.appendChild(o.$dom||o.render())}n&&2===n.$loading&&i.appendChild(n)},this.__remove_patch=function(t,e){for(var i,n,s,r=2,o=e.length;r<o;r++)(i=e[r]).parent!==t&&((n=i.$dom)&&(s=n.parentNode)&&s.removeChild(n),i.parent||i.cached||i.destroyed||i.destroy())},this.__sort_patch=function(t){var e,i,n;if(e=t.firstChild){var s=0;for(1===e.$loading&&(e=e.nextSibling);n=this[s++];)(i=n.$dom)===e?e=i.nextSibling:t.insertBefore(i,e)}}},function(t){this.owner=t}),yaxi.HtmlControl=yaxi.Control.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-htmlcontrol"></div>'),this.$property("html",""),this.renderer.html=function(t,e){t.innerHTML=e}}).register("HtmlControl"),yaxi.Icon=yaxi.Control.extend(function(){yaxi.template(this,'<span class="yx-control yx-icon"></span>'),this.$property("icon",""),this.$property("svg",""),this.$property("size","");var t=this.renderer;t.icon=function(t,e){var i=t.classList,n=this.__icon;n&&i.remove(n),(this.__icon=e)&&i.add(e)},t.svg=function(t,e){e?(t.innerHTML='<svg aria-hidden="true"><use xlink:href="#'+e.replace(/[<>"']/g,"")+'"></use></svg>',(e=this.fill)&&(t.firstChild.style.fill=e),(e=this.size)&&(t.firstChild.style.fontSize=e)):t.innerHTML=""},t.size=function(t,e){(t=t.firstChild)&&(t.style.fontSize=e)}}).register("Icon"),yaxi.IconButton=yaxi.Control.extend(function(t,e){yaxi.template(this,'<span class="yx-control yx-iconbutton"><span></span><span></span></span>'),this.$property("text",""),this.$property("icon",""),this.$property("svg",""),this.$property("size",""),this.$property("vertical",!1);var i=this.renderer;i.text=function(t,e){t.lastChild.textContent=e},i.icon=function(t,e){t.firstChild.className=e},i.svg=function(t,e){t=t.firstChild,e?(t.innerHTML='<svg aria-hidden="true"><use xlink:href="#'+e.replace(/[<>"']/g,"")+'"></use></svg>',(e=this.fill)&&(t.style.fill=e),(e=this.size)&&(t.firstChild.style.fontSize=e)):t.innerHTML=""},i.size=function(t,e){(t=t.firstChild.firstChild)&&(t.style.fontSize=e)},i.vertical=function(t,e){t.setAttribute("layout",e?"column-center":"row-center")}}).register("IconButton"),yaxi.IFrame=yaxi.Control.extend(function(t,e){yaxi.template(this,'<iframe class="yx-control yx-iframe"></iframe>'),this.$property("src",""),this.renderer.src=function(t,e){t.src=e},window.addEventListener("message",function(t){var e=function(t){for(var e=document.querySelectorAll("iframe"),i=e.length;i--;)if(e[i].contentWindow===t)return e[i].$control}(t.source);e&&e.trigger("message",{data:t.data})})}),yaxi.Image=yaxi.Control.extend(function(){yaxi.template(this,'<img class="yx-control yx-image"></img>'),this.$property("src","")}).register("Image"),yaxi.Loading=yaxi.Control.extend(function(o,e){o["en-US"]={loading:"loading, please wait...",empty:"no data",completed:"no more data",failed:"load fail, please click to retry"},o["zh-CN"]={loading:", ...",empty:"",completed:"",failed:", "},o["zh-TW"]={loading:", ...",empty:"",completed:"",failed:", "},yaxi.template(this,'<div class="yx-loading"><span class="yx-loading-img"></span><span></span></div>'),this.loadingText="",this.emptyText="",this.completedText="",this.failedText="",this.empty=!1,this.before=!1,this.status="loading",Object.defineProperty(this,"shown",{get:function(){var t=this.$dom;return!(!t||!t.parentNode)}}),this.index=0,this.show=function(){var t,e=this.status||"loading",i=this.$dom;if("hidden"!==e){var n,s=o[yaxi.language]||o["en-US"],r="none";switch(e){case"loading":r="",n=this.loadingText||s.loading;break;case"completed":n=this.empty?this.emptyText||s.empty:this.completedText||s.completed;break;case"failed":n=this.failedText||s.failed}(i=i||(this.$dom=this.render())).firstChild.style.display=r,i.lastChild.innerHTML=n,(t=this.parent)&&(t=t.$dom),this.before?(i.$loading=1,t&&t.insertBefore(i,t.firstChild||null)):(i.$loading=2,t&&t.appendChild(i))}else(i=this.$dom)&&(t=i.parentNode)&&t.removeChild(i)},this.load=function(t){this.stop(),this.$storage&&!(this.status="loading")!==t&&(this.__delay=setTimeout(this.show.bind(this),t||0))},this.complete=function(t,e){this.stop(),this.$storage&&(this.empty=t,!(this.status="completed")!==e&&(this.__delay=setTimeout(this.show.bind(this),e||0)))},this.fail=function(t){this.stop(),this.$storage&&!(this.status="failed")!==t&&(this.__delay=setTimeout(this.show.bind(this),t||0))},this.stop=function(){this.__delay&&(clearTimeout(this.__delay),this.__delay=0)},this.hide=function(){var t,e;this.stop(),this.$storage&&(this.status="hidden"),(e=this.$dom)&&(t=e.parentNode)&&t.removeChild(e)},this.render=function(){var t=e.render.call(this);return"hidden"!==this.status&&this.show(),t},this.__on_tap=function(){"failed"===this.status&&(this.load(),setTimeout(this.onload.bind(this.parent,this),500))}}).register("Loading"),yaxi.Multiline=yaxi.Control.extend(function(){yaxi.template(this,'<div class="yx-control yx-multiline"></div>'),this.$property("text",""),this.renderer.text=function(t,e){if(e){for(var i=yaxi.html.encode(e).replace(/ /g,"&nbsp;").split("\n"),n=i.length;n--;)i[n]="<div>"+i[n]+"</div>";t.innerHTML=i.join("")}else t.innerHTML=""}}).register("Multiline"),yaxi.ProgressBar=yaxi.Control.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-progressbar"><div></div></div>'),this.$property("value",0),this.renderer.value=function(t,e){t.firstChild.style.width=e+"%"}}).register("ProgressBar"),yaxi.Pulldown=yaxi.Control.extend(function(e,t){var r;function o(t){return(e[yaxi.language]||e["en-US"])[t]}function a(t){var e,i=this.$dom;i&&(e=i.parentNode)&&e.removeChild(i),t&&(t.style.visibility="")}e["en-US"]={pulldown:"pulldown to refresh",release:"release refresh",loading:"loading, please wait...",success:"refresh success",fail:"refresh fail"},e["zh-CN"]={pulldown:"",release:"",loading:", ...",success:"",fail:""},e["zh-TW"]={pulldown:"",release:"",loading:", ...",success:"",fail:""},yaxi.template(this,'<div class="yx-control yx-pulldown" style="height:0;"><span class="yx-pulldown-body"><svg aria-hidden="true"><use xlink:href="#icon-yaxi-pulldown"></use></svg><span class="yx-loading-img" style="display:none;"></span><span></span></span></div>'),this.$property("pulldownText","",!1),this.$property("releaseText","",!1),this.$property("loadingText","",!1),this.start=function(t){var e=this.$dom||this.render(),i=e.style;(t=t.$dom||t).insertBefore(e,t.firstChild),(e=e.firstChild.firstChild).style.display="",e.nextSibling.style.display="none",i.transition="",i.height=0},this.move=function(t){var e,i,n=this.$dom,s=n.style;s.height=t<=0?(this.ready=!1,0):(i=(this.ready=t>=.8*yaxi.rem)?(e="rotateZ(180deg)",this.releaseText||o("release")):(e="",this.pulldownText||o("pulldown")),(n=n.firstChild).firstChild.style.transform=e,n.lastChild.innerHTML=i,t+"px")},this.stop=function(t,e){var i=this.$dom.style;if(r&&(clearTimeout(r),r=0),i.transition="height 600ms ease",this.ready)return i.height=".5rem",r=setTimeout(function(t){var e=this.$dom;e&&((e=e.firstChild.firstChild).style.display="none",(e=e.nextSibling).style.display="",(e=e.nextSibling).innerHTML=this.loadingText||o("loading"),setTimeout(function(){this.onload.call(t,this)}.bind(this),500))}.bind(this,t),600),!0;i.height=0,r=setTimeout(a.bind(this,e),600)},this.hide=function(t,e){var i,n=this.$dom;if(r&&(clearTimeout(r),r=0),n&&(i=n.parentNode))if(this.ready){var s=n.firstChild.lastChild;s.innerHTML=o(t?"fail":"success"),s.previousSibling.style.display="none",e&&(e.stop(),e.status=t?"failed":"completed"),r=setTimeout(function(t){var e=this.$dom;e&&(e.style.transition="height 600ms ease",e.style.height=0,r=setTimeout(a.bind(this,t),600))}.bind(this,e),1e3)}else i.removeChild(n),e&&(e.style.visibility="")}}).register("Pulldown"),yaxi.Query=Object.extend.call(Array,function(t,e){var r=Object.create(null);function i(t){for(var e,i,n=t.match(/\<{1,2}|\>{1,2}|[#.@=]|[\w-]+/g),s=0;e=n[s++];)if("<"===(i=e[0])||">"===i)if(e=n[s++])switch(e){case"@":case"#":case".":s++;break;default:"="===n[s]?n.splice(s++,1):(n.splice(s-1,0,""),s++)}else o(t);else o(t);return r[t]=n}function o(t){throw'selector "'+t+'" is invalid!'}t.parse=function(t){return t?r[t]||i(t):null},this.find=function(t){if(t=r[t]||i(t))for(var e=this.length;e--;)this[e].__find_value(key,t)||this.splice(e,1);return this},this.get=function(t){for(var e,i=0;e=this[i++];)if(void 0!==(e=e[t]))return e},this.set=function(t,e){for(var i,n=0;i=this[n++];)i[t]=e;return this},this.call=function(t,e){for(var i,n=0;i=this[n++];){var s=i[t];s&&(e?s.call(i):s.apply(i,e))}return this},this.hasClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.hasClass(t))return!0;return!1},this.addClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.addClass(t))return!0;return this},this.removeClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.removeClass(t))return!0;return this},this.toggleClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.toggleClass(t))return!0;return this},this.style=function(t,e){for(var i,n=0;i=this[n++];)i.style[t]=e;return this},this.on=function(t,e){for(var i,n=0;i=this[n++];)i.on(t,e);return this},this.off=function(t,e){for(var i,n=0;i=this[n++];)i.off(t,e);return this},this.trigger=function(t,e){for(var i,n=0;i=this[n++];)i.trigger(t,e);return this},this.remove=function(){for(var t,e=0;t=this[e++];)t.remove();return this}}),yaxi.Repeater=yaxi.Control.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-repeater"></div>'),this.$property("template",{defaultValue:null,set:function(t){var e=this.$storage;t&&"object"!=typeof t&&(t=null),e.template!==t&&(e.template=t,this.__children.clear(),e.store&&this.__model_insert(-1,e.store))}},!1),this.$property("store",{defaultValue:null,converter:function(t){return t?("string"==typeof t&&(t=this.__find_store(t)),t.$bind&&t.$bind(this)):((t=this.store)&&t.$bind&&t.$unbind(this),t=null),t},set:function(t){var e=this.$storage;t=this.$converter.store.fn.call(this,t),e.store!==t&&(e.store=t,this.__children.clear(),t&&e.template&&this.__model_insert(-1,t))}},!1),this.$property("submodel","item",!1),this.assign=function(t){e.assign.call(this,t),t.template&&(t=this.store)&&this.__model_insert(-1,t)};var l=yaxi.__add_patch;function i(t,e){return t.model.__index-e.model.__index||0}this.__update_patch=function(){var t;(t=this.__changes)&&(e.__update_patch.call(this),(t.template||t.store)&&(this.__children.clear(),(t=this.store)&&0<t.length&&this.__model_insert(0,t)))},this.__model_insert=function(t,e){var i=this.template;if(i){for(var n,s=i.Class||yaxi.Panel,r=this.__children,o=[],a=0,h=o.length=e.length;a<h;a++)(n=o[a]=new s).parent=this,n.model=e[a],n.assign(i);t<0?o.push.apply(r,o):o.splice.apply(r,[t,0].concat(o)),r.__patch&&((n=r.__changes)?(0<=t&&(n[0]=1),n.push.apply(n[1],o)):(r.__changes=t<0?[0,o]:[1,o],l(r)))}},this.__model_remove=function(t,e){this.__children.splice(t,e)},this.__model_clear=function(){this.__children.clear()},this.__model_sort=function(){this.__children.sort(i)},yaxi.container.call(this,e),yaxi.__extend_pulldown.call(this)},function(){var t;this.$storage=Object.create(this.$defaults),this.__children=new yaxi.ControlCollection(this),(t=this.init)&&t.apply(this,arguments)}).register("Repeater"),yaxi.Tab=yaxi.Panel.extend(function(t,i){function e(t){for(var e,i=t.target;i&&i!==this;){if((e=i.parent)===this){var n=this.__children,s=n.indexOf(i);this.selectedIndex!==s&&!1!==this.trigger("changing",{index:s,item:n[s]})&&(this.selectedIndex=s);break}i=e}}yaxi.template(this,'<div class="yx-control yx-panel yx-tab"></div>'),t.ctor=function(){i.constructor.ctor.call(this),this.on("tap",e)},this.$property("selectedIndex",{type:"int",defaultValue:-1}),this.$property("host","",!1),this.$converter.openURL=!1,Object.defineProperty(this,"selectedItem",{get:function(){var t=this.selectedIndex;return 0<=t&&this.__children[t]||null}}),Object.defineProperty(this,"selectedHost",{get:function(){var t,e=this.selectedIndex;return 0<=e&&(t=this.__children[e])&&t.host||null}}),this.renderer.selectedLine=function(t,e){t.setAttribute("line",e)},this.renderer.selectedIndex=function(t,e){var i,n,s,r,o,a,h,l,c,u,d=this.__children;(i=d[this.__index])&&(i.theme="",(s=i.host)&&(s.style.display="none",s.onhide&&s.onhide())),(n=d[e])?(n.theme="primary",(s=n.host)?(s.style.display="block",s.onshow&&s.onshow(!1)):n.url&&(s=this.host&&this.find(this.host))&&(d=s.children)&&(o=this.baseURL,a=n.url,h=n.args,u=yaxi.loadModule(o,a),h&&0<h.length?(l=Object.create(u.prototype),u.apply(l,h)):l=new u,(c=l.style).position="absolute",c.top=c.left=c.right=c.bottom=0,s=l,d.push(n.host=s),s.onshow&&s.onshow(!0),r=!0)):i&&(e=-1),this.__index=e,this.trigger("change",{last:i,privious:i,selected:n,start:r||!1})},this.onshow=function(t){var e=this.selectedHost;e&&e.onshow&&e.onshow(t||!1)},this.onhide=function(){var t=this.selectedHost;t&&t.onhide&&t.onhide()},this.destroy=function(){for(var t=this.__children,e=t.length;e--;)t[e].host=null;i.destroy.call(this)}}).register("Tab"),yaxi.Text=yaxi.Control.extend(function(){yaxi.template(this,'<span class="yx-control yx-text"></span>'),this.$property("text",""),this.$property("security",""),this.$property("format",{defaultValue:null,converter:function(t){return this.__format="function"==typeof t?t:yaxi.pipe.compile(t),t}},!1),this.renderer.text=function(t,e){var i;this.__security||(t.textContent=(i=this.__format)?i(e):e)},this.renderer.security=function(t,e){var i;(this.__security=e)?t.textContent=e:t.textContent=(i=this.__format)?i(this.text):this.text}}).register("Text"),yaxi.Upload=yaxi.Control.extend(function(t,e){yaxi.template(this,'<input type="file" class="yx-control yx-upload" />')}).register("Upload"),yaxi.TextBox=yaxi.Control.extend(function(){yaxi.template(this,'<span class="yx-control yx-textbox"><input type="text" /></span>'),this.$property("value",""),Object.defineProperty(this,"text",{get:function(){var t;return(t=this.$dom)?t.firstChild.value:(t=this.__format)?t(this.value):this.value},set:function(t){var e;(e=this.$dom)?e.firstChild.value=t:this.value=t}}),this.$property("placeholder",""),this.$property("align","left"),this.$property("maxLength",0),this.$property("pattern",""),this.$property("format",{defaultValue:null,converter:function(t){return this.__format="function"==typeof t?t:yaxi.pipe.compile(t),t}},!1),this.focus=function(){var t;(t=this.$dom)&&t.focus()},this.blur=function(){var t;(t=this.$dom)&&t.blur()};var t=this.renderer;t.value=function(t,e){var i=this.__format;i&&(e=i(e)),t.firstChild.value=e},t.placeholder=function(t,e){t.firstChild.placeholder=e},t.maxLength=function(t,e){t.firstChild.maxLength=e},t.pattern=function(t,e){t.firstChild.setAttribute("pattern",e)},this.__on_change=function(t){var e=this.value;this.value=t.value,this.value!==e?this.$push(this.value):this.renderer.value(this.$dom,e)}}).register("TextBox"),yaxi.CheckBox=yaxi.Control.extend(function(t,e){yaxi.template(this,'<span class="yx-control yx-checkbox"><svg aria-hidden="true"><use xlink:href="#icon-yaxi-checkbox-unchecked"></use></svg><span></span></span>'),this.$property("text",""),this.$property("checked",!1),this.$property("checkedIcon","icon-yaxi-checkbox-checked"),this.$property("uncheckedIcon","icon-yaxi-checkbox-unchecked");var i=this.renderer;i.text=function(t,e){t.lastChild.textContent=e},i.checked=function(t,e){t.firstChild.firstChild.setAttribute("xlink:href","#"+(e?this.checkedIcon:this.uncheckedIcon))},i.checkedIcon=function(t,e){e&&this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},i.uncheckedIcon=function(t,e){e&&!this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},this.__on_tap=function(){this.$push(this.checked=!this.checked),this.trigger("change")}}).register("CheckBox"),yaxi.Memo=yaxi.Control.extend(function(){yaxi.template(this,'<span class="yx-control yx-memo"><textarea></textarea></span>'),this.$property("value",""),this.$property("placeholder",""),Object.defineProperty(this,"text",{get:function(){var t;return(t=this.$dom)?t.firstChild.value:this.value},set:function(t){var e;(e=this.$dom)?e.firstChild.value=t:this.value=t}}),this.focus=function(){var t;(t=this.$dom)&&t.focus()},this.blur=function(){var t;(t=this.$dom)&&t.blur()};var t=this.renderer;t.value=function(t,e){t.firstChild.value=e},t.placeholder=function(t,e){t.firstChild.placeholder=e},this.__on_change=function(t){var e=this.value;this.value=t.value,this.value!==e?this.$push(this.value):this.renderer.value(this.$dom,e)}}).register("Memo"),yaxi.Number=yaxi.TextBox.extend(function(){yaxi.template(this,'<span class="yx-control yx-textbox yx-number"><input type="number" /><span class="yx-number-minus">-</span><span class="yx-number-plus"></span></span>'),this.$property("button",!1),this.$property("value",{defaultValue:0,converter:function(t){var e;return(t=+t||0)<(e=this.min)?e:t>(e=this.max)?e:t}}),this.$property("min",-1/0,!1),this.$property("max",1/0,!1),this.$property("step",1),this.clear=function(){var t;(t=this.$dom)&&(t.firstChild.value=""),this.$storage.value=0};var t=this.renderer;function s(t,e){var i;if(i=t.value,t.value=e,(e=t.value)!==i)return t.$push(e),(i=new yaxi.Event("change")).dom=t.$dom.firstChild,i.value=e,t.trigger(i);t.renderer.value(t.$dom,e)}t.button=function(t,e){e?t.setAttribute("button",!0):t.removeAttribute("button")},t.value=function(t,e){var i=this.__format;i&&(e=i(e)),(t=t.firstChild).value=e||(t.value?0:""),t=t.nextSibling,e===this.min?t.setAttribute("disabled",!0):t.removeAttribute("disabled"),t=t.nextSibling,e===this.max?t.setAttribute("disabled",!0):t.removeAttribute("disabled")},this.__on_tap=function(t){for(var e,i=this.$dom,n=t.dom;n&&n!==i;){if(e=n.classList){if(e.contains("yx-number-minus"))return s(this,(+i.firstChild.value||0)-this.step),t.stop(),!1;if(e.contains("yx-number-plus"))return s(this,(+i.firstChild.value||0)+this.step),t.stop(),!1}n=n.parentNode}},this.__on_change=function(t){var e=this.value;this.value=+t.value||0,this.value!==e?this.$push(this.value):this.renderer.value(this.$dom,e)}}).register("Number"),yaxi.Password=yaxi.TextBox.extend(function(){yaxi.template(this,'<span class="yx-control yx-textbox yx-password"><input type="password" /><span><svg aria-hidden="true"><use xlink:href="#icon-yaxi-eye-close"></use></svg></span></span>'),this.$property("type",""),this.renderer.type=function(t,e){t.lastChild.className=e?"yx-password-"+e:""},this.__on_tap=function(t){for(var e,i=this.$dom,n=t.dom;n&&n!==i;){if("SPAN"===n.tagName)return e="text"===(i=i.firstChild).type?(i.type="password","yaxi-eye-close"):(i.type="text","yaxi-eye-open"),void n.firstChild.firstChild.setAttribute("xlink:href","#icon-"+e);n=n.parentNode}}}).register("Password"),yaxi.RadioButton=yaxi.Control.extend(function(r,t){yaxi.template(this,'<span class="yx-control yx-radiobutton"><svg aria-hidden="true"><use xlink:href="#icon-yaxi-radio-unchecked"></use></svg><span></span></span>'),this.$property("text",""),this.$property("checked",!1),this.$property("checkedIcon","icon-yaxi-radio-checked"),this.$property("uncheckedIcon","icon-yaxi-radio-unchecked"),this.$property("host",1);var e=this.renderer;e.text=function(t,e){t.lastChild.textContent=e},e.checked=function(t,e){t.firstChild.firstChild.setAttribute("xlink:href","#"+(e?this.checkedIcon:this.uncheckedIcon))},e.checkedIcon=function(t,e){e&&this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},e.uncheckedIcon=function(t,e){e&&!this.checked&&t.firstChild.firstChild.setAttribute("xlink:href","#"+e)},this.__on_tap=function(){this.checked||(this.$push(this.checked=!0),this.trigger("change"),this.mutex(this.host))},this.mutex=function(t){var e=this.parent;for(t|=0;--t;)e=e.parent;if(e)for(var i=e.query(">>RadioButton"),n=i.length;n--;){var s=i[n];s instanceof r&&s!==this&&s.checked&&(s.checked=!1)}}}).register("RadioButton"),yaxi.SwitchButton=yaxi.Control.extend(function(t,e){yaxi.template(this,'<span class="yx-control yx-switchbutton"><span class="yx-switchbutton-bar"></span><span class="yx-switchbutton-button"></span></span>'),this.$property("checked",!1),this.renderer.checked=function(t,e){var i=t.classList;e?i.add("yx-switchbutton-checked"):i.remove("yx-switchbutton-checked")},this.__on_tap=function(){this.$push(this.checked=!this.checked),this.trigger("change")}}).register("SwitchButton"),yaxi.Page=yaxi.Control.extend(function(s,i){function t(t,e){for(var i=t.length;i--;)if(t[i].typeName===e)return t[i]}function e(){var t;return 0<arguments.length?(t=Object.create(this.prototype),this.apply(t,arguments)):t=new this,t.open()}s.all=function(){for(var t=[],e=s.current;e;)t.push(e),e=e.opener;return t.reverse()},s.close=function(t,e){var i;for(t="string"==typeof t?(e=t,1):t||1;0<t&&(i=s.current);)i.close(e),t--;return s.current},s.closeTo=function(t,e){var i=s.all();t|=0;for(var n=i.length-1;t<n;n--)i[n].close(e||"OK");return i[t]},s.closeAll=function(t){for(var e;e=s.current;)e.close(t||"OK")},yaxi.template(this,'<div class="yx-control yx-page"></div>'),this.$property("autoDestroy",!0,!1),Object.defineProperty(this,"header",{get:function(){return this.__header||(this.__header=t(this.__children,"Header"))}}),Object.defineProperty(this,"content",{get:function(){return this.__content||(this.__content=t(this.__children,"Content"))}}),Object.defineProperty(this,"footer",{get:function(){return this.__footer||(this.__footer=t(this.__children,"Footer"))}}),this.$converter.header={fn:function(t){var e;t&&"object"==typeof t?(t.key=t.key||"page-header",t.className="yx-header "+(t.className||"")):t=this.__template_header(t),(e=new(t.Class||yaxi.Header)).parent=this,e.assign(t),this.__children.push(this.__header=e)}},this.__template_header=function(t){return{Class:yaxi.Header,children:[{Class:yaxi.BackButton},{Class:yaxi.Title,text:t}]}},this.$converter.content={fn:function(t){var e;t&&"object"==typeof t||(t={Class:yaxi.Text,text:t}),t.key=t.key||"page-content",t.className="yx-content "+(t.className||""),(e=new(t.Class||yaxi.Content)).parent=this,e.assign(t),this.__children.push(this.__content=e)}},this.$converter.footer={fn:function(t){var e;t&&"object"==typeof t||(t={Class:yaxi.Text,text:t}),t.key=t.key||"page-footer",t.className="yx-footer "+(t.className||""),(e=new(t.Class||yaxi.Footer)).parent=this,e.assign(t),this.__children.push(this.__footer=e)}},this.$converter.children={fn:function(t){for(var e,i,n=this.__children,s=0,r=t.length;s<r;s++)(e=new((i=t[s]).Class||yaxi.Panel)).parent=this,n.push(e.assign(i))}},this.__find_up=function(){return null},yaxi.container.call(this,i),this.open=function(){if(!1!==this.onopening()){var t=s.current||null;yaxi.__dom_host.appendChild(this.$dom||this.render()),(s.current=this).opener=t,this.onopened(),this.onshow(!0),t&&(t.$dom.style.display="none",t.onhide()),this.trigger("opened"),this.openTime=new Date}return this},this.close=function(t){if(!1!==this.onclosing(t||(t="OK"))){var e=this.$dom,i=this.opener;this.onhide(),this.onclosed(t),e&&e.parentNode&&e.parentNode.removeChild(e),s.current=i,yaxi.toast.hide(),this.trigger("closed",{closeType:t}),this.opener=null,(i=s.current)&&(e=i.$dom)&&"none"===e.style.display&&(e.style.display="",i.onshow()),this.autoDestroy&&setTimeout(this.destroy.bind(this),100)}},this.onopening=function(){},this.onopened=function(){},this.onclosing=function(t){},this.onclosed=function(t){},this.onshow=function(t){},this.onhide=function(){},this.render=function(){var t,e=i.render.call(this);return(t=this.header)&&((t=t.render()).classList.add("yx-header"),e.appendChild(t)),(t=this.content)&&((t=t.render()).classList.add("yx-content"),e.appendChild(t)),(t=this.footer)&&((t=t.render()).classList.add("yx-footer"),e.appendChild(t)),e},this.destroy=function(){var t;(t=this.footer)&&t.destroy(),(t=this.content)&&this.content.destroy(),(t=this.header)&&t.destroy(),i.destroy.call(this)},this.__class_init=function(t){i.__class_init.call(this,t),t.open=e}},function(){var t;this.$storage=Object.create(this.$defaults),this.key="page",this.__children=[],(t=this.init)&&t.apply(this,arguments)}).register("Page"),yaxi.BackButton=yaxi.Control.extend(function(t,e){var i=Object.create;yaxi.template(this,'<span class="yx-control yx-backbutton"><svg aria-hidden="true"><use xlink:href="#icon-yaxi-back"></use></svg><span></span></span>'),t.ctor=function(){var t;this.$storage=i(this.$defaults),(t=this.init)&&t.apply(this,arguments),this.on("tap",function(t){var e,i=this;for(;e=i.parent;)i=e;i.close("BACK")}.bind(this))},this.$property("text",""),this.renderer.text=function(t,e){t.lastChild.innerHTML=e,t.style.width=e?"auto":""}}).register("BackButton"),yaxi.Content=yaxi.Panel.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-panel yx-content"></div>'),this.$defaults.key="page-content"}).register("Content"),yaxi.Dialog=yaxi.Page.extend(function(t){var s=t.stack=[],n="touchstart",r=document.createElement("div");function o(t){var e=s[s.length-1];if(e){for(var i=e.$dom,n=t.target;n;){if(n===i)return;n=n.parentNode}return e.autoClose&&e.close(),t.stopImmediatePropagation(),!1}}function a(){var t,e=yaxi.__dom_host,i=s[s.length-1];if(i&&(t=i.$dom)){var n=t.style;switch(i.alignY){case"top":n.top=0,n.bottom="";break;case"middle":n.top=(e.clientHeight-t.offsetHeight>>1)+"px",n.bottom="";break;case"bottom":n.top="",n.bottom=0}switch(i.alignX){case"left":n.left=0,n.right="";break;case"center":n.left=(e.clientWidth-t.offsetWidth>>1)+"px",n.right="";break;case"right":n.left="",n.right=0}}}r.className="yx-mask",yaxi.template(this,'<div class="yx-control yx-dialog"></div>'),this.$property("alignX","center"),this.$property("alignY","middle"),this.$property("autoClose",!1,!1),this.__template_header=function(t){return{Class:yaxi.Title,text:t}},this.open=function(){if(0<=s.indexOf(this)||!1===this.onopening())return!1;var t=yaxi.__dom_host;return t.appendChild(r),t.appendChild(this.$dom||this.render()),this.onopened(),this.onshow(),this.trigger("opened"),s.push(this),a.call(this),s[1]||(document.addEventListener(n,o,!0),window.addEventListener("resize",a,!0)),this},this.close=function(t){var e=s.indexOf(this);if(e<0||!1===this.onclosing(t||(t="OK")))return!1;s.splice(e,1);var i=this.$dom;i&&i.parentNode&&i.parentNode.removeChild(i),(i=r.parentNode)&&(s[0]?(i=s[status.length-1].$dom).parentNode.insertBefore(r,i):i.removeChild(r)),s[0]?a():(document.removeEventListener(n,o,!0),window.removeEventListener("resize",a,!0)),this.onhide(),this.onclosed(t),this.trigger("closed",{closeType:t}),this.autoDestroy&&this.destroy()}}).register("Dialog"),yaxi.FloatLayer=yaxi.Panel.extend(function(t,e){var n=yaxi.__layer_stack;yaxi.template(this,'<div class="yx-control yx-floatlayer"></div>'),this.show=function(){if(n.indexOf(this)<0){var t=this.$dom||(this.$dom=this.render());yaxi.__dom_host.appendChild(t),n.push(this)}return this},this.showAt=function(t,e){if(n.indexOf(this)<0){var i=this.$dom||(this.$dom=this.render());style=i.style,style.left=0<t?t+"px":t,style.top=0<e?e+"px":e,yaxi.__dom_host.appendChild(i),n.push(this)}return this},this.close=function(){var t,e;n[n.length-1]===this&&(n.pop(),(e=this.$dom)&&(t=e.parentNode)&&t.removeChild(e),this.trigger("closed"),!1!==this.autoDestroy&&this.destroy())}}).register("FloatLayer"),yaxi.Footer=yaxi.Panel.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-panel yx-footer"></div>'),this.$defaults.key="page-footer"}).register("Footer"),yaxi.Header=yaxi.Panel.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-panel yx-header"></div>'),this.$defaults.key="page-header"}).register("Header"),yaxi.showMessage=function(t){var e,n,i=yaxi.Button,s=i[yaxi.language]||i["en-US"];if(t&&"object"==typeof t){if(t.header||(t.header=yaxi.showMessage.header||""),"string"==typeof t.content&&(t.content={layout:"row",style:{alignItems:"center",wordBreak:"break-word"},children:[{Class:yaxi.Multiline,text:t.content}]}),e=t.buttons)for(var r=e.length;r--;){var o=e[r];o&&"object"==typeof o?o.text||(o.text=s[o.key]||o.key):e[r]={key:o,text:s[o]||o}}n=t.callback}else t={header:yaxi.showMessage.header||"",content:{layout:"row",style:{alignItems:"center",wordBreak:"break-word"},children:[{Class:yaxi.Text,text:t}]}};return t.className="yx-messagebox",t.footer={subtype:i,children:t.buttons||[{key:"OK",text:s.OK}],events:{tap:function(t){var e=this.parent,i=t.target;i===this||!i.key||n&&!1===n.call(e,i)||e.close()}}},(new yaxi.Dialog).assign(t).open()},yaxi.prompt=function(t){var e=t&&t.callback;return t=t||{},e&&(t.callback=function(t){return e.call(this,this.content.find(">>@input").text,t)}),t.content={layout:"row",style:{alignItems:"center",wordBreak:"break-word"},children:[{Class:t.control||(t.password?yaxi.Password:yaxi.TextBox),key:"input",value:t.value||"",placeholder:t.placeholder||"",style:{width:"100%",margin:".3rem 0.1rem .2rem",borderStyle:"none none solid none"}}]},t.buttons||(t.buttons=[{theme:"primary",key:"OK"},"Cancel"]),yaxi.showMessage(t)},yaxi.Title=yaxi.Control.extend(function(t){yaxi.template(this,'<div class="yx-control yx-title"></div>'),this.$property("text",""),this.renderer.text=function(t,e){t.textContent=e}}).register("Title"),function(){var n,s=document.createElement("div"),r=document.createElement("div");function e(t){var e=yaxi.__dom_host,i=s.style;switch(o(),s.innerHTML=(t.loading?'<span class="yx-toast-loading"></span>':"")+"<span>"+t.text+"</span>",(t.mask||t.loading&&!1!==t.mask)&&(r.style.backgroundColor="",e.appendChild(r)),e.appendChild(s),i.cssText=t.style||"",i.left=(e.clientWidth-s.offsetWidth>>1)+"px",t.position){case"top":i.top=null==t.offset?".8rem":t.offset;break;case"bottom":i.bottom=null==t.offset?".8rem":t.offset;break;default:i.top=(e.clientHeight-s.offsetHeight>>1)+"px"}0<=t.time&&(n=setTimeout(o,t.time||2500))}function o(){var t;n&&(clearTimeout(n),n=0),(t=s.parentNode)&&t.removeChild(s),(t=r.parentNode)&&t.removeChild(r)}s.className="yx-toast",r.className="yx-mask",this.toast=function(t){n&&(clearTimeout(n),n=0),t&&("string"==typeof t?t={text:t,time:2500}:t.time||(t.time=2500),0<t.delay?(r.parentNode||(r.style.backgroundColor="rgba(255,255,255,0)",yaxi.__dom_host.appendChild(r)),n=setTimeout(function(){e(t)},t.delay)):e(t))},this.toast.hide=function(){o()}}.call(yaxi),yaxi.Control.extend(function(e,i){var n=yaxi.__layer_stack;function s(t){for(var e,i=t.target;i&&(e=i.parent);){if(e===this)return void this.parent.close(i);i=e}}function r(){this.parent.close()}e["en-US"]="Cancel",e["zh-CN"]="",e["zh-TW"]="",yaxi.template(this,'<div class="yx-control yx-actionsheet"></div>'),this.header=null,this.content=null,this.cancel=!0,this.$converter.header={fn:function(t){var e;!1!==t&&(t&&"object"==typeof t||(t={Class:yaxi.Text,text:t}),t.className="yx-actionsheet-header "+(t.className||""),(e=this.header=new(t.Class||yaxi.Text)).parent=this,e.assign(t))}},this.$converter.content={fn:function(t){var e;t&&(t instanceof Array&&(t={Class:yaxi.Panel,children:t}),t.className="yx-actionsheet-content "+(t.className||""),(e=this.content=new(t.Class||yaxi.Panel)).parent=this,e.assign(t),e.on("tap",s))}},this.$converter.cancel={fn:function(t){var e;!1!==t&&(t&&"object"==typeof t||(t={Class:yaxi.Text,text:t}),t.className="yx-actionsheet-cancel "+(t.className||""),(e=this.cancel=new(t.Class||yaxi.Text)).parent=this,e.assign(t),e.on("tap",r))}},this.show=function(){if(n.indexOf(this)<0){var t,e=this.$dom;e||(e=this.render(),(t=this.header)&&e.appendChild(t.$dom||t.render()),(t=this.content)&&e.appendChild(t.$dom||t.render()),(t=this.cancel)&&e.appendChild(t.$dom||t.render())),yaxi.__dom_host.appendChild(e),n.push(this)}return this},this.close=function(t){var e,i;n[n.length-1]===this&&(n.pop(),(i=this.$dom)&&(e=i.parentNode)&&e.removeChild(i),this.trigger("closed",{selected:t||this.cancel}),!1!==this.autoDestroy&&this.destroy())},this.destroy=function(){var t;(t=this.header)&&(this.header=null,t.destroy()),(t=this.content)&&(this.content=null,t.destroy()),(t=this.cancel)&&(this.cancel=null,t.destroy()),i.destroy.call(this)},yaxi.actionsheet=function(t){if(!t||!t.content)throw"actionsheet must input a object and content not allow empty!";return void 0===t.cancel&&(t.cancel={Class:yaxi.Text,text:e[yaxi.language]}),(new e).assign(t).show()}}),yaxi.Carousel=yaxi.Control.extend(function(t,r){var e=Object.create;yaxi.template(this,'<div class="yx-control yx-carousel"><div class="yx-carousel-host"></div><div class="yx-carousel-pagination"></div></div>'),t.ctor=function(){var t;this.$storage=e(this.$defaults),this.__children=new yaxi.ControlCollection(this),(t=this.init)&&t.apply(this,arguments),this.on("touchstart",n),this.on("touchmove",s),this.on("touchend",a),this.on("touchcancel",a),this.__auto=function(){var t=this.children,e=this.index+1;e>=t.length&&(e=0);this.index=e,this.__delay=setTimeout(this.__auto,this.time)}.bind(this)},this.$property("index",{defaultValue:0,converter:function(t){return(t|=0)<0?0:t>=this.children.length?this.children.length-1:t}}),this.$property("time",{defaultValue:0,converter:function(t){return(t|=0)<0?0:t}}),this.$property("pagination","dot"),Object.defineProperty(this,"children",{get:function(){return this.__children},set:function(t){var e=this.__children;0<e.length&&e.clear(),t&&0<t.length&&e.push.apply(e,t)}}),this.$converter.children={fn:function(t){t&&0<t.length&&this.__children.assign(t)}},this.__child_class=yaxi.Control,yaxi.container.call(this,r),this.render=function(){var t,e=r.render.call(this),i=e.firstChild,n=this.__children,s=0;for(n.__patch=1;t=n[s++];)i.appendChild(t.render());return(t=this.pagination)&&0<n.length&&(e.lastChild.innerHTML=c(n,t,this.index)),(t=this.time)&&this.renderer.time(e,t),n.onchange=l,e};var i=0,o=0;function n(){var t=this.$dom,e=t.clientWidth;this.__delay&&(clearTimeout(this.__delay),this.__delay=0),i=-(this.__children.length-1)*e,o=-this.index*e,t.firstChild.style.transition=""}function s(t){var e=o+t.distanceX;return 0<e?e=0:e<i&&(e=i),this.$dom.firstChild.style.transform="translateX("+e+"px)",t.stop(),!1}function a(t){var e=this.index,i=t.distanceX,n=yaxi.rem;i<-n&&e<this.__children.length-1?this.index++:n<i&&0<e?this.index--:this.renderer.index(this.$dom,0|e),(n=this.time)&&this.renderer.time(this.$dom,n+1e3)}var h=this.renderer;function l(t){var e;(e=t.$dom)&&(e.lastChild.innerHTML=c(this,t.pagination,t.index))}function c(t,e,i){return e&&0<t.length?function(t,e){for(var i=[],n=0,s=t.length;n<s;n++)i.push('<div class="yx-carousel-dot',e===n?" yx-carousel-selected":"",'"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100"><circle cx="50" cy="50" r="50" /></svg></div>');return i.join("")}(t,i):""}h.index=function(t,e){var i,n,s="yx-carousel-selected",r=t.firstChild.style;0<e||o?r.transform="translateX(-"+e+"00%)":((n=0|+r.transform.match(/\d+/))&&(n+=100),(i=t.firstChild.firstChild.style).transform="translateX("+n+"%)",r.transform="translateX(-"+n+"%)",setTimeout(function(){r.transform=r.transition=i.transform=""},600)),r.transition="transform 600ms ease",(n=t.lastChild.querySelector("."+s))&&n.classList.remove(s),(n=t.lastChild.children[e])&&n.classList.add(s)},h.time=function(t,e){this.__delay&&clearTimeout(this.__delay),0<e&&(this.__delay=setTimeout(this.__auto,e))},h.pagination=function(t,e){t.lastChild.innerHTML=c(this.__children,e,this.index)}}).register("Carousel"),yaxi.GestureInput=yaxi.Control.extend(function(t,e){var s=[null,{3:2,7:4,9:5},{8:5},{1:2,7:5,9:6},{6:5},{},{4:5},{1:4,3:5,9:8},{2:5},{1:5,3:6,7:8}];yaxi.template(this,'<div class="yx-control yx-gestureinput"><div><canvas></canvas><div></div></div></div>'),this.$property("border","1px solid silver"),this.$property("color","silver"),this.$property("size",.2),this.$property("lineColor","silver"),this.$property("lineWidth",5),this.$property("value",""),this.render=function(){var t=this.$dom;return t||((t=this.$dom=this.$template.cloneNode(!0)).$control=this,t.firstChild.lastChild.innerHTML=function(t){for(var e,i,n=[""],s=t.size,r=Decimal.singleton(s).div(2).value+"rem;",o=' style="width:'+(s+="rem;")+"height:"+s+"margin-top:-"+r+"margin-left:-"+r+"background-color:"+t.color+";border:"+t.border+";border-radius:"+r,a=0;a<3;a++){e=0<a?1===a?"top:50%;":"bottom:"+r:"top:"+s;for(var h=1;h<4;h++)i=1<h?2===h?"left:50%;":"right:"+r:"left:"+s,n.push('<div class="yx-gestureinput-point"',o,e,i,'"></div>')}return n.join("")}(this)),e.render.call(this),this.on("touchstart",i),this.on("touchmove",n),this.on("touchend",r),t};var h={};function i(t){var e,i=this.$dom.firstChild,n=i.getBoundingClientRect();return h.x=n.left<<1,h.y=n.top<<1,h.width=i.offsetWidth,h.height=i.offsetHeight,h.size=h.width/6|0,this.value="",(e=a(t.clientX-h.x,t.clientY-h.y))&&o.call(this,e,!1),t.stop(),!1}function n(t){var e=a(t.clientX-h.x,t.clientY-h.y);return e&&o.call(this,e)||l.call(this,{x:t.clientX-h.x,y:t.clientY-h.y}),t.stop(),!1}function r(){l.call(this),this.trigger("change",{value:this.value})}function o(t,e){var i=this.$dom.firstChild.lastChild.children,n=this.value;return!1!==e&&((e=s[t][n[n.length-1]])&&n.indexOf(e)<0?(n+=e,i[e-1].setAttribute("choose",1)):e=""),n.indexOf(t)<0?(i[t-1].setAttribute("choose",1),this.value=n+t,!0):!!e&&(this.value=n,!0)}function a(t,e){var i,n,s=h.width,r=h.height,o=h.size,a=o/2|0;if(t<0||s<t||e<0||r<e)return 0;if(e<=o)n=0;else if(r-o<=e)n=2;else{if((e-=r/2|0)<-a||a<e)return 0;n=1}if(t<=o)i=1;else if(s-o<=t)i=3;else{if((t-=s/2|0)<-a||a<t)return 0;i=2}return 3*n+i}function l(t){var e=this.$dom,i=this.value,n=e.firstChild.firstChild,s=n.getContext("2d");if(s.clearRect(0,0,n.width=n.offsetWidth,n.height=n.offsetHeight),i){var r=e.firstChild.lastChild.children,o=1;for(e=r[i[0]-1],s.moveTo(e.offsetLeft+e.offsetWidth/2,e.offsetTop+e.offsetHeight/2);e=r[i[o++]-1];)s.lineTo(e.offsetLeft+e.offsetWidth/2,e.offsetTop+e.offsetHeight/2);t&&s.lineTo(t.x,t.y),s.strokeStyle=this.lineColor,s.lineWidth=this.lineWidth,s.lineJoin="bevel",s.stroke()}}this.renderer.value=function(t,e){if(e)0<t.offsetWidth?l.call(this):this.parent&&this.root.once("opened",l.bind(this));else for(l.call(this),t=t.firstChild.lastChild.firstChild;t;)t.removeAttribute("choose"),t=t.nextSibling}}).register("GestureInput"),yaxi.GroupView=yaxi.Control.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-groupview"><div class="yx-groupview-body"></div><div class="yx-groupview-nav"></div><div class="yx-groupview-show"></div></div>'),this.$property("template",{defaultValue:null,set:function(t){var e=this.$storage;t&&"object"!=typeof t&&(t=null),e.template!==t&&(e.template=t,update.call(this))}},!1),this.$property("store",{defaultValue:null,converter:function(t){return t?"string"==typeof t&&(t=this.__find_store(t)):t=null,t},set:function(t){var e=this.$storage;t=this.$converter.store.fn.call(this,t),e.store!==t&&(e.store=t,this.update())}},!1),this.$property("groups","ABCDEFGHIJKLMNOPQRSTUVWXYZ"),this.assign=function(t){e.assign.call(this,t),t.template&&(t=this.store)&&update.call(this)},this.update=function(){var t,e=this.__children;0<e.length&&e.clear(),this.template&&(t=this.store)&&t.length},this.group=function(t){},this.__update_patch=function(){var t;(t=this.__changes)&&(e.__update_patch.call(this),(t.template||t.store)&&update.call(this))},this.$converter.groups=function(t,e){}},function(){var t;this.$storage=Object.create(this.$defaults),this.__children=new yaxi.ControlCollection(this),(t=this.init)&&t.apply(this,arguments)}).register("GroupView"),yaxi.PaggingPanel=yaxi.Panel.extend(function(t,e){function i(e){var i=this.pageSize;this.load(e.index,i).then(function(t){t&&t.length<i&&e.complete(!t.length)}).catch(function(){e.fail()})}function n(e){var i=this.loading,n=this.pageSize;this.load(i.index=this.startIndex||0,n).then(function(t){t&&i&&t.length<n&&i.complete(!t.length,!1),e.hide(!1,i)}).catch(function(){e.hide(!0,i)})}t.ctor=function(t){e.constructor.ctor.call(this,t),this.loading=i,this.pulldown=n,this.style.overflowY="scroll"},Object.defineProperty(this,"pageIndex",{get:function(){return this.loading.index||this.startIndex||0}}),this.startIndex=1,this.pageSize=50,this.autoLoading=!0,this.refresh=function(){var e=this.loading;if(e){var i=this.pageSize;e.load(200),this.load(e.index=this.startIndex||0,i).then(function(t){t&&t.length<i&&e.complete(!t.length)}).catch(function(){e.fail()})}else this.load(0)},this.setData=function(t,e){e>this.startIndex?this.children.push.apply(this.children,t):this.children=t},this.render=function(){var t=e.render.call(this);return this.autoLoading&&this.refresh(),t}}).register("PaggingPanel"),yaxi.Segment=yaxi.Control.extend(function(t,e){var i=Object.create,n='<svg class="yx-segment-thumb" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100"><circle cx="50" cy="50" r="50" /></svg>';yaxi.template(this,'<div class="yx-control yx-segment"><div class="yx-segment-line"></div><div class="yx-segment-body">'+n+"</div>"),t.ctor=function(){var t;this.$storage=i(this.$defaults),(t=this.init)&&t.apply(this,arguments),this.on("touchstart",o),this.on("touchmove",a),this.on("touchend",h),this.on("touchcancel",l)},this.$property("value",0),this.$property("step",0,!1),this.$property("segments",{defaultValue:null,converter:function(t){if(t)if(0<t){var e=[0],i=Decimal.singleton,n=i(100).div(t).value;e[t]=100;for(var s=t;s--;)e[s]=i(n).mul(s).value;t=e}else t instanceof Array&&t.length||(t=null);return this.__segments=t}}),this.$property("space",""),Object.defineProperty(this,"index",{get:function(){var t=this.__segments;if(t)for(var e=this.value,i=t.length;i--;)if(0===i||e>=t[i]-(t[i]-t[i-1]>>1))return i;return-1}});var s=this.renderer;s.value=function(t,e){t.lastChild.lastChild.style.left=e+"%"},s.segments=function(t,e){e=e?function(t){var e=[];this.__segments=t;for(var i=0,n=t.length;i<n;i++)e.push('<svg class="yx-segment-node" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" style="left:',t[i],'%;"><circle cx="50" cy="50" r="50" /><circle cx="50" cy="50" r="40" /></svg>');return e.join("")}.call(this,e):"",t.lastChild.innerHTML=e+n,t.lastChild.lastChild.style.left=this.value+"%"},s.space=function(t,e){for(t=t.firstChild;t;)t.style.left=t.style.right=e,t=t.nextSibling};var r={};function o(t){var e=t.dom,i=this.$dom.lastChild;for(r.left=i.getBoundingClientRect().left<<1,r.width=i.offsetWidth;e&&e!==i;){if(e.classList&&e.classList.contains("yx-segment-thumb"))return r.thumb=e,t.stop(),!1;e=e.parentNode}}function a(t){var e=r.thumb;if(e)return e.style.left=100*(t.clientX-r.left)/r.width+"%",t.stop(),!1}function h(t){var e,i=Decimal.singleton(t.clientX).plus(-r.left).pow10(2).div(r.width);if(r.thumb=null,i<=0)i=0;else if(100<=i)i=100;else if(e=this.step)i=Decimal(e).mul(Math.round(i/e));else if(e=this.__segments)for(var n=e.length;n--;)if(0===n||i>=e[n]-(e[n]-e[n-1]>>1)){i=e[n];break}return this.$storage.value!==i?(this.value=i,this.trigger("change",{index:this.index,value:i})):this.renderer.value(this.$dom,i),t.stop(),!1}function l(){this.renderer.value(this.$dom,this.value)}}).register("Segment");