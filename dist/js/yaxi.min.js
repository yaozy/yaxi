!function(a){var t,o='<svg><symbol id="icon-pulldown" viewBox="0 0 1024 1024"><path d="M512 960C264.96 960 64 759.04 64 512S264.96 64 512 64s448 200.96 448 448S759.04 960 512 960zM512 128C300.256 128 128 300.256 128 512c0 211.744 172.256 384 384 384 211.744 0 384-172.256 384-384C896 300.256 723.744 128 512 128z"  ></path><path d="M694.56 522.144c-12.544-12.608-33.376-12.64-45.952-0.064L544 625.984 544 319.328c0-17.76-14.208-32.16-32-32.16-17.76 0-32 14.4-32 32.16l0 308.32-105.216-106.688c-12.48-12.608-32.704-12.736-45.312-0.256C316.832 533.216 316.8 553.6 329.28 566.208l159.36 161.056c6.272 6.336 14.592 9.568 22.88 9.568 8.16 0 16.384-3.168 22.624-9.312 0.032-0.064 0.032-0.064 0.064-0.128 0.032 0 0.064 0 0.096-0.064l160.192-159.68C707.072 555.104 707.104 534.72 694.56 522.144z"  ></path></symbol><symbol id="icon-back" viewBox="0 0 1024 1024"><path d="M395.21518 513.604544l323.135538-312.373427c19.052938-18.416442 19.052938-48.273447 0-66.660212-19.053961-18.416442-49.910737-18.416442-68.964698 0L291.75176 480.290811c-19.052938 18.416442-19.052938 48.273447 0 66.660212l357.633237 345.688183c9.525957 9.207709 22.01234 13.796214 34.497699 13.796214 12.485359 0 24.971741-4.588505 34.466999-13.82896 19.052938-18.416442 19.052938-48.242747 0-66.660212L395.21518 513.604544z"  ></path></symbol><symbol id="icon-radio-checked" viewBox="0 0 1024 1024"><path d="M512 259.56503703c-138.83922963 0-252.43496297 113.59573333-252.43496297 252.43496297s113.59573333 252.43496297 252.43496297 252.43496297 252.43496297-113.59573333 252.43496297-252.43496297S650.83922963 259.56503703 512 259.56503703zM512 7.13007408C234.323968 7.13007408 7.13007408 234.323968 7.13007408 512s227.19389392 504.86992592 504.86992592 504.86992592 504.86992592-227.19389392 504.86992592-504.86992592S789.676032 7.13007408 512 7.13007408zM512 915.89594075c-222.13791289 0-403.89594075-181.76045511-403.89594075-403.89594075S289.86208711 108.10405925 512 108.10405925 915.89594075 289.86208711 915.89594075 512 734.13791289 915.89594075 512 915.89594075z"  ></path></symbol><symbol id="icon-checkbox-uncheck" viewBox="0 0 1024 1024"><path d="M892.24735231 1012.51492048l-760.49638045 0c-66.35446257 0-120.26589234-53.91310559-120.26589234-120.26589234l0-760.56676528c0-66.35446257 53.91310559-120.26589234 120.26589234-120.26589236l760.49638045 0c66.35446257 0 120.26589234 53.91310559 120.26589235 120.26589236l0 760.56676528c0 66.35446257-53.91310559 120.26589234-120.26589235 120.26589234zM131.75264769 82.98768981c-26.88533005 0-48.76495786 21.95168848-48.76495788 48.76495788l0 760.56676528c0 26.81326939 21.87962782 48.76495786 48.76495788 48.76495787l760.49638045 0c26.81326939 0 48.76495786-21.95168848 48.76495787-48.76495787l0-760.56676528c0-26.81326939-21.95168848-48.76495786-48.76495787-48.76495788l-760.49638045 0z"  ></path></symbol><symbol id="icon-checkbox-checked" viewBox="0 0 1024 1024"><path d="M892.24735231 1012.51492048l-760.49638045 0c-66.35446257 0-120.26589234-53.91310559-120.26589234-120.26589234l0-760.56676528c0-66.35446257 53.91310559-120.26589234 120.26589234-120.26589236l760.49638045 0c66.35446257 0 120.26589234 53.91310559 120.26589235 120.26589236l0 760.56676528c0 66.35446257-53.91310559 120.26589234-120.26589235 120.26589234zM131.75264769 82.98768981c-26.88533005 0-48.76495786 21.95168848-48.76495788 48.76495788l0 760.56676528c0 26.81326939 21.87962782 48.76495786 48.76495788 48.76495787l760.49638045 0c26.81326939 0 48.76495786-21.95168848 48.76495787-48.76495787l0-760.56676528c0-26.81326939-21.95168848-48.76495786-48.76495787-48.76495788l-760.49638045 0z"  ></path><path d="M449.57870885 836.76231882l-274.13886619-274.21092687 101.10445971-101.10445972 154.87344396 154.80138332 308.38779037-431.80089021 116.40478156 83.08594269z"  ></path></symbol><symbol id="icon-circle" viewBox="0 0 1024 1024"><path d="M32 512c0 265.09653333 214.90346667 480 480 480s480-214.90346667 480-480c0-265.09653333-214.90346667-480-480-480-265.09653333 0-480 214.90346667-480 480z"  ></path></symbol><symbol id="icon-hollow-circle" viewBox="0 0 1024 1024"><path d="M512.00545813 988.48956907C249.261904 988.48956907 35.50933867 774.738096 35.50933867 511.99345067c0-262.73154667 213.75256533-476.484112 476.4961184-476.484112 262.73154667 0 476.484112 213.75256533 476.484112 476.484112C988.48956907 774.738096 774.738096 988.48956907 512.00545813 988.48956907zM512.00545813 146.8974464c-201.321168 0-365.10910293 163.78138453-365.10910293 365.09600427 0 201.321168 163.78793387 365.10910293 365.10910293 365.10910293 201.31571093 0 365.09709547-163.78793387 365.09709547-365.10910293C877.1025536 310.678832 713.321168 146.8974464 512.00545813 146.8974464z"  ></path></symbol><symbol id="icon-radio-uncheck" viewBox="0 0 1024 1024"><path d="M512 7.13007408C234.323968 7.13007408 7.13007408 234.323968 7.13007408 512s227.19389392 504.86992592 504.86992592 504.86992592 504.86992592-227.19389392 504.86992592-504.86992592S789.676032 7.13007408 512 7.13007408zM512 915.89351348c-222.13791287 0-403.89351348-181.75802787-403.89351348-403.89351348S289.86208713 108.10405925 512 108.10405925 915.89594075 289.86208713 915.89594075 512 734.13791287 915.89351348 512 915.89351348z"  ></path></symbol><symbol id="icon-eye-open" viewBox="0 0 1024 1024"><path d="M515.2 224C208 224 22.4 537.6 22.4 537.6s214.4 304 492.8 304 492.8-304 492.8-304S822.4 224 515.2 224zM832 652.8c-102.4 86.4-211.2 140.8-320 140.8s-217.6-51.2-320-140.8c-35.2-32-70.4-64-99.2-99.2-6.4-6.4-9.6-12.8-16-19.2 3.2-6.4 9.6-12.8 12.8-19.2 25.6-35.2 57.6-70.4 92.8-102.4 99.2-89.6 208-144 329.6-144s230.4 54.4 329.6 144c35.2 32 64 67.2 92.8 102.4 3.2 6.4 9.6 12.8 12.8 19.2-3.2 6.4-9.6 12.8-16 19.2-28.8 32-60.8 67.2-99.2 99.2z" fill="" ></path><path d="M512 345.6c-96 0-169.6 76.8-169.6 169.6 0 96 76.8 169.6 169.6 169.6 96 0 169.6-76.8 169.6-169.6S604.8 345.6 512 345.6z m0 294.4c-67.2 0-121.6-54.4-121.6-121.6 0-67.2 54.4-121.6 121.6-121.6 67.2 0 121.6 54.4 121.6 121.6 0 64-54.4 121.6-121.6 121.6z" fill="" ></path></symbol><symbol id="icon-eye-close" viewBox="0 0 1024 1024"><path d="M515.49297778 629.18428445c-203.28106667 0-392.82460445-109.44284445-494.81500445-285.59587556-14.90261333-25.73084445-6.05297778-58.56256 19.55953778-73.46631111 25.73084445-14.90147555 58.67975111-6.05297778 73.46631111 19.56067555C196.48284445 432.65592889 350.39914667 521.48906667 515.37692445 521.48906667S834.26986667 432.65479111 917.04888889 289.56672c14.90261333-25.73084445 47.73546667-34.57934222 73.46631111-19.67672889s34.46215111 47.73546667 19.67559111 73.46631111C908.31758222 519.74144 718.77404445 629.18314667 515.49297778 629.18314667z m-278.72597333 53.5552c-9.43104 0-19.09418667-2.44394667-27.70944-7.68341334-25.4976-15.36796445-33.64750222-48.43406222-18.27953778-73.81447111l59.37720888-98.26417778c15.36910222-25.4976 48.4352-33.53144889 73.8156089-18.27953777 25.4976 15.36796445 33.64750222 48.43406222 18.2784 73.8144711l-59.3772089 98.26417778c-10.12963555 16.64910222-27.82663111 25.96408889-46.1050311 25.96408889z m554.5415111 0c-18.16234667 0-35.97653333-9.19665778-46.1050311-25.96295112l-59.37834667-98.26417778c-15.36796445-25.4976-7.21806222-58.44650667 18.16234667-73.8144711 25.4976-15.36796445 58.44764445-7.21806222 73.81560888 18.16234666l59.37720889 98.26417778c15.36796445 25.4976 7.21806222 58.44764445-18.16234667 73.81560889-8.61525333 5.23832889-18.27953778 7.80060445-27.70944 7.80060444z m-275.81553777 69.97333333c-29.68917333 0-53.78958222-24.10040889-53.78958223-53.78958223v-123.52853333c0-29.68917333 24.10040889-53.78958222 53.78958223-53.78958222 29.68917333 0 53.78958222 24.10040889 53.78958222 53.78958222v123.52853333c0 29.68917333-24.10040889 53.78958222-53.78958222 53.78958223z" fill="#707070" ></path></symbol><symbol id="icon-checkbox-three" viewBox="0 0 1024 1024"><path d="M1012.51436242 941.01231019V82.98768981a71.50205225 71.50205225 0 0 0-71.50205223-71.50205223H82.98768981a71.50205225 71.50205225 0 0 0-71.50205223 71.50205223v858.02462038a71.50205225 71.50205225 0 0 0 71.50205223 71.50205223h858.02462038a71.50205225 71.50205225 0 0 0 71.50205223-71.50205223z m-143.00410448-71.50205225H154.48974206V154.48974206h715.02051588v715.02051588z"  ></path><path d="M297.49384493 297.49384493h429.01231014v429.01231014H297.49384493z"  ></path></symbol></svg>',e=(t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss");if(e&&!a.__iconfont__svg__cssinject__){a.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var e=function(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",e,!1)}else document.attachEvent&&(i=t,n=a.document,s=!1,r=function(){s||(s=!0,i())},(o=function(){try{n.documentElement.doScroll("left")}catch(t){return void setTimeout(o,50)}r()})(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,r())});var i,n,s,r,o}(function(){var t,e,i,n,s,r;(t=document.createElement("div")).innerHTML=o,o=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",i=e,(n=document.body).firstChild?(s=i,(r=n.firstChild).parentNode.insertBefore(s,r)):n.appendChild(i))})}(window);var yaxi=Object.create(null);document.documentElement.style.fontSize=(yaxi.rem=100*window.innerWidth/375)+"px",yaxi.language=navigator.language||navigator.userLanguage||"en-US",Object.extend=function(t){var e,i=this.prototype||null,n=Object.create(i);function s(){e&&e.apply(this,arguments)}return(n.constructor=s).ctor=this.ctor,s.superclass=this,s.register=this.register,s.extend=this.extend||Object.extend,s.prototype=n,i&&i.__properties&&(n.__defaults=Object.create(i.__defaults),n.__properties=Object.create(i.__properties)),t&&(t.call(n,s,i),e=s.ctor),(t=n.__class_init)&&t.call(n,s,i),s},Function.prototype.bind||(Function.prototype.bind=function(e){var i=this;if(1<arguments.length){var n=[].slice.call(arguments,1),s=n.push;return function(){var t=n.slice(0);return 0<arguments.length&&s.apply(t,arguments),i.apply(e||this,t)}}return function(){return i.apply(e||this,arguments)}}),function(){var e=/([yMdhmsSq]+)/g,i={GMT:"toGMTString",ISO:"toISOString",UTC:"toUTCString",date:"toDateString",time:"toTimeString",locale:"toLocaleString","locale-date":"toLocaleDateString","locale-time":"toLocaleTimeString"},s={y:"getFullYear",d:"getDate",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"};this.format=function(t){var n;return t?(n=i[t])?this[n]():(n=this,t.replace(e,function(t,e){var i=e.length;switch(e=e.charAt(0)){case"M":e=n.getMonth()+1;break;case"q":e=(n.getMonth()+3)/3|0;break;default:e=n[s[e]]()}return e=""+e,1===i||(i-=e.length)<=0?e:"0000".substring(0,i)+e})):this.toString()},this.addYear=function(t){return this.setFullYear(this.getFullYear()+(0|t)),this},this.addMonth=function(t){return this.setMonth(this.getMonth()+(0|t)),this},this.addDate=function(t){return this.setDate(this.getDate()+(0|t)),this},Date.create=function(t){if(t){var e=new Date(t),i=e.valueOf();if(i==i)return e;if("string"==typeof t&&(t=t.match(/\d+/g)))return i=0|t[1],new Date(t[0],0<i?i-1:0,0|t[2],0|t[3],0|t[4],0|t[5])}return null}}.call(Date.prototype),function(t){var s=t.round,i=(0).toFixed,n=new r(0);function r(t){var e,i;return t&&(t instanceof r?(i=t.d,e=t.v):(t=+t)===t&&(e=t===(0|t)?t:(i=(e=(""+t).split("."))[1])?(i=i.length,+(e[0]+e[1])):(i=0,t))),this.v=e||0,this.d=i||0,this}r.singleton=r.bind(new r(0));var e=(window.Decimal=r).prototype;e.clone=function(){var t=Object.create(e);return t.v=this.v,t.d=this.d,t},e.plus=function(t){var e,i;if(!t)return this;if(t instanceof r)i=t.d,t=t.v;else{if((t=+t)!==t)return this;t===(0|t)?i=0:(i=(t=(""+t).split("."))[1])?(i=i.length,t=+(t[0]+t[1])):i=0}return(e=this.d)>i?this.v+=t*("1e"+e)/("1e"+i):e<i?(this.d=i,this.v=this.v*("1e"+i)/("1e"+e)+t):this.v+=t,this},e.minus=function(t){return this.plus(-t)},e.mul=function(t){var e;if(!t)return this.v=this.d=0,this;if(!this.v)return this;if(t instanceof r)e=t.d,t=t.v;else{if((t=+t)!==t)return this;t===(0|t)?e=0:(e=(t=(""+t).split("."))[1])?(e=e.length,t=+(t[0]+t[1])):e=0}return t?(this.v*=t,this.d+=e):this.v=this.d=0,this},e.div=function(t){var e,i;if(!t)return this.v=this.d=0,this;if(!this.v)return this;if(t instanceof r)i=t.d,t=this.v/t.v;else{if((t=+t)!==t)return this.v=this.d=0,this;t===(0|t)?i=0:(i=(t=(""+t).split("."))[1])?(i=i.length,t=+(t[0]+t[1])):i=0}return t?(t=(e=this.d)!==i?i<e?this.v/(t*("1e"+(e-i))):this.v*("1e"+(i-e))/t:this.v/t,t=r.call(n,t),this.v=t.v,this.d=t.d):this.v=this.d=0,this},e.pow=function(t){if(t|=0){if(!this.v)return this;if(0<t){var e=this.d;e<t?(this.d=0,this.v*="1e"+(t-e)):t===e?this.d=0:this.d-=t}else this.d-=t}return this},e.round=function(t){var e=this.d;return(t|=0)<e&&(this.v=s(this.v*("1e"+t)/("1e"+e)),this.d=t),this},e.toFixed=function(t){var e=this.d;return 0<(t|=0)?e?t<e?i.call(s(this.v*("1e"+t)/("1e"+e))/("1e"+t),t):i.call(this.v/("1e"+e),t):i.call(this.v,t):e?""+s(this.v/("1e"+e)):""+this.v},e.valueOf=function(){var t=this.d;return t?this.v/("1e"+t):this.v},e.toString=function(t){var e=this.d;return(e?this.v/("1e"+e):this.v).toString(t)},Object.defineProperty(e,"value",{get:function(){var t=this.d;return t?this.v/("1e"+t):this.v}});var o=Number.prototype;"1.11"===1.115.toFixed(2)&&(o.toFixed=function(t){return r.call(n,this).toFixed(t)}),o.round=function(t){var e=+this;if(e!=e)return 0;if(e===(0|e))return e;if(0<(t|=0)){var i=(""+e).split("."),n=i[1];return!n||n.length<=t?e:s(i[0]+n.slice(0,t)+"."+n[t])/("1e"+t)}return s(e)},t.round=function(t,e){return(+t).round(e)}}(Math),yaxi.__extend_properties=function(o,a){var h=Object.defineProperty;function l(t){return!!t}function c(t){return 0|t}function u(t){return+t||0}function d(t){return""+t}function f(t){return Date.create(t)}return function(t,e){if(/\W/.test(t))throw'"'+t+'" not a valid property name!';null==e?e={defaultValue:null}:"object"!=typeof e&&(e={defaultValue:e});var i=e.type,n=e.defaultValue,s=e.convertor||null,r=e.name||(e.name=t);switch(void 0===n&&(e.defaultValue=n=null),this.__defaults[t]=n,i||(e.type=i=typeof n),i){case"boolean":e.get=o(t,r),e.set=a(t,s||(s=l),r);break;case"int":case"integer":e.get=o(t,r),e.set=a(t,s||(s=c),r);break;case"number":e.get=o(t,r),e.set=a(t,s||(s=u),r);break;case"string":e.get=o(t,r),e.set=a(t,s||(s=d),r);break;case"date":e.get=o(t,r),e.set=a(t,s||(s=f),r);break;default:e.get=o(t,r),e.set=a(t,s,r)}this["__convert_"+t]=[r,e.convertor=s],h(this,t,this.__properties[t]=e)}},yaxi.Event=Object.extend(function(t){this.type="",this.target=null,this.cancelBubble=!1,this.defaultPrevented=!1,this.stop=function(){this.cancelBubble=!0},this.prevent=function(){this.defaultPrevented=!0}}),yaxi.EventTarget=Object.extend(function(t){var h=yaxi.Event,e=this;this.on=yaxi.on=function(t,e){if(t&&"function"==typeof e){var i,n=this.__event_keys;n?(i=n[t])?i.push(e):i=n[t]=[e]:i=(n=this.__event_keys={})[t]=[e],(e=this.__event_change)&&this.__event_change(t,i,!0)}},this.once=yaxi.once=function(i,n){if("function"==typeof n){this.on(i,function t(e){n.call(this,e),this.off(i,t)})}},this.off=yaxi.off=function(t,e){var i,n=this.__event_keys;if(n)if(t){if(i=n[t]){if(e){for(var s=i.length;s--;)i[s]===e&&i.splice(s,1);i[0]||(n[t]=null)}else i.length=0,n[t]=null;(e=this.__event_change)&&e.call(this,t,i,!1)}}else for(t in n)this.off(t)},this.trigger=yaxi.trigger=function(t,e){var i,n,s,r,o=this;t&&"string"!=typeof t&&((s=t).target=this,t=s.type);do{if((i=o.__event_keys)&&(i=i[t]))for(n=0;r=i[n++];){if(!s&&((s=new h).target=this,e))for(var a in e)s[a]=e[a];if(!1===r.call(o,s)&&(s.defaultPrevented=!0),s.cancelBubble)return!s.defaultPrevented}}while(o=o.parent);return!s||!s.defaultPrevented},t.mixin=function(t){t.on=e.on,t.once=e.once,t.off=e.off,t.trigger=e.trigger}}),function(){var n,s=yaxi.Event,r=Object.create(null),o=0,a=null,h=new Date;function l(t){for(var e;t;){if(e=t.$control){for(;e.disabled;)e=e.parent;return e}t=t.parentNode}}function c(){var t=r.control;if(o=0,r.control=null,r.tap=!1,t&&r.longTap){var e=new s;return e.type="longTap",e.dom=r.dom,t.trigger(e)}}function u(){o&&(clearTimeout(o),o=0),r.tap=r.longTap=!1}function d(t,e){var i=new s;return e=e||t.changedTouches[0],i.type=t.type,i.dom=t.target,i.start=r,i.original=t,i.touches=t.changedTouches,i.clientX=e.clientX,i.clientY=e.clientY,i.distanceX=(i.screenX=e.screenX)-r.screenX,i.distanceY=(i.screenY=e.screenY)-r.screenY,i}function t(t){var e=l(t.target);if(e){var i=new s;return i.type=t.type,i.dom=t.target,i.original=t,e.trigger(i)}}document.addEventListener("touchstart",function(t){var e=l(t.target);if(e){var i=t.changedTouches[0];if(r.swipe=0,r.tap=r.longTap=!0,r.dom=t.target,r.control=e,r.screenX=i.screenX,r.screenY=i.screenY,n&&n!==e&&(n.__on_change&&n.__on_change(),n=null),!1===e.trigger(d(t,i)))return u(),!1;o=setTimeout(c,600)}},!0),document.addEventListener("touchmove",function(t){var e=r.control;if(e){if(t=d(t),!1===e.trigger(t))return r.tap&&u(),!1;if(r.tap){var i=t.distanceX,n=t.distanceY;(i<-8||8<i||n<-8||8<n)&&u()}}},!0),document.addEventListener("touchend",function(t){var e,i=r.control;if(r.control=null,o&&(clearTimeout(o),o=0),i){if(t=d(t),!1===i.trigger(t))return!1;if(r.tap&&(500<(e=new Date)-h||a!==i)&&(h=e,(e=(a=i).__on_tap)&&e.call(i,t.dom),!(t.type="tap")===i.trigger(t)))return!1}},!0),document.addEventListener("touchcancel",function(t){var e=r.control;if(o&&(clearTimeout(o),o=0),e)return r.control=null,e.trigger(d(t))},!0),document.addEventListener("input",function(t){var e=l(t.target);if(e){var i=new s;return n=e,i.type="input",i.dom=t.dom,i.text=t.target.value,e.trigger(i)}},!0),document.addEventListener("change",function(){var t=l(event.target);if(t){var e=t.__on_change;n=null,e&&e.call(t);var i=new s;return i.type="change",i.dom=event.target,t.trigger("change")}},!0),document.addEventListener("keydown",t,!0),document.addEventListener("keypress",t,!0),document.addEventListener("keyup",t,!0),document.addEventListener("focus",t,!0),document.addEventListener("blur",t,!0),document.addEventListener("scroll",t,!0)}(),yaxi.Observe=Object.extend.call({},function(t){var e=Object.create;t.ctor=function(t){this.$storage=e(this.__defaults),t&&this.__init(t)},this.__init=function(t){var e,i,n=this.__changes={};for(var s in t)(e=this["__convert_"+s])?(i=e[0])?n[i]=(i=e[1])?i(t[s]):t[s]:e[1].call(this,t[s]):!1!==e&&(this[s]=t[s])},this.__defaults=Object.create(null),this.__properties=Object.create(null),this.$properties=function(t){for(var e in t)this.$property(e,t[e])},this.$property=yaxi.__extend_properties(function(t,e){return function(){var t=this.__changes;return t&&void 0!==(t=t[e])?t:this.$storage[e]}},function(t,i,n){return function(t){var e=this.__changes;if(i&&(t=i(t)),e){if(t===e[n])return;t!==this.$storage[n]?e[n]=t:delete e[n]}else t!==this.$storage[n]&&(function(t){r||(r=setTimeout(o));return s.push(t),t.__changes={}}(this)[n]=t)}}),this.__convert_Class=!1,this.model=null,this.__find_model=function(){for(var t=this;t;){if(t.model)return t.model;t=t.parent}},this.__find_store=function(t){var e;if(e=this.__find_model()){for(var i,n=t.split("."),s=0;e&&(i=n[s++]);)e=e[i];if(e&&2===e.__model_type)return e;throw'"'+t+'" is not a store!'}throw"can not find any model!"},this.__convert_bindings=[0,function(t){var e;t&&(e=this.model=this.__find_model())&&(this.__bindings=e.$bind(this,t))}];var s=yaxi.__patches=[],r=0;function o(){for(var t,e=s,i=0,n=e.length;i<n;i++)(t=e[i])&&t.__update_patch();e.length=r=0}yaxi.__add_patch=function(t){r||(r=setTimeout(o)),s.push(t)},this.__update_patch=function(){var t;if(t=this.__changes){var e=this.$storage;for(var i in this.__changes=null,t)e[i]=t[i]}},yaxi.__patch_update=o}),yaxi.Style=yaxi.Observe.extend(function(t,e){var i=Object.create;t.ctor=function(t){this.$storage=i(this.__defaults),t&&this.__init(t)},this.$properties(function(){var t={},e=document.createElement("div").style,i=/^(?:webkit|ms|moz|o)([A-Z])/;function n(t,e){return e.toLowerCase()}for(var s in e)switch(s){case"cssFloat":case"styleFloat":t.float={name:s,defaultValue:""};break;case"cssText":break;default:t[s.replace(i,n)]={name:s,defaultValue:""}}return t}()),this.__update_patch=function(){var t,e=this.parent.$dom;if(e&&(t=this.__changes)){var i=this.$storage,n=e.style;for(var s in t)i[s]=n[s]=t[s];this.__changes=null}}}),function(){var l,c=Object.create,u=Object.defineProperty,d=[],r=c(null),f=this;function p(n,s){return n="__sub_"+n,{get:function(){return this[n]||(this[n]=new s(null,this))},set:function(t){var e=this[n];if(t&&"object"==typeof t)if(e)for(var i in t)e[i]=t[i];else this[n]=new s(t,this);else e&&e.$clear()}}}function _(i,n){return i="__sub_"+i,{get:function(){return this[i]||(this[i]=new n(null,this))},set:function(t){var e=this[i];t&&0<t.length?e?(e&&0<e.length&&e.clear(),e.push.apply(e,t)):this[i]=new n(t,this):e&&0<e.length&&e.clear()}}}function o(t,e,i,n){var s,r;if(0<(h=n.indexOf("|"))&&(r=n.substring(h),n=n.substring(0,h)),s=n.match(/\w+/g)){var o,a=d={observe:e},h=0;for(a.name=s.pop();o=s[h++];)if(!(t=t[o])||1!==t.__model_type)throw'binding expression is invalid! "'+o+'" is not a model!';return a.model=t,r&&(a.pipe=r=yaxi.pipe(r)),o=t[a.name],e[a.property=i]=r?r(o):o,a}throw"binding expression is invalid! no binding name!"}yaxi.model=function(t){var e,i,n=c,s=n(f),r=s.$subkeys=n(null),o=s.__defaults=n(null);function a(t,e){this.$parent=e||null,this.$storage=n(o),t&&this.$load(t)}for(var h in s.__properties=n(null),a.model=s.__model_type=1,a.prototype=s,t)(e=t[h])&&"function"==typeof e?(i=e.model)?(r[h]=i,u(s,h,(1===i?p:_)(h,e))):u(s,h,{get:e}):l.call(s,h,e);return a},l=yaxi.__extend_properties(function(i){return function(){var t,e;return d&&((t=this.__bindings)?(e=t[i])?e.push(d):t[i]=[d]:(this.__bindings={})[i]=[d]),this.$storage[i]}},function(i,n){var s=r;return function(t){var e=this.$storage;return n&&(t=n(t)),t===e[i]||s[i]&&!1===this.$notify(i,t)||(e[i]=t,(e=this.__bindings)&&(e=e[i])&&function(t,e){for(var i in e){var n=e[i],s=t[n.name],r=n.pipe;r&&(s=r(s)),n.observe[n.property]=s}}(this,e)),this}}),this.$bind=function(t,e){try{var i,n=t.__bindings={};for(var s in e)(i=e[s])&&(n[s]=o(this,t,s,i))}finally{d=null}},this.$unbind=function(t){var e,i,n;if(e=t.__bindings)for(var s in e)if((i=e[s])&&(n=i.model.__bindings))for(var r=n.length;r--;)if(n[r]===i){n.splice(r,1);break}},this.$watch=function(t,e){if(t&&"function"==typeof e){++r[t]||(r[t]=1);var i,n=this.__watches;n?(i=n[t])?i.push(e):n[t]=[e]:(this.__watches||(this.__watches={}))[t]=[e]}},this.$unwatch=function(t,e){var i,n=this.__watches;if(n)if("function"==typeof e){if(n&&(i=n[t]))for(var s=i.length;s--;)if(i[s]===e)return i.splice(s,1),void r[t]--}else if(t)(i=n[t])&&0<i.length&&(r[t]-=i.length,i.length=0,delete n[t]);else{for(t in n)(i=n[t])&&0<i.length&&(r[t]-=i.length,i.length=0);this.__watches=null}},this.$notify=function(t,e){for(var i,n,s,r,o=this;o;){if((i=this.__watches)&&(n=i[t]))for(s=0;r=n[s++];)if(!1===r.call(o,this,e))return!1;o=o.$parent}},this.$save=function(){},this.$restore=function(){},this.$changes=function(){},this.$load=function(t){if(t){var e=this.$storage||(this.$storage={});for(var i in t)(convert=this["__convert_"+i])?e[i]=convert[1]?convert[1](t[i]):t[i]:this[i]=t[i]}},this.$clear=function(t){var e,i;if(this.$storage=c(this.__defaults),t&&(e=this.$subkeys))for(var n in e)(i=this["__sub_"+n])&&(1===e[n]?i.$clear():i.clear())}}.call(Object.create(null)),function(){var n=Object.create,i=Array.prototype,s=i.push,r=i.splice,o=this;function a(t,e,i){for(var n=[],s=t.$Model,r=t.$parent,o=e.length;i<o;)item=new s(e[i++]),item.$parent=r,n.push(item);return n}function h(t,e,i,n){var s;if(s=t.__bindings)for(var r=0,o=s.length;r<o;r++)s[r][e](i,n)}yaxi.store=function(t){var e=n(o);function i(t,e){this.$parent=e||null,t&&0<t.length&&s.apply(this,a(this,arguments,0))}return e.$Model=yaxi.model(t),i.model=e.__model_type=2,i.prototype=e,i},this.length=0,this.indexOf=i.indexOf,this.lastIndexOf=i.lastIndexOf,this.forEach=i.forEach,this.map=i.map,this.reduce=i.reduce,this.reduceRight=i.reduceRight,this.$bind=function(t){(this.__bindings||(this.__bindings=[])).push(t)},this.$unbind=function(t){var e=this.__bindings;if(e)for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1),e[0]||(this.__bindings=null);break}},this.push=function(){if(0<arguments.length){var t=a(this,arguments,0);s.apply(this,t),h(this,"__model_insert",-1,t)}return this.length},this.pop=function(){var t=i.pop.call(this);return t&&(t.$parent=t.__bindings=null,h(this,"__model_remove",-1,1)),t},this.unshift=function(){if(0<arguments.length){var t=a(this,arguments,0);i.unshift.apply(this,t),h(this,"__model_insert",0,t)}return this.length},this.shift=function(){var t=i.shift.call(this);return t&&(t.$parent=t.__bindings=null,h(this,"__model_remove",0,1)),t},this.splice=function(t,e){var i;if((t|=0)<0&&(t+=this.length)<0&&(t=0),2<arguments.length?(i=a(this,arguments,2),h(this,"__model_insert",t,i=r.apply(this,[t,e].concat(i)))):i=r.apply(this,arguments),0<i.length){for(var n=i.length;n--;)i[n].$parent=i[n].__bindings=null;h(this,"__model_remove",t,i.length)}return i},this.clear=function(){var t=r.call(this,0);if(0<t.length){for(var e=t.length;e--;)t[e].$parent=null,t[e].__bindings=null;h(this,"__model_clear")}return t},this.sort=function(t){i.sort.call(this,t);for(var e=this.length;e--;)this[e].__index=e;h(this,"__model_sort",0)},this.reverse=function(){i.reverse.call(this);for(var t=this.length;t--;)this[t].__index=t;h(this,"__model_sort",1)}}.call(Object.create(null)),yaxi.Stream=Object.extend(function(o){o.fromPromise=function(t){var e=new o;return"function"==typeof t&&(t=t()),t.then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e},o.fromEvent=function(t,e,i){var n=new o;return t.addEventListener(e,function(t){n.resolve(t)},i||!1),n},o.interval=function(e){var i=new o,n=0;return function t(){setTimeout(function(){i.resolve(n++),t()},0|e)}(),i},o.all=function(){for(var i,n=new o,s=[],t=0,r=0;i=arguments[t];)r++,function(t,e){i.then(function(t){s[e]=t,--r||n.resolve(s)}).catch(function(t){n.reject(t)})}(0,t++);return n},o.ctor=function(t){0<arguments.length&&("function"==typeof t?t(this):this.__cache=[t])},this.registry=function(t){var e=this.__next=new o,i=this.__cache;if(this.__fn=t,i){for(;0<i.length;)try{t.call(this,i.shift(),e)}catch(t){this.reject(t)}this.__cache=null}return e},this.resolve=function(t){var e,i=this.__next;if(i)if(e=this.__fn)try{e.call(this,t,i)}catch(t){this.reject(t)}else i.resolve(t);else(e=this.__cache)?e.push(t):this.__cache=[t]},this.reject=function(e,i){var t=this.__fail,n=this.__next;if(t){i=!0;try{if(!1===t.call(this,e,n))return!1}catch(t){e=t.message||t||e,i=!1}}if(n)n.reject(e,i);else if(!i)throw e},this.then=function(n){return this.registry(function(t,e){if(n){var i=n(t);void 0!==i&&(t=i)}e.resolve(t)})},this.combine=function(t){return this.registry(function(i,n){t.then(function(t){var e=i;e instanceof Array?e.push(t):e=[i,t],n.resolve(e)}).catch(function(t){n.reject(t)})})},this.map=function(i){return this.registry(function(t,e){e.resolve(i(t))})},this.json=function(i){return this.registry(function(t,e){"string"==typeof t&&(t=JSON.parse(t)),i&&(t=i(t)),e.resolve(t)})},this.catch=function(t){return this.__fail=t,this.__next=new o},this.wait=function(i){var n,s=[];return this.registry(function(t,e){n?s.push(t):n=setTimeout(function(){e.resolve(s),n=0,s=[]},0|i)})},this.delay=function(i){return this.registry(function(t,e){setTimeout(function(){e.resolve(t)},0|i)})},this.debounce=function(i){var n;return this.registry(function(t,e){n&&clearTimeout(n),n=setTimeout(function(){e.resolve(t),n=0},0|i)})},this.throttle=function(i){var n;return this.registry(function(t,e){n||(e.resolve(t),n=setTimeout(function(){n=0},0|i))})}}),function(l){var c=l.http=Object.create(null);function u(t){if(!t)return"";var e,i,n=[],s=encodeURIComponent;for(var r in t)if(e=t[r],r=s(r),null!==e)switch(typeof e){case"undefined":n.push(r,"=&");break;case"boolean":case"number":n.push(r,"=",e,"&");break;case"string":case"function":n.push(r,"=",s(e),"&");break;default:if(e instanceof Array)for(var o=0,a=e.length;o<a;o++)void 0===(i=e[o])?n.push(r,"=&"):n.push(r,"=",s(i),"&");else n.push(r,"=",u(e),"&")}else n.push(r,"=null","&");return n.pop(),n.join("")}function s(t,e,i,n){var s,r,o=new l.Stream,a=o.ajax=new XMLHttpRequest;if((n=n||{}).method=t,n.url=e,n.data=i,/get|head|options/i.test(t)?i&&(e=e+(0<=e.indexOf("?")?"&":"?")+u(i),i=null):"application/x-www-form-urlencoded"===(s=n.contentType)?i=u(i):"string"!=typeof i&&(s="application/json",i=JSON.stringify(i)),n.CORS&&("withCredentials"in a?a.withCredentials=!0:(r=window.XDomainRequest)&&(a=new r)),a.onreadystatechange=function(){4===this.readyState&&(c.timeout&&(clearTimeout(c.timeout),c.timeout=0),100<=this.status&&this.status<300?this.status===c.redirectStatus?c.redirect():o.resolve(this.responseText||this.responseXML):o.reject({url:e,status:this.status,message:this.statusText||this.responseText}),this.onreadystatechange=null)},a.open(t,e,!1!==n.async),s&&a.setRequestHeader("Content-Type",s),r=n.header)for(var h in r)a.setRequestHeader(h,r[h]);return c.timeout=setTimeout(function(){a.abort(),o.reject({url:e,status:"timeout",message:c.timeoutText})},n.timeout||6e4),a.send(i),o}c.redirectStatus=299,c.timeoutText="请求超时!",c.redirect=function(){location.href="index.html"},c.send=function(t,e,i,n){return s(t||"GET",e,i,n)},c.head=function(t,e,i){return s("HEAD",t,e,i)},c.get=function(t,e,i){return s("GET",t,e,i)},c.post=function(t,e,i){return s("POST",t,e,i)},c.put=function(t,e,i){return s("PUT",t,e,i)},c.del=function(t,e,i){return s("DELETE",t,e,i)}}(yaxi),function(t){t.back="#ffffff",t.default1="#000000",t.default2="#606266",t.default3="#c0c4cc",t.default4="#e0e0e0",t.default5="#f8f8f8",t.primary1="#3a8ee6",t.primary2="#66b1ff",t.primary3="#8cc5ff",t.primary4="#b3d8ff",t.primary5="#d9ecff",t.second1="#66b1ff",t.second2="#8cc5ff",t.second3="#b3d8ff",t.second4="#d9ecff",t.second5="#e9fcff",t.success1="#5daf34",t.success2="#85ce61",t.success3="#a4da89",t.success4="#c2e7b0",t.success5="#f0f9eb",t.warning1="#cf9236",t.warning2="#ebb563",t.warning3="#f0c78a",t.warning4="#f5dab1",t.warning5="#fdf6ec",t.danger1="#dd6161",t.danger2="#f78989",t.danger3="#f9a7a7",t.danger4="#fbc4c4",t.danger5="#fef0f0",t.disabled1="#82848a",t.disabled2="#a6a9ad",t.disabled3="#bcbec2",t.disabled4="#d3d4d6",t.disabled5="#f4f4f5",t.icon1="#000000",t.icon2="#3a8ee6",t.icon3="#66b1ff",t.icon4="#5daf34",t.icon5="#cf9236",t.icon6="#dd6161",t.icon7="#82848a",t.headerBack="#f8f8f8",t.headerFont="#ffffff",t.headerBorder="#c0c4cc",t.mask="#000000",t.toastBack="#606060",t.toastFont="#ffffff",t.toastBorder="#606060",(yaxi.colors||(yaxi.colors=Object.create(null))).default=t}(yaxi.color=Object.create(null)),yaxi.Control=yaxi.Observe.extend(function(t,e){var i=yaxi.EventTarget.prototype,n=yaxi.Controls=Object.create(null);t.register=function(t){return t&&(n[this.typeName=this.prototype.typeName=t]=this),this},this.$property("id",""),this.$property("theme",""),this.$property("className",""),this.$property("disabled",!1),this.$property("lang",""),this.$property("title",""),this.$property("accessKey",""),this.$property("alt",""),this.$property("key",""),this.$property("tag",null),Object.defineProperty(this,"style",{get:function(){return this.__style||(this.__style=new yaxi.Style)}}),this.__convert_style=[0,function(t){this.__style=new yaxi.Style(t)}],this.parent=null,Object.defineProperty(this,"root",{get:function(){for(var t,e=this;t=e.parent;)e=t;return e}}),Object.defineProperty(this,"offsetTop",{get:function(){var t=this.$dom;return t?t.offsetTop:0}}),Object.defineProperty(this,"offsetLeft",{get:function(){var t=this.$dom;return t?t.offsetLeft:0}}),Object.defineProperty(this,"offsetWidth",{get:function(){var t=this.$dom;return t?t.offsetWidth:0}}),Object.defineProperty(this,"offsetHeight",{get:function(){var t=this.$dom;return t?t.offsetHeight:0}}),this.hasClass=function(t){if(t){var e=this.className;return!!e&&0<=e.indexOf(t)}return!1},this.addClass=function(t){if(t){var e=this.className;e?e.indexOf(t)<0&&(this.className=e+" "+t):this.className=t}},this.removeClass=function(t){if(t){var e=this.className;e&&(this.className=e.replace(t,"").replace(/(?:^|\s)\s+|\s$/,""))}},this.toggleClass=function(t){if(t){var e=this.className;e&&e.indexOf(t)<0?this.className=e.replace(t,"").replace(/(?:^|\s)\s+|\s$/,""):this.className=e+" "+t}},this.on=i.on,this.once=i.once,this.off=i.off,this.trigger=i.trigger,this.__set_events=!1,this.__convert_events=[0,function(t){for(var e in t)this.on(e,t[e])}],this.find=function(t){var e=t&&yaxi.Query.parse(t);return e?this.__find(e,0):null},this.__find=function(t,e){var i;switch(t[e++]){case"<":i=this.__find_up(t[e++],t[e++],!1);break;case"<<":i=this.__find_up(t[e++],t[e++],!0);break;case">":i=this.__find_down(t[e++],t[e++],!1);break;case">>":i=this.__find_down(t[e++],t[e++],!0)}return i?t[e]?i.__find(t,e):i:null},this.__find_value=function(t,e){switch(t){case"@":return this.key===e;case"&":return this instanceof(n[e]||Boolean);case"#":return this.id===e;case".":return 0<=(this.$className+(this.$storage.className||"")+" ").indexOf(e+" ")}return!1},this.__find_up=function(t,e,i){var n=this.parent;if(n)if(i){do{if(n.__find_value(t,e))return n}while(n=n.parent)}else if(n.__find_value(t,e))return n},this.__find_down=function(){return null},this.remove=function(){var t,e,i=this.parent;i&&(t=i.__children)&&0<=(e=t.indexOf(this))&&t.splice(e,1)},this.destroy=function(){var t,e;if((e=this.$dom)&&(e.$control=this.$dom=null),t=this.__bindings)for(var i in t)(e=t[i])&&(e=e.model)&&e.$unbind(i,this);if((e=this.__style)&&(e.parent=null,t=e.__bindings))for(var i in t)(e=t[i])&&(e=e.model)&&e.$unbind(i,this);this.__event_keys&&this.off(),this.ondestroy&&this.ondestroy(),this.parent=null,this.destroyed=!0};var s=document.createElement("div");function o(i,t){return"boolean"==typeof t?function(t,e){e?t.setAttribute(i,i):t.removeAttribute(i)}:function(t,e){t.setAttribute(i,e)}}yaxi.template=function(t,e){var i;t&&e&&(s.innerHTML=e,t.$template=i=s.firstChild,t.$className=i.className||"yx-control",s.removeChild(i))},this.$className="yx-control",yaxi.template(this,'<div class="yx-control"></div>'),this.render=function(){var t,e=this.$dom||(this.$dom=this.$template.cloneNode(!0));return(e.$control=this).__changes&&this.__update_patch(),(t=this.__style)&&(t.parent=this,t.__update_patch()),(t=this.__events)&&t.__update_patch(),e},this.__update_patch=function(){var t;if(t=this.__changes){var e,i,n=this.$storage,s=this.$dom;for(var r in t)n[r]=e=t[r],(i=this["__set_"+r])?i.call(this,s,e):!1!==i&&(r in s?(i=o(r,e)).call(this,s,e):i=!1,this.constructor.prototype["__set_"+r]=i);this.__changes=null}},this.__set_key=this.__set_tag=!1,this.__set_className=function(t,e){t.className=e?this.$className+" "+e:this.$className},this.__set_theme=function(t,e){t.setAttribute("theme",e)}}).register("Control"),yaxi.container=function(s,t){var n,r;(this.$property("layout",""),this.query=function(t){var e,i=yaxi.Query,n=new i,s=this.__children;return 0<s.length&&(t&&(e=i.parse(t))?0<(s=function t(e,i,n){var s,r=[],o=0;switch(i[n++]){case"<":for(;s=e[o++];)(s=s.__find_up(i[n++],i[n++],!1))&&r.push(s);break;case"<<":for(;s=e[o++];)(s=s.__find_up(i[n++],i[n++],!0))&&r.push(s);break;case">":for(;s=e[o++];)s.__query&&s.__query(r,i[n++],i[n++],!1);break;case">>":for(;s=e[o++];)s.__query&&s.__query(r,i[n++],i[n++],!0)}if(0<r.length&&i[n])return t(r,i,n);return r}([this],e,0)).length&&s.push.apply(n,s):!1===t?n.push.apply(n,s):function t(e,i){var n,s=0;for(;n=e[s++];){var r=n.__children;i.push(n),r&&0<r.length&&t(r,i)}}(s,n)),n},this.__query=function(t,e,i,n){for(var s,r=this.__children,o=0;s=r[o++];)s.__find_value(e,i)&&t.push(s),n&&s.__query&&s.__query(t,e,i,!0)},this.__find_down=function(t,e,i){for(var n,s=this.__children,r=0;n=s[r++];){if(n.__find_value(t,e))return n;if(i&&n.__children&&(n=n.__find_down(t,e,!0)))return n}},this.destroy=function(){for(var t=this.__children,e=t.length;e--;)t[e].destroy();(t=this.__loading)&&t.destroy(),(t=this.__pulldown)&&t.destroy(),s.destroy.call(this)},this.__set_layout=function(t,e){t.setAttribute("layout",e)},this.render=function(){var t,e=s.render.call(this),i=this.__children,n=0;for(i.__patch=1;t=i[n++];)e.appendChild(t.render());return(t=this.__loading)&&(t.show(e),t.load&&(t.index=0,t.load.call(this,t))),e},t)||(Object.defineProperty(this,"loading",{get:function(){return this.__loading},set:function(t){if(t){var e;if("function"==typeof t)(e=new yaxi.Loading).load=t;else{if("function"!=typeof t.load)throw"loading load must be a function!";t instanceof yaxi.Loading||(e=new yaxi.Loading(t))}this.__loading=e,this.on("scroll",i)}else this.off("scroll",i)}}),Object.defineProperty(this,"pulldown",{get:function(){return this.__pulldown},set:function(t){if(t){var e;if("function"==typeof t)(e=new yaxi.Pulldown).refresh=t;else{if("function"!=typeof t.refresh)throw"pulldown refresh must be a function!";t instanceof yaxi.Pulldown||(e=new yaxi.Pulldown(t))}this.__pulldown=e,this.on("touchmove",o),this.on("touchend",a),this.on("touchcancel",a)}else this.off("touchmove",o),this.off("touchend",a),this.off("touchcancel",a)}}));function i(t){var e=this.__loading;!n&&e&&!e.completed&&this.scrollTop+(this.offsetHeight<<1)>this.scrollHeight&&(e.index++,e.load.call(this,e))}function o(t){var e=t.start;if(n){if(n.$dom)return n.move(t.distanceY),t.stop(),!1;n=null}if(!e.swipe&&this.pulldown&&this.$dom.scrollTop<1&&16<t.distanceY&&t.distanceY>t.distanceX+4){var i=this.$dom.style;return e.swipe=2,e.control=this,e.screenX=t.screenX,e.screenY=t.screenY,r=i.overflowY,i.overflowY="hidden",(n=this.pulldown).start(this),t.stop(),!1}}function a(t){if(n){if(this.$dom.style.overflowY=r||"",n.$dom)return n.stop()&&n.refresh.call(this,n),n=null,t.stop(),!1;n=null}}},yaxi.Panel=yaxi.Control.extend(function(t,e){var i=Object.create;yaxi.template(this,'<div class="yx-control yx-panel"></div>'),t.ctor=function(t){this.$storage=i(this.__defaults),this.__children=new yaxi.ControlCollection(this),t&&this.__init(t)},Object.defineProperty(this,"children",{get:function(){return this.__children},set:function(t){var e=this.__children;0<e.length&&e.clear(),t&&0<t.length&&e.push.apply(e,t)}}),this.__convert_children=[0,function(t){t&&0<t.length&&this.__children.__init(this,t)}],this.__child_class=yaxi.Control,yaxi.container.call(this,e)}).register("Panel"),yaxi.Button=yaxi.Control.extend(function(t,e){t["en-US"]={OK:"OK",Cancel:"Cancel",Yes:"Yes",No:"No"},t["zh-CN"]={OK:"确定",Cancel:"取消",Yes:"是",No:"否"},t["zh-TW"]={OK:"確定",Cancel:"取消",Yes:"是",No:"否"},yaxi.template(this,'<button type="button" class="yx-control yx-button"></button>'),this.$property("text",""),this.__set_text=function(t,e){t.textContent=e}}).register("Button"),yaxi.Carousel=yaxi.Panel.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-panel yx-carousel"></div>')}).register("Carousel"),yaxi.ControlCollection=Object.extend.call({},function(t){var i=Array.prototype,n=i.push,o=i.splice,a=yaxi.__add_patch;function l(t,e,i,n){var s;if(n)if(n.$storage){if(n instanceof e)return n.destroyed?void console.error("对象已经被销毁,不能够再使用!"):((s=n.parent)&&s!==t&&n.remove(),n.parent=t,n.__last_index=null,n)}else(s=new(n.Class||i)).parent=t,s.__init(n);else(s=new i).parent=t;if(s&&s instanceof e)return s;throw'not a valid subtype "'+e.typeName+'"!'}function h(t,e,i,n){for(var s,r=t.owner,o=r.__child_class,a=r.subtype||yaxi.Control,h=e.length;i<h;)(s=l(r,o,a,e[i++]))&&n.push(s);return n}t.ctor=function(t,e){this.owner=t,e&&0<e.length&&this.__init(t,e)},this.length=0,this.indexOf=i.indexOf,this.lastIndexOf=i.lastIndexOf,this.forEach=i.forEach,this.map=i.map,this.reduce=i.reduce,this.reduceRight=i.reduceRight,this.__init=function(t,e){for(var i,n=t.__child_class,s=t.subtype||yaxi.Control,r=0,o=0,a=e.length;o<a;o++)(i=l(t,n,s,e[o]))&&(this[r++]=i);this.length=r},this.push=function(){if(0<arguments.length){var t,e=h(this,arguments,0,[]);return this.__patch&&((t=this.__changes)?t.push.apply(t[1],e):(this.__changes=[0,e],a(this))),n.apply(this,e)}return this.length},this.pop=function(){var t,e=i.pop.call(this);return e&&(e.parent=null,this.__patch&&((t=this.__changes)?t.push(e):(this.__changes=[0,[],e],a(this)))),e},this.unshift=function(){if(0<arguments.length){var t,e=h(this,arguments,0,[]);return this.__patch&&((t=this.__changes)?(t[0]=1,t.push.apply(t[1],e)):(this.__changes=[1,e],a(this))),i.unshift.apply(this,e)}return this.length},this.shift=function(){var t,e=i.shift.call(this);return e&&(e.parent=null,this.__patch&&((t=this.__changes)?(t[0]=1,t.push(e)):(this.__changes=[1,[],e],a(this)))),e},this.splice=function(t,e){var i,n=this.__patch,s=n&&this.__changes;if(0<(i=2<arguments.length?(i=h(this,arguments,2,[t,e]),n&&(s?(s[0]=1,s.push.apply(s[1],i.slice(2))):(this.__changes=s=[1,i.slice(2)],a(this))),o.apply(this,i)):o.apply(this,arguments)).length){for(var r=i.length;r--;)i[r].parent=null;n&&(s?(s[0]=1,s.push.apply(s,i)):(this.__changes=[1,[]].concat(i),a(this)))}return i},this.clear=function(){var t,e=o.call(this,0);return 0<e.length&&this.__patch&&((t=this.__changes)?(t[0]=0,t.push.apply(t,e)):(this.__changes=[0,[]].concat(e),a(this))),e},this.sort=function(t){var e;return 0<this.length&&(i.sort.call(this,t),this.__patch&&((e=this.__changes)?e[0]=1:(this.__changes=[1,[]],a(this)))),this},this.reverse=function(){var t;return 0<this.length&&(i.reverse.call(this),this.__patch&&((t=this.__changes)?t[0]=1:(this.__changes=[1,[]],a(this)))),this},this.__update_patch=function(){var t,e;(t=this.__changes)&&(2<t.length&&this.__remove_patch(t),0<t[1].length&&(e=this.owner.$dom)&&this.__insert_patch(t[1],e),t[0]&&(e||(e=this.owner.$dom))&&this.__sort_patch(e),this.__changes=null)},this.__insert_patch=function(t,e){for(var i=e.lastChild,n=0,s=t.length;n<s;n++){var r=t[n];r.parent===this&&e.appendChild(r.$dom||r.render())}i.$control instanceof yaxi.Loading&&e.appendChild(i)},this.__remove_patch=function(t){for(var e,i,n,s=2,r=t.length;s<r;s++)(e=t[s])!==this&&((i=e.$dom)&&(n=i.parentNode)&&n.removeChild(i),e.parent||e.cached||e.destroyed||e.destroy())},this.__sort_patch=function(t){for(var e,i,n=0,s=t.firstChild;i=this[n++];)(e=i.$dom)===s?s=e.nextSibling:t.insertBefore(e,s)}}),yaxi.HtmlControl=yaxi.Control.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-htmlcontrol"></div>'),this.$property("html",""),this.__set_html=function(t,e){t.innerHTML=e}}).register("HtmlControl"),yaxi.Icon=yaxi.Control.extend(function(){yaxi.template(this,'<span class="yx-control yx-icon"></span>'),this.$property("icon",""),this.$property("svg",""),this.$property("fill",""),this.__set_icon=function(t,e){t.classList;var i=this.__icon_;i&&t.classList.remove(i),(this.__icon_=e)&&t.classList.add(e)},this.__set_svg=function(t,e){t.innerHTML=e?'<svg aria-hidden="true"><use xlink:href="#'+e.replace(/[<>"']/g,"")+'"></use></svg>':""},this.__set_fill=function(t,e){(t=t.firstChild)&&(t.style.fill=e)}}).register("Icon"),yaxi.IconButton=yaxi.Control.extend(function(t,e){yaxi.template(this,'<span class="yx-control yx-iconbutton"><span class="yx-icon"></span><span></span></span>'),this.$property("text",""),this.$property("icon",""),this.$property("svg",""),this.$property("fill",""),this.$property("size",""),this.__set_text=function(t,e){t.lastChild.textContent=e},this.__set_icon=function(t,e){var i=t.firstChild.classList,n=this.__icon_;n&&i.remove(n),(this.__icon_=e)&&i.add(e)},this.__set_svg=function(t,e){t.firstChild.innerHTML=e?'<svg aria-hidden="true"><use xlink:href="#'+e.replace(/[<>"']/g,"")+'"></use></svg>':""},this.__set_fill=function(t,e){(t=t.firstChild.firstChild)&&(t.style.fill=e)},this.__set_size=function(t,e){t.firstChild.style.fontSize=e}}).register("IconButton"),yaxi.Image=yaxi.Control.extend(function(){yaxi.template(this,'<img class="yx-control yx-image"></img>'),this.$property("src","")}).register("Image"),yaxi.Loading=yaxi.Control.extend(function(i){i["en-US"]={end:"no more data",empty:"no data",loading:"loading, please wait..."},i["zh-CN"]={end:"没有更多数据了",empty:"无数据",loading:"正在加载, 请稍候..."},i["zh-TW"]={end:"沒有更多數據了",empty:"無數據",loading:"正在加載, 請稍候..."},yaxi.template(this,'<div class="yx-loading"><span class="yx-loading-img"></span><span></span></div>'),this.$property("emptyText",""),this.$property("endText",""),this.$property("loadingText",""),this.show=function(t){var e=this.$dom||this.render();this.index=0,this.completed=!1,e.firstChild.style.display="",e.lastChild.innerHTML=this.loadingText||i[yaxi.language].loading,(t.$dom||t).appendChild(e)},this.done=function(t){var e=i[yaxi.language];this.completed=!0,this.$dom.firstChild.style.display="none",this.$dom.lastChild.innerHTML=t?this.emptyText||e.empty:this.endText||e.end},this.hide=function(){var t,e=this.$dom;e&&(t=e.parentNode)&&t.removeChild(e)}}).register("Loading"),yaxi.ProgressBar=yaxi.Control.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-progressbar"><div></div></div>'),this.$property("value",0),this.__set_value=function(t,e){t.firstChild.style.width=e+"%"}}).register("ProgressBar"),yaxi.Pulldown=yaxi.Control.extend(function(r){r["en-US"]={pulldown:"pulldown to refresh",release:"release refresh",loading:"loading, please wait..."},r["zh-CN"]={pulldown:"下拉刷新",release:"放开刷新",loading:"正在加载, 请稍候..."},r["zh-TW"]={pulldown:"下拉重繪",release:"放開重繪",loading:"正在加載, 請稍候..."},yaxi.template(this,'<div class="yx-control yx-pulldown" style="height:0;"><span class="yx-pulldown-body"><svg aria-hidden="true"><use xlink:href="#icon-pulldown"></use></svg><span class="yx-loading-img" style="display:none;"></span><span></span></span></div>'),this.$property("pulldownText",""),this.$property("releaseText",""),this.$property("loadingText",""),this.start=function(t){var e=this.$dom||this.render(),i=e.style;(t=t.$dom||t).insertBefore(e,t.firstChild),(e=e.firstChild.firstChild).style.display="",e.nextSibling.style.display="none",i.transition="",i.height=0},this.move=function(t){var e,i,n=this.$dom,s=n.style;s.height=t<=0?(this.ready=!1,0):(i=(this.ready=t>=.8*yaxi.rem)?(e="rotateZ(180deg)",this.releaseText||r[yaxi.language].release):(e="",this.pulldownText||r[yaxi.language].pulldown),(n=n.firstChild).firstChild.style.transform=e,n.lastChild.innerHTML=i,t+"px")},this.stop=function(){var t=this.$dom,e=t.style;if(e.transition="height 600ms ease",this.ready)return e.height=".5rem",(t=t.firstChild.firstChild).style.display="none",(t=t.nextSibling).style.display="",(t=t.nextSibling).innerHTML=this.loadingText||r[yaxi.language].loading,!0;e.height=0,setTimeout(this.hide.bind(this),600)},this.hide=function(){var t,e=this.$dom;e&&(t=e.parentNode)&&t.removeChild(e)}}).register("Pulldown"),yaxi.Query=Object.extend.call(Array,function(t,e){var s=Object.create(null);function r(t,e){throw'selector is invalid! at "'+t.slice(0,e).join("")+'"'}t.parse=function(t){return t?s[t]||function(t){for(var e,i=t.match(/\"[^"]*\"|\<{1,2}|\>{1,2}|[#.@=\[\]]|[^<>#.@=\[\]\s]+/g),n=0;e=i[n++];)switch(e){case"<":case"<<":case">":case">>":(e=i[n++])?("#.@".indexOf(e[0])<0&&i.splice(n-1,0,"&"),(e=i[n++])?/\W/.test(e[0])&&r(i,n):r(i,n)):r(i,n);break;default:r(i,n)}return s[t]=i}(t):null},this.find=function(t){var e=t[0];switch(e){case"@":case"#":case".":t=t.substring(1)}for(var i=this.length;i--;)this[i].__find_value(e,t)||this.splice(i,1);return this},this.get=function(t){for(var e,i=0;e=this[i++];)if(void 0!==(e=e[t]))return e},this.set=function(t,e){for(var i,n=0;i=this[n++];)i[t]=e;return this},this.call=function(t,e){for(var i,n=0;i=this[n++];){var s=i[t];s&&(e?s.call(i):s.apply(i,e))}return this},this.hasClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.hasClass(t))return!0;return!1},this.addClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.addClass(t))return!0;return this},this.removeClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.removeClass(t))return!0;return this},this.toggleClass=function(t){if(t)for(var e,i=0;e=this[i++];)if(e.toggleClass(t))return!0;return this},this.style=function(t,e){for(var i,n=0;i=this[n++];)i.style[t]=e;return this},this.on=function(t,e){for(var i,n=0;i=this[n++];)i.on(t,e);return this},this.off=function(t,e){for(var i,n=0;i=this[n++];)i.off(t,e);return this},this.trigger=function(t,e){for(var i,n=0;i=this[n++];)i.trigger(t,e);return this},this.remove=function(){for(var t,e=0;t=this[e++];)t.remove();return this}}),yaxi.Repeater=yaxi.Control.extend(function(t,e){var i=Object.create;yaxi.template(this,'<div class="yx-control yx-repeater"></div>'),t.ctor=function(t){this.$storage=i(this.__defaults),this.__children=new yaxi.ControlCollection(this),t&&this.__init(t)},this.template=null,this.__convert_template=[0,function(t){this.template=t}],this.store=null,this.__convert_store=[0,function(t){var e=null;t&&(e=t&&2===t.__model_type?t:this.__find_model(t))&&e.bind(this),this.store=e}],this.template=null,this.__convert_template=[0,function(t){if(this.template=t){var e=this.store;(this.__subtype=t.Class)?delete t.Class:this.__subtype=yaxi.Panel,e&&0<e.length&&this.__model_insert(0,e)}}],this.store=null,this.__convert_store=[0,function(t){var e=null;t&&(e=t&&2===t.__model_type?t:this.__find_store(t)),e?(e.$bind(this),0<e.length&&this.__model_insert(0,e)):this.store&&e.$unbind(this),this.store=e}];var l=yaxi.__add_patch;function n(t,e){return t.model.__index-e.model.__index||0}this.__model_insert=function(t,e){var i=this.template;if(i){for(var n,s=this.__subtype,r=this.__children,o=[],a=0,h=o.length=e.length;a<h;a++)(n=o[a]=new s).parent=this,n.model=e[a],n.__init(i);t<0?o.push.apply(r,o):o.splice.apply(r,[t,0].concat(o)),r.__patch&&((n=r.__changes)?(0<=t&&(n[0]=1),n.push.apply(n[1],o)):(r.__changes=t<0?[0,o]:[1,o],l(r)))}},this.__model_remove=function(t,e){this.__children.splice(t,e)},this.__model_clear=function(){this.__children.clear()},this.__model_sort=function(){this.__children.sort(n)},yaxi.container.call(this,e)}).register("Repeater"),yaxi.Slider=yaxi.Control.extend(function(t,e){var i=Object.create,n='<svg class="yx-slider-thumb" aria-hidden="true"><use xlink:href="#icon-circle"></use></svg>';yaxi.template(this,'<div class="yx-control yx-slider"><div class="yx-slider-line"></div><div class="yx-slider-body">'+n+"</div>"),t.ctor=function(t){this.$storage=i(this.__defaults),t&&this.__init(t),this.on("touchstart",r),this.on("touchmove",o),this.on("touchend",a),this.on("touchcancel",h)},this.$property("min",0),this.$property("max",100),this.$property("value",0),this.$property("step",1),this.$property("steps",null),this.$property("force",!0),this.$property("space",""),this.__set_value=function(t,e){var i=this.min;t.lastChild.lastChild.style.left=100*(e-i)/(this.max-i)+"%"},this.__set_steps=function(t,e){e=e&&0<e.length?function(t){for(var e=[],i=this.min,n=this.max-i,s=0,r=t.length;s<r;s++)e.push('<svg class="yx-slider-node" aria-hidden="true" style="left:',100*(t[s]-i)/n,'%;"><use xlink:href="#icon-hollow-circle"></use></svg>');return e.join("")}.call(this,e):"",t.lastChild.innerHTML=e+n},this.__set_space=function(t,e){for(t=t.firstChild;t;)t.style.left=t.style.right=e,t=t.nextSibling};var s={};function r(t){var e=t.dom,i=this.$dom.lastChild;for(s.left=i.getBoundingClientRect().left,s.width=i.offsetWidth;e&&e!==i;){if(e.classList&&e.classList.contains("yx-slider-thumb"))return s.thumb=e,t.stop(),!1;e=e.parentNode}}function o(t){var e=s.thumb;if(e)return e.style.left=100*(t.clientX-s.left)/s.width+"%",t.stop(),!1}function a(t){var e,i=(t.clientX-s.left)/s.width;if(s.thumb=null,i<0?i=0:1<i&&(i=1),i=(e=this.min)+(this.max-e)*i,(e=this.step)&&(i=e*Math.round(i/e)),this.force&&(e=this.steps))for(var n=e.length;n--;)if(0===n||i>=e[n]-(e[n]-e[n-1]>>1)){i=e[n];break}return this.$storage.value!==i?(this.value=i,this.trigger("change",{value:i})):this.__set_value(this.$dom,i),t.stop(),!1}function h(){this.__set_value(this.$dom,this.value)}}).register("Slider"),yaxi.SwipePanel=yaxi.Panel.extend(function(t,e){function i(){var t,e=this.__children[this.index+1];if(swipe=!1,e&&(t=e.lazy)&&!e.__lazyed){if("function"==typeof t)t.call(e);else for(var i in t)e[i]=t[i];e.__lazyed=!0}}function n(t){var e=t.start;switch(e.swipe){case 1:return o.call(this,t),t.stop(),!1;case 2:return;default:var i=t.distanceX,n=t.distanceY;if(n=n<0?-n:n,16<(i=i<0?-i:i)&&n+4<i)return e.swipe=1,e.control=this,e.screenX=t.screenX,e.screenY=t.screenY,o.call(this,t),t.stop(),!1}}function s(t){}function r(t){}function o(t){this.index;t.distanceX<0||this.__children.length}yaxi.template(this,'<div class="yx-control yx-panel yx-swipepanel"></div>'),t.ctor=function(t){e.constructor.ctor.call(this,t),this.index=0,this.on("touchstart",i),this.on("touchmove",n),this.on("touchend",s),this.on("touchcancel",r)}}).register("SwipePanel"),yaxi.Tab=yaxi.Panel.extend(function(t,e){yaxi.template(this,'<div class="yx-control yx-panel yx-tab"></div>'),t.ctor=function(t){e.constructor.ctor.call(this,t),this.on("tap",function(t){var e=t.target;for(;e&&e!==this;){if(e.parent===this){if("primary"!==e.theme){for(var i,n=this.children,s=n.length;s--;)if((i=n[s])&&"primary"===i.theme){i.theme="";break}e.theme="primary",this.trigger("selected-change",{current:e,last:i})}break}e=e.parent}}.bind(this))}}).register("Tab"),yaxi.Text=yaxi.Control.extend(function(){yaxi.template(this,'<span class="yx-control yx-text"></span>'),this.$property("text",""),this.__set_text=function(t,e){t.textContent=e}}).register("Text"),yaxi.TextBox=yaxi.Control.extend(function(){yaxi.template(this,'<span class="yx-control yx-textbox"><input type="text" /></span>'),this.$property("text",""),this.$property("placeholder",""),Object.defineProperty(this,"displayText",{get:function(){var t=this.$dom;return t?t.firstChild.value:""}}),this.__set_text=function(t,e){t.firstChild.value=e},this.__set_placeholder=function(t,e){t.firstChild.placeholder=e},this.__on_change=function(){this.text=this.$dom.firstChild.value}}).register("TextBox"),yaxi.CheckBox=yaxi.Control.extend(function(t,e){yaxi.template(this,'<span class="yx-control yx-checkbox"><svg aria-hidden="true"><use xlink:href="#icon-checkbox-uncheck"></use></svg><span></span></span>'),this.$property("text",""),this.$property("fill",""),this.$property("checked",!1),this.__set_text=function(t,e){t.lastChild.textContent=e},this.__set_checked=function(t,e){t.firstChild.firstChild.setAttribute("xlink:href","#icon-checkbox-"+(e?"checked":"uncheck"))},this.__set_fill=function(t,e){t.firstChild.style.fill=e},this.__on_tap=function(){this.checked=!this.checked,this.trigger("change")}}).register("CheckBox"),yaxi.Memo=yaxi.Control.extend(function(){yaxi.template(this,'<span class="yx-control yx-memo"><textarea></textarea></span>'),this.$property("text",""),this.$property("placeholder",""),Object.defineProperty(this,"displayText",{get:function(){var t=this.$dom;return t?t.firstChild.value:""}}),this.__set_text=function(t,e){t.firstChild.value=e},this.__set_placeholder=function(t,e){t.firstChild.placeholder=e},this.__on_change=function(){this.text=this.$dom.firstChild.value}}).register("Memo"),yaxi.Number=yaxi.TextBox.extend(function(){yaxi.template(this,'<span class="yx-control yx-textbox yx-number"><input type="number" /></span>')}).register("Number"),yaxi.Password=yaxi.TextBox.extend(function(){yaxi.template(this,'<span class="yx-control yx-textbox yx-password"><input type="password" /><span><svg aria-hidden="true"><use xlink:href="#icon-eye-close"></use></svg></span></span>'),this.$property("type",""),this.__set_type=function(t,e){t.lastChild.className=e?"yx-password-"+e:""},this.__on_tap=function(t){for(var e,i=this.$dom;t&&t!==i;){if("SPAN"===t.tagName)return e="text"===(i=i.firstChild).type?(i.type="password","eye-close"):(i.type="text","eye-open"),void t.firstChild.firstChild.setAttribute("xlink:href","#icon-"+e);t=t.parentNode}}}).register("Password"),yaxi.RadioButton=yaxi.Control.extend(function(t,e){yaxi.template(this,'<span class="yx-control yx-radiobutton"><svg aria-hidden="true"><use xlink:href="#icon-radio-uncheck"></use></svg><span></span></span>'),this.$property("text",""),this.$property("fill",""),this.$property("checked",!1),this.__set_text=function(t,e){t.lastChild.textContent=e},this.__set_checked=function(t,e){t.firstChild.firstChild.setAttribute("xlink:href","#icon-radio-"+(e?"checked":"uncheck"))},this.__set_fill=function(t,e){t.firstChild.style.fill=e},this.__on_tap=function(){this.checked=!this.checked,this.trigger("change")}}).register("RadioButton"),yaxi.SwitchButton=yaxi.Control.extend(function(t,e){yaxi.template(this,'<span class="yx-control yx-switchbutton"><span class="yx-switchbutton-bar"></span><span class="yx-switchbutton-button"></span></span>'),this.$property("checked",!1),this.__set_checked=function(t,e){var i=t.classList;e?i.add("yx-switchbutton-checked"):i.remove("yx-switchbutton-checked")},this.__on_tap=function(){this.checked=!this.checked,this.trigger("change")}}).register("SwitchButton"),yaxi.Page=yaxi.Control.extend(function(s,i){var e=Object.create;function n(t){t.target.blur(),r()}function r(){document.removeEventListener("focus",n,!0),n.enabled=0}s.all=function(){for(var t=[],e=s.current;e;)t.push(e),e=e.opener;return t.reverse()},s.close=function(t,e){var i;for(t="string"==typeof t?(e=t,1):t||1;0<t&&(i=s.current);)i.close(e),t--;return s.current},s.closeTo=function(t,e){var i=s.all();t|=0;for(var n=i.length-1;t<n;n--)i[n].close(e||"OK");return i[t]},s.closeAll=function(t){for(var e;e=s.current;)e.close(t||"OK")},yaxi.template(this,'<div class="yx-control yx-page"></div>'),s.ctor=function(t){this.$storage=e(this.__defaults),this.key="page",this.__children=[],t&&this.__init(t)},this.header=null,this.content=null,this.footer=null,this.$property("autoDestroy",!0),this.__convert_header=[0,function(t){var e;(e=t&&"object"==typeof t?new(t.Class||yaxi.Panel)(t):new yaxi.Panel({children:[{Class:yaxi.BackButton},{Class:yaxi.Title,text:t}]})).parent=this,e.key="page-header",e.$className="yx-header",this.__children.push(this.header=e)}],this.__convert_content=[0,function(t){var e;t&&"object"==typeof t?e=new(t.Class||yaxi.Panel)(t):(e=new yaxi.Text).text=t,e.parent=this,e.key="page-content",e.$className="yx-content",this.__children.push(this.content=e)}],this.__convert_footer=[0,function(t){var e;t&&"object"==typeof t?e=new(t.Class||yaxi.Panel)(t):(e=new yaxi.Text).text=t,e.parent=this,e.key="page-footer",e.$className="yx-footer",this.__children.push(this.footer=e)}],this.__find_up=function(){return null},yaxi.container.call(this,i,!0),this.open=function(t){var e=s.current||null;if(!1===this.onopening(t))return!1;var i=this.$dom||this.render();return document.body.appendChild(i),(s.current=this).opener=e,this.onopened(t),this.onshow(),n.enabled||(document.addEventListener("focus",n,!0),n.enabled=1),setTimeout(r,300),e&&(e.$dom.style.display="none",e.onhide()),this.trigger("opened"),!0},this.close=function(t){if(!1===this.onclosing(t))return!1;var e=this.opener||null,i=this.$dom;return this.onhide(),this.onclosed(t),this.opener=null,i.parentNode&&i.parentNode.removeChild(i),e&&(e.$dom.style.display="",e.onshow()),s.current=e,this.trigger("closed",{closeType:t}),yaxi.toast.hide(),this.autoDestroy&&setTimeout(this.destroy.bind(this),100),!0},this.onopening=function(t){},this.onopened=function(t){},this.onclosing=function(t){},this.onclosed=function(t){},this.onshow=function(){},this.onhide=function(){},this.destroy=function(){var t;(t=this.footer)&&t.destroy(),(t=this.content)&&this.content.destroy(),(t=this.header)&&t.destroy(),i.destroy.call(this)},this.render=function(){var t,e=i.render.call(this);return(t=this.header)&&((t=t.render()).classList.add("yx-header"),e.appendChild(t)),(t=this.content)&&((t=t.render()).classList.add("yx-content"),e.appendChild(t)),(t=this.footer)&&((t=t.render()).classList.add("yx-footer"),e.appendChild(t)),e}}).register("Page"),yaxi.BackButton=yaxi.Control.extend(function(t,e){var i=Object.create;yaxi.template(this,'<span class="yx-control yx-backbutton yx-icon"><svg aria-hidden="true"><use xlink:href="#icon-back"></use></svg></span>'),t.ctor=function(t){this.$storage=i(this.__defaults),t&&this.__init(t),this.on("tap",function(t){var e,i=this;for(;e=i.parent;)i=e;i.close("BACK")}.bind(this))}}).register("BackButton"),yaxi.Dialog=yaxi.Page.extend(function(t,e){var s=[],n="touchstart",r=document.createElement("div");function o(t){var e=s[s.length-1];if(e){for(var i=e.$dom,n=t.target;n;){if(n===i)return;n=n.parentNode}return e.autoClose&&e.close(),t.stopImmediatePropagation(),!1}}function a(){var t,e=s[s.length-1];if(e&&(t=e.$dom)){var i=t.style;i.top=(window.innerHeight-t.offsetHeight>>1)+"px",i.left=(window.innerWidth-t.offsetWidth>>1)+"px"}}r.className="yx-mask",yaxi.template(this,'<div class="yx-control yx-dialog"></div>'),this.$property("autoClose",!1),this.__template_header=function(t){return{Class:yaxi.Title,text:t}},this.open=function(t){if(0<=s.indexOf(this)||!1===this.onopening(t))return!1;document.body.appendChild(r),document.body.appendChild(this.$dom||this.render());var e=document.activeElement;return e&&e.blur(),this.onopened(t),this.onshow(),this.trigger("opened"),s.push(this),a.call(this),s[1]||(document.addEventListener(n,o,!0),window.addEventListener("resize",a,!0)),!0},this.close=function(t){var e=s.indexOf(this);if(e<0||!1===this.onclosing(t))return!1;var i=this.$dom;i&&i.parentNode&&i.parentNode.removeChild(i),(i=r.parentNode)&&i.removeChild(r),s.splice(e,1),s[0]?a():(document.removeEventListener(n,o,!0),window.removeEventListener("resize",a,!0)),this.onhide(),this.onclosed(t),this.trigger("closed",{closeType:t}),this.autoDestroy&&this.destroy()}}).register("Dialog"),yaxi.FloatLayer=yaxi.Panel.extend(function(t,e){var s=[];document.addEventListener("touchstart",function(t){var e=s[s.length-1];if(e){for(var i=e.$dom,n=t.target;n;){if(n===i)return;n=n.parentNode}return e.close(),t.stopPropagation(),t.preventDefault(),!1}},!0),this.show=function(t,e){var i=t.getBoundingClientRect(),n=e?0|e.x:0,s=e?0|e.y:0;this.showAt(i.left+n,i.top+t.offsetHeight+s)},this.showAt=function(t,e){if(s.indexOf(this)<0){var i=this.$dom;i||(i=this.$dom=this.render()).classList.add("yx-floatlayer"),style=i.style,style.left=0<t?t+"px":t,style.top=0<e?e+"px":e,document.body.appendChild(i),s.push(this)}},this.close=function(){var t,e;s.pop()&&(e=this.$dom)&&(t=e.parentNode)&&t.removeChild(e)}}).register("FloatLayer"),yaxi.showMessage=function(t){var i,e,n,s=yaxi.Button;return(e=(t="string"==typeof t?{header:t}:t||{}).content)&&"string"==typeof e&&(e=[{Class:yaxi.HtmlControl,html:e}]),n=t.callback,t={className:"yx-messagebox",header:t.header||yaxi.showMessage.header,content:{layout:"row",style:{alignItems:"center",wordBreak:"break-word"},children:e},footer:{subtype:s,children:t.buttons||[{key:"OK",text:s[yaxi.language].OK}],events:{tap:function(t){var e=t.target;e===this||!e.key||n&&!1===n.call(i,e)||i.close()}}}},(i=new yaxi.Dialog(t)).open(),i},yaxi.prompt=function(t){var e=t&&t.callback,i=yaxi.Button[yaxi.language];return t=t||{},e&&(t.callback=function(t){return e.call(this,this.content.findByKey("input").displayText,t)}),t.content=[{Class:t.control||(t.password?yaxi.Password:yaxi.TextBox),key:"input",text:t.value||"",style:{width:"100%",margin:".3rem 0 .2rem",borderStyle:"none none solid none"}}],t.buttons||(t.buttons=[{theme:"primary",key:"OK",text:i.OK},{key:"Cancel",text:i.Cancel}]),yaxi.showMessage(t)},yaxi.Title=yaxi.Control.extend(function(t){yaxi.template(this,'<div class="yx-control yx-title"></div>'),this.$property("text",""),this.__set_text=function(t,e){t.textContent=e}}).register("Title"),function(){var i,n=document.createElement("div"),s=document.createElement("div");function e(t){var e=n.style;switch(r(),n.innerHTML=(t.loading?'<span class="yx-toast-loading"></span>':"")+"<span>"+t.text+"</span>",(t.mask||t.loading&&!1!==t.mask)&&document.body.appendChild(s),document.body.appendChild(n),e.cssText=t.style||"",e.left=(window.innerWidth-n.offsetWidth>>1)+"px",t.position){case"top":e.top=null==t.offset?".8rem":t.offset;break;case"bottom":e.bottom=null==t.offset?".8rem":t.offset;break;default:e.top=(window.innerHeight-n.offsetHeight>>1)+"px"}i=setTimeout(r,t.time||2500)}function r(){var t;i=0,(t=n.parentNode)&&t.removeChild(n),(t=s.parentNode)&&t.removeChild(s)}n.className="yx-toast",s.className="yx-mask",this.toast=function(t){i&&clearTimeout(i),t&&("string"==typeof t&&(t={text:t}),0<t.delay?i=setTimeout(function(){e(t)},t.delay):e(t))},this.toast.hide=function(){i&&clearTimeout(i),r()}}.call(yaxi);